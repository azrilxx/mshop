"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/seed-database/route";
exports.ids = ["app/api/seed-database/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fseed-database%2Froute&page=%2Fapi%2Fseed-database%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fseed-database%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fseed-database%2Froute&page=%2Fapi%2Fseed-database%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fseed-database%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_runner_workspace_app_api_seed_database_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/seed-database/route.ts */ \"(rsc)/./app/api/seed-database/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/seed-database/route\",\n        pathname: \"/api/seed-database\",\n        filename: \"route\",\n        bundlePath: \"app/api/seed-database/route\"\n    },\n    resolvedPagePath: \"/home/runner/workspace/app/api/seed-database/route.ts\",\n    nextConfigOutput,\n    userland: _home_runner_workspace_app_api_seed_database_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/seed-database/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzZWVkLWRhdGFiYXNlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzZWVkLWRhdGFiYXNlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc2VlZC1kYXRhYmFzZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNLO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2d4LXNhYXMtbXZwLz84NmNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvYXBwL2FwaS9zZWVkLWRhdGFiYXNlL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zZWVkLWRhdGFiYXNlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc2VlZC1kYXRhYmFzZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc2VlZC1kYXRhYmFzZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvYXBwL2FwaS9zZWVkLWRhdGFiYXNlL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zZWVkLWRhdGFiYXNlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fseed-database%2Froute&page=%2Fapi%2Fseed-database%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fseed-database%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/seed-database/route.ts":
/*!****************************************!*\
  !*** ./app/api/seed-database/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _scripts_init_database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../scripts/init-database */ \"(rsc)/./scripts/init-database.ts\");\n\nasync function POST() {\n    try {\n        await (0,_scripts_init_database__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        return Response.json({\n            message: \"Database seeded successfully\"\n        });\n    } catch (error) {\n        console.error(\"Seeding error:\", error);\n        return Response.json({\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET() {\n    return Response.json({\n        message: \"Database seeding endpoint. Use POST to seed database.\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3NlZWQtZGF0YWJhc2Uvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ3lEO0FBRWxELGVBQWVDO0lBQ3BCLElBQUk7UUFDRixNQUFNRCxrRUFBWUE7UUFDbEIsT0FBT0UsU0FBU0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7UUFBK0I7SUFDakUsRUFBRSxPQUFPQyxPQUFZO1FBQ25CQyxRQUFRRCxLQUFLLENBQUMsa0JBQWtCQTtRQUNoQyxPQUFPSCxTQUFTQyxJQUFJLENBQUM7WUFBRUUsT0FBT0EsTUFBTUQsT0FBTztRQUFDLEdBQUc7WUFBRUcsUUFBUTtRQUFJO0lBQy9EO0FBQ0Y7QUFFTyxlQUFlQztJQUNwQixPQUFPTixTQUFTQyxJQUFJLENBQUM7UUFDbkJDLFNBQVM7SUFDWDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2d4LXNhYXMtbXZwLy4vYXBwL2FwaS9zZWVkLWRhdGFiYXNlL3JvdXRlLnRzPzE2ZGEiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgaW5pdERhdGFiYXNlIGZyb20gJy4uLy4uLy4uL3NjcmlwdHMvaW5pdC1kYXRhYmFzZSdcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QoKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgaW5pdERhdGFiYXNlKClcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdEYXRhYmFzZSBzZWVkZWQgc3VjY2Vzc2Z1bGx5JyB9KVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignU2VlZGluZyBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICByZXR1cm4gUmVzcG9uc2UuanNvbih7IFxuICAgIG1lc3NhZ2U6ICdEYXRhYmFzZSBzZWVkaW5nIGVuZHBvaW50LiBVc2UgUE9TVCB0byBzZWVkIGRhdGFiYXNlLicgXG4gIH0pXG59XG4iXSwibmFtZXMiOlsiaW5pdERhdGFiYXNlIiwiUE9TVCIsIlJlc3BvbnNlIiwianNvbiIsIm1lc3NhZ2UiLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiLCJHRVQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/seed-database/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatabaseOperations: () => (/* binding */ DatabaseOperations),\n/* harmony export */   dbOps: () => (/* binding */ dbOps)\n/* harmony export */ });\n// Fix for server-side usage of @replit/database\nlet Database;\nlet db;\nif (true) {\n    // Server-side: dynamically import and handle fetch polyfill\n    try {\n        if (!global.fetch) {\n            global.fetch = __webpack_require__(/*! node-fetch */ \"(rsc)/./node_modules/node-fetch/lib/index.mjs\");\n        }\n        Database = __webpack_require__(/*! @replit/database */ \"(rsc)/./node_modules/@replit/database/index.js\");\n        db = new Database();\n    } catch (error) {\n        console.error(\"Failed to initialize Replit Database:\", error);\n        // Fallback to mock implementation for development\n        db = {\n            get: async (key)=>null,\n            set: async (key, value)=>{},\n            delete: async (key)=>{},\n            list: async (prefix)=>[]\n        };\n    }\n} else {}\nclass DatabaseOperations {\n    // Security middleware - Row Level Security equivalent\n    async checkUserAccess(userId, resourceOwnerId, userRole) {\n        // Admin bypass\n        if (userRole === \"admin\") return true;\n        // User can access their own resources\n        return userId === resourceOwnerId;\n    }\n    async safeGet(key) {\n        try {\n            const result = await db.get(key);\n            return result || null;\n        } catch (error) {\n            console.error(`Database get error for key ${key}:`, error);\n            return null;\n        }\n    }\n    async safeSet(key, value) {\n        try {\n            await db.set(key, value);\n        } catch (error) {\n            console.error(`Database set error for key ${key}:`, error);\n            throw error;\n        }\n    }\n    async buildIndexes() {\n        try {\n            // Build product indexes by merchant_id\n            const products = await this.getAllFromTable(\"products\");\n            const productsByMerchant = new Map();\n            products.forEach((product)=>{\n                if (!productsByMerchant.has(product.seller_id)) {\n                    productsByMerchant.set(product.seller_id, []);\n                }\n                productsByMerchant.get(product.seller_id)?.push(product.id);\n            });\n            this.productIndexes = productsByMerchant;\n            // Build order indexes\n            const orders = await this.getAllFromTable(\"orders\");\n            const ordersByBuyer = new Map();\n            const ordersBySeller = new Map();\n            orders.forEach((order)=>{\n                if (!ordersByBuyer.has(order.buyer_id)) {\n                    ordersByBuyer.set(order.buyer_id, []);\n                }\n                if (!ordersBySeller.has(order.seller_id)) {\n                    ordersBySeller.set(order.seller_id, []);\n                }\n                ordersByBuyer.get(order.buyer_id)?.push(order.id);\n                ordersBySeller.get(order.seller_id)?.push(order.id);\n            });\n            this.orderIndexes = new Map([\n                ...ordersByBuyer,\n                ...ordersBySeller\n            ]);\n            // Build rating indexes by product_id\n            const ratings = await this.getAllFromTable(\"ratings\");\n            const ratingsByProduct = new Map();\n            ratings.forEach((rating)=>{\n                if (!ratingsByProduct.has(rating.product_id)) {\n                    ratingsByProduct.set(rating.product_id, []);\n                }\n                ratingsByProduct.get(rating.product_id)?.push(rating.id);\n            });\n            this.ratingIndexes = ratingsByProduct;\n        } catch (error) {\n            console.error(\"Error building indexes:\", error);\n        }\n    }\n    async getAllFromTable(tableName) {\n        try {\n            const data = await this.safeGet(tableName);\n            return Array.isArray(data) ? data : [];\n        } catch (error) {\n            console.error(`Error fetching from table ${tableName}:`, error);\n            return [];\n        }\n    }\n    async addToTable(tableName, item) {\n        try {\n            const existingData = await this.getAllFromTable(tableName);\n            existingData.push(item);\n            await this.safeSet(tableName, existingData);\n        } catch (error) {\n            console.error(`Error adding to table ${tableName}:`, error);\n            throw error;\n        }\n    }\n    async updateInTable(tableName, id, updates) {\n        try {\n            const existingData = await this.getAllFromTable(tableName);\n            const index = existingData.findIndex((item)=>item.id === id);\n            if (index !== -1) {\n                existingData[index] = {\n                    ...existingData[index],\n                    ...updates\n                };\n                await this.safeSet(tableName, existingData);\n            }\n        } catch (error) {\n            console.error(`Error updating in table ${tableName}:`, error);\n            throw error;\n        }\n    }\n    async removeFromTable(tableName, id) {\n        try {\n            const existingData = await this.getAllFromTable(tableName);\n            const filteredData = existingData.filter((item)=>item.id !== id);\n            await this.safeSet(tableName, filteredData);\n        } catch (error) {\n            console.error(`Error removing from table ${tableName}:`, error);\n            throw error;\n        }\n    }\n    // User operations with security checks\n    async createUser(user) {\n        // Validate required fields\n        if (!user.email || !user.name || !user.role) {\n            throw new Error(\"Missing required user fields\");\n        }\n        await this.addToTable(\"users\", user);\n    }\n    async getUserByEmail(email) {\n        const users = await this.getAllFromTable(\"users\");\n        return users.find((user)=>user.email === email) || null;\n    }\n    async getUserById(id, requestingUserId, requestingUserRole) {\n        const users = await this.getAllFromTable(\"users\");\n        const user = users.find((user)=>user.id === id) || null;\n        // Security check - users can only access their own profile unless admin\n        if (user && requestingUserId && !await this.checkUserAccess(requestingUserId, user.id, requestingUserRole)) {\n            return null;\n        }\n        return user;\n    }\n    async updateUser(id, updates, requestingUserId, requestingUserRole) {\n        // Security check\n        if (requestingUserId && !await this.checkUserAccess(requestingUserId, id, requestingUserRole)) {\n            throw new Error(\"Unauthorized access\");\n        }\n        await this.updateInTable(\"users\", id, updates);\n    }\n    // Product operations with security and performance optimization\n    async getProducts(requestingUserId, requestingUserRole) {\n        const products = await this.getAllFromTable(\"products\");\n        // If not admin, only return active products or user's own products\n        if (requestingUserRole !== \"admin\") {\n            return products.filter((product)=>product.status === \"active\" || requestingUserId && product.seller_id === requestingUserId);\n        }\n        return products;\n    }\n    async getProductsBySeller(sellerId, requestingUserId, requestingUserRole) {\n        // Security check - users can only access their own products unless admin\n        if (requestingUserId && !await this.checkUserAccess(requestingUserId, sellerId, requestingUserRole)) {\n            throw new Error(\"Unauthorized access\");\n        }\n        // Use index if available for performance\n        await this.buildIndexes();\n        const productIds = this.productIndexes.get(sellerId) || [];\n        const allProducts = await this.getProducts();\n        return allProducts.filter((product)=>productIds.includes(product.id));\n    }\n    async getProductById(id, requestingUserId, requestingUserRole) {\n        const products = await this.getProducts();\n        const product = products.find((product)=>product.id === id) || null;\n        // Security check - non-active products only visible to owner or admin\n        if (product && product.status !== \"active\" && requestingUserId) {\n            if (!await this.checkUserAccess(requestingUserId, product.seller_id, requestingUserRole)) {\n                return null;\n            }\n        }\n        return product;\n    }\n    async createProduct(product, requestingUserId) {\n        // Validate required fields\n        if (!product.name || !product.price || !product.seller_id) {\n            throw new Error(\"Missing required product fields\");\n        }\n        // Security check - users can only create products for themselves\n        if (product.seller_id !== requestingUserId) {\n            throw new Error(\"Unauthorized: Cannot create product for another user\");\n        }\n        await this.addToTable(\"products\", product);\n        // Update indexes\n        await this.buildIndexes();\n    }\n    async updateProduct(id, updates, requestingUserId, requestingUserRole) {\n        const product = await this.getProductById(id);\n        if (!product) {\n            throw new Error(\"Product not found\");\n        }\n        // Security check\n        if (!await this.checkUserAccess(requestingUserId, product.seller_id, requestingUserRole)) {\n            throw new Error(\"Unauthorized access\");\n        }\n        await this.updateInTable(\"products\", id, updates);\n    }\n    // Advertisement operations with security checks\n    async getAdvertisements(requestingUserId, requestingUserRole) {\n        const ads = await this.getAllFromTable(\"advertisements\");\n        // If not admin, only return user's own ads or active public ads\n        if (requestingUserRole !== \"admin\") {\n            return ads.filter((ad)=>ad.seller_id === requestingUserId || ad.status === \"active\" && new Date(ad.active_from) <= new Date() && new Date(ad.active_until) >= new Date());\n        }\n        return ads;\n    }\n    async getActiveAdvertisements() {\n        const ads = await this.getAdvertisements();\n        const now = new Date().toISOString();\n        return ads.filter((ad)=>ad.status === \"active\" && ad.active_from <= now && ad.active_until >= now);\n    }\n    async getAdvertisementsBySeller(sellerId, requestingUserId, requestingUserRole) {\n        // Security check\n        if (!await this.checkUserAccess(requestingUserId, sellerId, requestingUserRole)) {\n            throw new Error(\"Unauthorized access\");\n        }\n        const ads = await this.getAdvertisements();\n        return ads.filter((ad)=>ad.seller_id === sellerId);\n    }\n    async createAdvertisement(ad, requestingUserId) {\n        // Validate required fields\n        if (!ad.seller_id || !ad.title || !ad.active_from || !ad.active_until) {\n            throw new Error(\"Missing required advertisement fields\");\n        }\n        // Security check\n        if (ad.seller_id !== requestingUserId) {\n            throw new Error(\"Unauthorized: Cannot create advertisement for another user\");\n        }\n        await this.addToTable(\"advertisements\", ad);\n    }\n    async updateAdvertisement(id, updates, requestingUserId, requestingUserRole) {\n        const ads = await this.getAllFromTable(\"advertisements\");\n        const ad = ads.find((a)=>a.id === id);\n        if (!ad) {\n            throw new Error(\"Advertisement not found\");\n        }\n        // Security check\n        if (!await this.checkUserAccess(requestingUserId, ad.seller_id, requestingUserRole)) {\n            throw new Error(\"Unauthorized access\");\n        }\n        await this.updateInTable(\"advertisements\", id, updates);\n    }\n    // Order operations with security and performance optimization\n    async getOrders(requestingUserId, requestingUserRole) {\n        const orders = await this.getAllFromTable(\"orders\");\n        // Security: only admins can see all orders\n        if (requestingUserRole === \"admin\") {\n            return orders;\n        }\n        // Users can only see their own orders (as buyer or seller)\n        return orders.filter((order)=>order.buyer_id === requestingUserId || order.seller_id === requestingUserId);\n    }\n    async getOrdersBySeller(sellerId, requestingUserId, requestingUserRole) {\n        // Security check\n        if (!await this.checkUserAccess(requestingUserId, sellerId, requestingUserRole)) {\n            throw new Error(\"Unauthorized access\");\n        }\n        // Use index for performance\n        await this.buildIndexes();\n        const orderIds = this.orderIndexes.get(sellerId) || [];\n        const allOrders = await this.getAllFromTable(\"orders\");\n        return allOrders.filter((order)=>orderIds.includes(order.id) && order.seller_id === sellerId);\n    }\n    async getOrdersByBuyer(buyerId, requestingUserId, requestingUserRole) {\n        // Security check\n        if (!await this.checkUserAccess(requestingUserId, buyerId, requestingUserRole)) {\n            throw new Error(\"Unauthorized access\");\n        }\n        // Use index for performance\n        await this.buildIndexes();\n        const orderIds = this.orderIndexes.get(buyerId) || [];\n        const allOrders = await this.getAllFromTable(\"orders\");\n        return allOrders.filter((order)=>orderIds.includes(order.id) && order.buyer_id === buyerId);\n    }\n    async createOrder(order, requestingUserId) {\n        // Validate required fields\n        if (!order.buyer_id || !order.seller_id || !order.product_id || !order.total_price) {\n            throw new Error(\"Missing required order fields\");\n        }\n        // Security check - users can only create orders as buyers\n        if (order.buyer_id !== requestingUserId) {\n            throw new Error(\"Unauthorized: Cannot create order for another user\");\n        }\n        await this.addToTable(\"orders\", order);\n        // Update indexes\n        await this.buildIndexes();\n    }\n    async updateOrder(id, updates, requestingUserId, requestingUserRole) {\n        const orders = await this.getAllFromTable(\"orders\");\n        const order = orders.find((o)=>o.id === id);\n        if (!order) {\n            throw new Error(\"Order not found\");\n        }\n        // Security check - buyers and sellers can update their orders\n        const canAccess = order.buyer_id === requestingUserId || order.seller_id === requestingUserId || requestingUserRole === \"admin\";\n        if (!canAccess) {\n            throw new Error(\"Unauthorized access\");\n        }\n        await this.updateInTable(\"orders\", id, updates);\n    }\n    // Rating operations with security and performance optimization\n    async getRatingsByProduct(productId) {\n        // Use index for performance\n        await this.buildIndexes();\n        const ratingIds = this.ratingIndexes.get(productId) || [];\n        const allRatings = await this.getAllFromTable(\"ratings\");\n        return allRatings.filter((rating)=>ratingIds.includes(rating.id));\n    }\n    async createRating(rating, requestingUserId) {\n        // Validate required fields\n        if (!rating.product_id || !rating.user_id || !rating.rating || rating.rating < 1 || rating.rating > 5) {\n            throw new Error(\"Invalid rating data\");\n        }\n        // Security check - users can only create ratings as themselves\n        if (rating.user_id !== requestingUserId) {\n            throw new Error(\"Unauthorized: Cannot create rating for another user\");\n        }\n        // Check for duplicate ratings\n        const existingRatings = await this.getRatingsByProduct(rating.product_id);\n        const existingRating = existingRatings.find((r)=>r.user_id === requestingUserId);\n        if (existingRating) {\n            throw new Error(\"User has already rated this product\");\n        }\n        await this.addToTable(\"ratings\", rating);\n        // Update indexes\n        await this.buildIndexes();\n    }\n    // Plan operations\n    async getUserPlan(userId) {\n        const plans = await this.getAllFromTable(\"user_plans\");\n        return plans.find((plan)=>plan.userId === userId) || null;\n    }\n    async updateUserPlan(userId, planData) {\n        const plans = await this.getAllFromTable(\"user_plans\");\n        const existingIndex = plans.findIndex((plan)=>plan.userId === userId);\n        if (existingIndex !== -1) {\n            plans[existingIndex] = {\n                ...plans[existingIndex],\n                ...planData\n            };\n        } else {\n            plans.push({\n                userId,\n                ...planData\n            });\n        }\n        await this.safeSet(\"user_plans\", plans);\n    }\n    // Usage tracking\n    async getUserUsage(userId) {\n        const usage = await this.getAllFromTable(\"user_usage\");\n        return usage.find((u)=>u.userId === userId) || {\n            productsCreated: 0,\n            adsCreated: 0,\n            reportsGenerated: 0\n        };\n    }\n    async incrementUsage(userId, field) {\n        const usage = await this.getAllFromTable(\"user_usage\");\n        const existingIndex = usage.findIndex((u)=>u.userId === userId);\n        if (existingIndex !== -1) {\n            usage[existingIndex][field] = (usage[existingIndex][field] || 0) + 1;\n        } else {\n            usage.push({\n                userId,\n                [field]: 1\n            });\n        }\n        await this.safeSet(\"user_usage\", usage);\n    }\n    // Insights operations\n    async getInsights() {\n        return this.getAllFromTable(\"insights\");\n    }\n    // Storefront operations with security checks\n    async getStorefronts(requestingUserId, requestingUserRole) {\n        const storefronts = await this.getAllFromTable(\"storefronts\");\n        // If not admin, only return user's own storefront or active public ones\n        if (requestingUserRole !== \"admin\") {\n            return storefronts.filter((store)=>store.merchant_id === requestingUserId || store.status === \"active\");\n        }\n        return storefronts;\n    }\n    async getStorefrontBySlug(slug) {\n        const storefronts = await this.getStorefronts();\n        const storefront = storefronts.find((store)=>store.slug === slug) || null;\n        // Public storefronts are visible to all\n        if (storefront && storefront.status === \"active\") {\n            return storefront;\n        }\n        return null;\n    }\n    async getStorefrontByMerchant(merchantId, requestingUserId, requestingUserRole) {\n        // Security check for private access\n        if (requestingUserId && !await this.checkUserAccess(requestingUserId, merchantId, requestingUserRole)) {\n            // Return only if storefront is public\n            const storefronts = await this.getStorefronts();\n            const storefront = storefronts.find((store)=>store.merchant_id === merchantId) || null;\n            return storefront && storefront.status === \"active\" ? storefront : null;\n        }\n        const storefronts = await this.getStorefronts();\n        return storefronts.find((store)=>store.merchant_id === merchantId) || null;\n    }\n    async createStorefront(storefront, requestingUserId) {\n        // Validate required fields\n        if (!storefront.merchant_id || !storefront.store_name || !storefront.slug) {\n            throw new Error(\"Missing required storefront fields\");\n        }\n        // Security check\n        if (storefront.merchant_id !== requestingUserId) {\n            throw new Error(\"Unauthorized: Cannot create storefront for another user\");\n        }\n        // Check for duplicate slug\n        const existingStorefront = await this.getStorefrontBySlug(storefront.slug);\n        if (existingStorefront) {\n            throw new Error(\"Storefront slug already exists\");\n        }\n        await this.addToTable(\"storefronts\", storefront);\n    }\n    async updateStorefront(id, updates, requestingUserId, requestingUserRole) {\n        const storefronts = await this.getAllFromTable(\"storefronts\");\n        const storefront = storefronts.find((s)=>s.id === id);\n        if (!storefront) {\n            throw new Error(\"Storefront not found\");\n        }\n        // Security check\n        if (!await this.checkUserAccess(requestingUserId, storefront.merchant_id, requestingUserRole)) {\n            throw new Error(\"Unauthorized access\");\n        }\n        // If updating slug, check for duplicates\n        if (updates.slug && updates.slug !== storefront.slug) {\n            const existingStorefront = await this.getStorefrontBySlug(updates.slug);\n            if (existingStorefront) {\n                throw new Error(\"Storefront slug already exists\");\n            }\n        }\n        await this.updateInTable(\"storefronts\", id, updates);\n    }\n    async generateUniqueSlug(baseName) {\n        const baseSlug = baseName.toLowerCase().replace(/[^a-z0-9\\s-]/g, \"\").replace(/\\s+/g, \"-\").replace(/-+/g, \"-\").trim();\n        const storefronts = await this.getStorefronts();\n        let counter = 0;\n        let slug = baseSlug;\n        while(storefronts.find((store)=>store.slug === slug)){\n            counter++;\n            slug = `${baseSlug}-${counter}`;\n        }\n        return slug;\n    }\n    // Enhanced product operations with merchant filtering\n    async getProductsByMerchant(merchantId) {\n        const products = await this.getProducts();\n        return products.filter((product)=>product.seller_id === merchantId);\n    }\n    async getPublicProductsByMerchant(merchantId) {\n        const products = await this.getProductsByMerchant(merchantId);\n        return products.filter((product)=>product.status === \"active\");\n    }\n    // Enhanced order operations with merchant filtering\n    async getOrdersByMerchantId(merchantId) {\n        const orders = await this.getOrders();\n        return orders.filter((order)=>order.seller_id === merchantId);\n    }\n    // Enhanced advertisement operations with merchant filtering\n    async getAdsByMerchant(merchantId) {\n        const ads = await this.getAdvertisements();\n        return ads.filter((ad)=>ad.seller_id === merchantId);\n    }\n    constructor(){\n        // Performance optimization - In-memory indexes\n        this.productIndexes = new Map();\n        this.orderIndexes = new Map();\n        this.ratingIndexes = new Map();\n    }\n}\n// Initialize database operations and build indexes\nconst dbOps = new DatabaseOperations();\n// Initialize indexes on startup\nif (true) {\n    // Only run on server side\n    dbOps.buildIndexes().catch(console.error);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OEc7SUFDM0M7O1FBdGhCQSwrQ0FBK0M7YUFDdkMzRyxpQkFBd0MsSUFBSVA7YUFDNUNhLGVBQXNDLElBQUliO2FBQzFDa0IsZ0JBQXVDLElBQUlsQjs7QUFvaEJyRDtBQUVBLG1EQUFtRDtBQUM1QyxNQUFNbUksUUFBUSxJQUFJL0kscUJBQW9CO0FBRTdDLGdDQUFnQztBQUNoQyxJQUFJLElBQWtCLEVBQWE7SUFDakMsMEJBQTBCO0lBQzFCK0ksTUFBTXZJLFlBQVksR0FBR3dJLEtBQUssQ0FBQ3hKLFFBQVFELEtBQUs7QUFDMUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZ3gtc2Fhcy1tdnAvLi9saWIvZGIudHM/MWRmMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaXggZm9yIHNlcnZlci1zaWRlIHVzYWdlIG9mIEByZXBsaXQvZGF0YWJhc2VcbmxldCBEYXRhYmFzZTogYW55XG5sZXQgZGI6IGFueVxuXG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgLy8gU2VydmVyLXNpZGU6IGR5bmFtaWNhbGx5IGltcG9ydCBhbmQgaGFuZGxlIGZldGNoIHBvbHlmaWxsXG4gIHRyeSB7XG4gICAgaWYgKCFnbG9iYWwuZmV0Y2gpIHtcbiAgICAgIGdsb2JhbC5mZXRjaCA9IHJlcXVpcmUoJ25vZGUtZmV0Y2gnKVxuICAgIH1cbiAgICBEYXRhYmFzZSA9IHJlcXVpcmUoJ0ByZXBsaXQvZGF0YWJhc2UnKVxuICAgIGRiID0gbmV3IERhdGFiYXNlKClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBSZXBsaXQgRGF0YWJhc2U6JywgZXJyb3IpXG4gICAgLy8gRmFsbGJhY2sgdG8gbW9jayBpbXBsZW1lbnRhdGlvbiBmb3IgZGV2ZWxvcG1lbnRcbiAgICBkYiA9IHtcbiAgICAgIGdldDogYXN5bmMgKGtleTogc3RyaW5nKSA9PiBudWxsLFxuICAgICAgc2V0OiBhc3luYyAoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpID0+IHt9LFxuICAgICAgZGVsZXRlOiBhc3luYyAoa2V5OiBzdHJpbmcpID0+IHt9LFxuICAgICAgbGlzdDogYXN5bmMgKHByZWZpeD86IHN0cmluZykgPT4gW11cbiAgICB9XG4gIH1cbn0gZWxzZSB7XG4gIC8vIENsaWVudC1zaWRlOiB1c2UgcmVndWxhciBpbXBvcnRcbiAgRGF0YWJhc2UgPSByZXF1aXJlKCdAcmVwbGl0L2RhdGFiYXNlJylcbiAgZGIgPSBuZXcgRGF0YWJhc2UoKVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICBpZDogc3RyaW5nXG4gIGVtYWlsOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHJvbGU6ICdidXllcicgfCAnc2VsbGVyJyB8ICdhZG1pbidcbiAgcGxhbjogJ2ZyZWUnIHwgJ3N0YW5kYXJkJyB8ICdwcmVtaXVtJ1xuICB0ZW5hbnRfaWQ6IHN0cmluZ1xuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICdpbmFjdGl2ZScgfCAncGVuZGluZydcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9kdWN0IHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xuICBwcmljZTogbnVtYmVyXG4gIGNhdGVnb3J5OiBzdHJpbmdcbiAgc2VsbGVyX2lkOiBzdHJpbmdcbiAgaW1hZ2VfdXJsOiBzdHJpbmdcbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICdpbmFjdGl2ZScgfCAncGVuZGluZydcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIHN0b2NrOiBudW1iZXJcbiAgdGFnczogc3RyaW5nW11cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBZHZlcnRpc2VtZW50IHtcbiAgaWQ6IHN0cmluZ1xuICBzZWxsZXJfaWQ6IHN0cmluZ1xuICBwcm9kdWN0X2lkOiBzdHJpbmdcbiAgdGl0bGU6IHN0cmluZ1xuICBkZXNjcmlwdGlvbjogc3RyaW5nXG4gIGltYWdlX3VybDogc3RyaW5nXG4gIGFjdGl2ZV9mcm9tOiBzdHJpbmdcbiAgYWN0aXZlX3VudGlsOiBzdHJpbmdcbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICdpbmFjdGl2ZScgfCAnZXhwaXJlZCdcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3JkZXIge1xuICBpZDogc3RyaW5nXG4gIGJ1eWVyX2lkOiBzdHJpbmdcbiAgc2VsbGVyX2lkOiBzdHJpbmdcbiAgcHJvZHVjdF9pZDogc3RyaW5nXG4gIHF1YW50aXR5OiBudW1iZXJcbiAgdG90YWxfcHJpY2U6IG51bWJlclxuICBzdGF0dXM6ICd1bnBhaWQnIHwgJ3RvX3NoaXAnIHwgJ3NoaXBwaW5nJyB8ICdjb21wbGV0ZScgfCAnY2FuY2VsbGVkJ1xuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgdXBkYXRlZF9hdDogc3RyaW5nXG4gIHNoaXBwaW5nX2FkZHJlc3M6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJhdGluZyB7XG4gIGlkOiBzdHJpbmdcbiAgcHJvZHVjdF9pZDogc3RyaW5nXG4gIHVzZXJfaWQ6IHN0cmluZ1xuICByYXRpbmc6IG51bWJlclxuICBjb21tZW50OiBzdHJpbmdcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmVmcm9udCB7XG4gIGlkOiBzdHJpbmdcbiAgbWVyY2hhbnRfaWQ6IHN0cmluZ1xuICBzdG9yZV9uYW1lOiBzdHJpbmdcbiAgc2x1Zzogc3RyaW5nXG4gIGJpbzogc3RyaW5nXG4gIGxvZ29fdXJsPzogc3RyaW5nXG4gIGJhbm5lcl91cmw/OiBzdHJpbmdcbiAgY3VzdG9tX2RvbWFpbj86IHN0cmluZ1xuICBjb250YWN0X2VtYWlsPzogc3RyaW5nXG4gIGNvbnRhY3RfcGhvbmU/OiBzdHJpbmdcbiAgYWRkcmVzcz86IHN0cmluZ1xuICBzdGF0dXM6ICdhY3RpdmUnIHwgJ2luYWN0aXZlJyB8ICdwZW5kaW5nJ1xuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgdXBkYXRlZF9hdDogc3RyaW5nXG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZU9wZXJhdGlvbnMge1xuICAvLyBTZWN1cml0eSBtaWRkbGV3YXJlIC0gUm93IExldmVsIFNlY3VyaXR5IGVxdWl2YWxlbnRcbiAgcHJpdmF0ZSBhc3luYyBjaGVja1VzZXJBY2Nlc3ModXNlcklkOiBzdHJpbmcsIHJlc291cmNlT3duZXJJZDogc3RyaW5nLCB1c2VyUm9sZT86IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIC8vIEFkbWluIGJ5cGFzc1xuICAgIGlmICh1c2VyUm9sZSA9PT0gJ2FkbWluJykgcmV0dXJuIHRydWVcbiAgICAvLyBVc2VyIGNhbiBhY2Nlc3MgdGhlaXIgb3duIHJlc291cmNlc1xuICAgIHJldHVybiB1c2VySWQgPT09IHJlc291cmNlT3duZXJJZFxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzYWZlR2V0KGtleTogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuZ2V0KGtleSlcbiAgICAgIHJldHVybiByZXN1bHQgfHwgbnVsbFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBEYXRhYmFzZSBnZXQgZXJyb3IgZm9yIGtleSAke2tleX06YCwgZXJyb3IpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2FmZVNldChrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBkYi5zZXQoa2V5LCB2YWx1ZSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRGF0YWJhc2Ugc2V0IGVycm9yIGZvciBrZXkgJHtrZXl9OmAsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gLSBJbi1tZW1vcnkgaW5kZXhlc1xuICBwcml2YXRlIHByb2R1Y3RJbmRleGVzOiBNYXA8c3RyaW5nLCBzdHJpbmdbXT4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBvcmRlckluZGV4ZXM6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIHJhdGluZ0luZGV4ZXM6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPiA9IG5ldyBNYXAoKVxuXG4gIHByaXZhdGUgYXN5bmMgYnVpbGRJbmRleGVzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBCdWlsZCBwcm9kdWN0IGluZGV4ZXMgYnkgbWVyY2hhbnRfaWRcbiAgICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgdGhpcy5nZXRBbGxGcm9tVGFibGU8UHJvZHVjdD4oJ3Byb2R1Y3RzJylcbiAgICAgIGNvbnN0IHByb2R1Y3RzQnlNZXJjaGFudCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKVxuICAgICAgcHJvZHVjdHMuZm9yRWFjaChwcm9kdWN0ID0+IHtcbiAgICAgICAgaWYgKCFwcm9kdWN0c0J5TWVyY2hhbnQuaGFzKHByb2R1Y3Quc2VsbGVyX2lkKSkge1xuICAgICAgICAgIHByb2R1Y3RzQnlNZXJjaGFudC5zZXQocHJvZHVjdC5zZWxsZXJfaWQsIFtdKVxuICAgICAgICB9XG4gICAgICAgIHByb2R1Y3RzQnlNZXJjaGFudC5nZXQocHJvZHVjdC5zZWxsZXJfaWQpPy5wdXNoKHByb2R1Y3QuaWQpXG4gICAgICB9KVxuICAgICAgdGhpcy5wcm9kdWN0SW5kZXhlcyA9IHByb2R1Y3RzQnlNZXJjaGFudFxuXG4gICAgICAvLyBCdWlsZCBvcmRlciBpbmRleGVzXG4gICAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCB0aGlzLmdldEFsbEZyb21UYWJsZTxPcmRlcj4oJ29yZGVycycpXG4gICAgICBjb25zdCBvcmRlcnNCeUJ1eWVyID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZ1tdPigpXG4gICAgICBjb25zdCBvcmRlcnNCeVNlbGxlciA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKVxuICAgICAgb3JkZXJzLmZvckVhY2gob3JkZXIgPT4ge1xuICAgICAgICBpZiAoIW9yZGVyc0J5QnV5ZXIuaGFzKG9yZGVyLmJ1eWVyX2lkKSkge1xuICAgICAgICAgIG9yZGVyc0J5QnV5ZXIuc2V0KG9yZGVyLmJ1eWVyX2lkLCBbXSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9yZGVyc0J5U2VsbGVyLmhhcyhvcmRlci5zZWxsZXJfaWQpKSB7XG4gICAgICAgICAgb3JkZXJzQnlTZWxsZXIuc2V0KG9yZGVyLnNlbGxlcl9pZCwgW10pXG4gICAgICAgIH1cbiAgICAgICAgb3JkZXJzQnlCdXllci5nZXQob3JkZXIuYnV5ZXJfaWQpPy5wdXNoKG9yZGVyLmlkKVxuICAgICAgICBvcmRlcnNCeVNlbGxlci5nZXQob3JkZXIuc2VsbGVyX2lkKT8ucHVzaChvcmRlci5pZClcbiAgICAgIH0pXG4gICAgICB0aGlzLm9yZGVySW5kZXhlcyA9IG5ldyBNYXAoWy4uLm9yZGVyc0J5QnV5ZXIsIC4uLm9yZGVyc0J5U2VsbGVyXSlcblxuICAgICAgLy8gQnVpbGQgcmF0aW5nIGluZGV4ZXMgYnkgcHJvZHVjdF9pZFxuICAgICAgY29uc3QgcmF0aW5ncyA9IGF3YWl0IHRoaXMuZ2V0QWxsRnJvbVRhYmxlPFJhdGluZz4oJ3JhdGluZ3MnKVxuICAgICAgY29uc3QgcmF0aW5nc0J5UHJvZHVjdCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKVxuICAgICAgcmF0aW5ncy5mb3JFYWNoKHJhdGluZyA9PiB7XG4gICAgICAgIGlmICghcmF0aW5nc0J5UHJvZHVjdC5oYXMocmF0aW5nLnByb2R1Y3RfaWQpKSB7XG4gICAgICAgICAgcmF0aW5nc0J5UHJvZHVjdC5zZXQocmF0aW5nLnByb2R1Y3RfaWQsIFtdKVxuICAgICAgICB9XG4gICAgICAgIHJhdGluZ3NCeVByb2R1Y3QuZ2V0KHJhdGluZy5wcm9kdWN0X2lkKT8ucHVzaChyYXRpbmcuaWQpXG4gICAgICB9KVxuICAgICAgdGhpcy5yYXRpbmdJbmRleGVzID0gcmF0aW5nc0J5UHJvZHVjdFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBidWlsZGluZyBpbmRleGVzOicsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldEFsbEZyb21UYWJsZTxUPih0YWJsZU5hbWU6IHN0cmluZyk6IFByb21pc2U8VFtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnNhZmVHZXQodGFibGVOYW1lKVxuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW11cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgZnJvbSB0YWJsZSAke3RhYmxlTmFtZX06YCwgZXJyb3IpXG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gIH1cblxuICBhc3luYyBhZGRUb1RhYmxlPFQ+KHRhYmxlTmFtZTogc3RyaW5nLCBpdGVtOiBUKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nRGF0YSA9IGF3YWl0IHRoaXMuZ2V0QWxsRnJvbVRhYmxlPFQ+KHRhYmxlTmFtZSlcbiAgICAgIGV4aXN0aW5nRGF0YS5wdXNoKGl0ZW0pXG4gICAgICBhd2FpdCB0aGlzLnNhZmVTZXQodGFibGVOYW1lLCBleGlzdGluZ0RhdGEpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGFkZGluZyB0byB0YWJsZSAke3RhYmxlTmFtZX06YCwgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUluVGFibGU8VCBleHRlbmRzIHsgaWQ6IHN0cmluZyB9Pih0YWJsZU5hbWU6IHN0cmluZywgaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxUPik6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBleGlzdGluZ0RhdGEgPSBhd2FpdCB0aGlzLmdldEFsbEZyb21UYWJsZTxUPih0YWJsZU5hbWUpXG4gICAgICBjb25zdCBpbmRleCA9IGV4aXN0aW5nRGF0YS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09PSBpZClcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgZXhpc3RpbmdEYXRhW2luZGV4XSA9IHsgLi4uZXhpc3RpbmdEYXRhW2luZGV4XSwgLi4udXBkYXRlcyB9XG4gICAgICAgIGF3YWl0IHRoaXMuc2FmZVNldCh0YWJsZU5hbWUsIGV4aXN0aW5nRGF0YSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgdXBkYXRpbmcgaW4gdGFibGUgJHt0YWJsZU5hbWV9OmAsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBhc3luYyByZW1vdmVGcm9tVGFibGU8VCBleHRlbmRzIHsgaWQ6IHN0cmluZyB9Pih0YWJsZU5hbWU6IHN0cmluZywgaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBleGlzdGluZ0RhdGEgPSBhd2FpdCB0aGlzLmdldEFsbEZyb21UYWJsZTxUPih0YWJsZU5hbWUpXG4gICAgICBjb25zdCBmaWx0ZXJlZERhdGEgPSBleGlzdGluZ0RhdGEuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPT0gaWQpXG4gICAgICBhd2FpdCB0aGlzLnNhZmVTZXQodGFibGVOYW1lLCBmaWx0ZXJlZERhdGEpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHJlbW92aW5nIGZyb20gdGFibGUgJHt0YWJsZU5hbWV9OmAsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICAvLyBVc2VyIG9wZXJhdGlvbnMgd2l0aCBzZWN1cml0eSBjaGVja3NcbiAgYXN5bmMgY3JlYXRlVXNlcih1c2VyOiBVc2VyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgaWYgKCF1c2VyLmVtYWlsIHx8ICF1c2VyLm5hbWUgfHwgIXVzZXIucm9sZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIHVzZXIgZmllbGRzJylcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5hZGRUb1RhYmxlKCd1c2VycycsIHVzZXIpXG4gIH1cblxuICBhc3luYyBnZXRVc2VyQnlFbWFpbChlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xuICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgdGhpcy5nZXRBbGxGcm9tVGFibGU8VXNlcj4oJ3VzZXJzJylcbiAgICByZXR1cm4gdXNlcnMuZmluZCh1c2VyID0+IHVzZXIuZW1haWwgPT09IGVtYWlsKSB8fCBudWxsXG4gIH1cblxuICBhc3luYyBnZXRVc2VyQnlJZChpZDogc3RyaW5nLCByZXF1ZXN0aW5nVXNlcklkPzogc3RyaW5nLCByZXF1ZXN0aW5nVXNlclJvbGU/OiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgfCBudWxsPiB7XG4gICAgY29uc3QgdXNlcnMgPSBhd2FpdCB0aGlzLmdldEFsbEZyb21UYWJsZTxVc2VyPigndXNlcnMnKVxuICAgIGNvbnN0IHVzZXIgPSB1c2Vycy5maW5kKHVzZXIgPT4gdXNlci5pZCA9PT0gaWQpIHx8IG51bGxcbiAgICBcbiAgICAvLyBTZWN1cml0eSBjaGVjayAtIHVzZXJzIGNhbiBvbmx5IGFjY2VzcyB0aGVpciBvd24gcHJvZmlsZSB1bmxlc3MgYWRtaW5cbiAgICBpZiAodXNlciAmJiByZXF1ZXN0aW5nVXNlcklkICYmICFhd2FpdCB0aGlzLmNoZWNrVXNlckFjY2VzcyhyZXF1ZXN0aW5nVXNlcklkLCB1c2VyLmlkLCByZXF1ZXN0aW5nVXNlclJvbGUpKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICByZXR1cm4gdXNlclxuICB9XG5cbiAgYXN5bmMgdXBkYXRlVXNlcihpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFVzZXI+LCByZXF1ZXN0aW5nVXNlcklkPzogc3RyaW5nLCByZXF1ZXN0aW5nVXNlclJvbGU/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBTZWN1cml0eSBjaGVja1xuICAgIGlmIChyZXF1ZXN0aW5nVXNlcklkICYmICFhd2FpdCB0aGlzLmNoZWNrVXNlckFjY2VzcyhyZXF1ZXN0aW5nVXNlcklkLCBpZCwgcmVxdWVzdGluZ1VzZXJSb2xlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQgYWNjZXNzJylcbiAgICB9XG4gICAgYXdhaXQgdGhpcy51cGRhdGVJblRhYmxlKCd1c2VycycsIGlkLCB1cGRhdGVzKVxuICB9XG5cbiAgLy8gUHJvZHVjdCBvcGVyYXRpb25zIHdpdGggc2VjdXJpdHkgYW5kIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvblxuICBhc3luYyBnZXRQcm9kdWN0cyhyZXF1ZXN0aW5nVXNlcklkPzogc3RyaW5nLCByZXF1ZXN0aW5nVXNlclJvbGU/OiBzdHJpbmcpOiBQcm9taXNlPFByb2R1Y3RbXT4ge1xuICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgdGhpcy5nZXRBbGxGcm9tVGFibGU8UHJvZHVjdD4oJ3Byb2R1Y3RzJylcbiAgICBcbiAgICAvLyBJZiBub3QgYWRtaW4sIG9ubHkgcmV0dXJuIGFjdGl2ZSBwcm9kdWN0cyBvciB1c2VyJ3Mgb3duIHByb2R1Y3RzXG4gICAgaWYgKHJlcXVlc3RpbmdVc2VyUm9sZSAhPT0gJ2FkbWluJykge1xuICAgICAgcmV0dXJuIHByb2R1Y3RzLmZpbHRlcihwcm9kdWN0ID0+IFxuICAgICAgICBwcm9kdWN0LnN0YXR1cyA9PT0gJ2FjdGl2ZScgfHwgXG4gICAgICAgIChyZXF1ZXN0aW5nVXNlcklkICYmIHByb2R1Y3Quc2VsbGVyX2lkID09PSByZXF1ZXN0aW5nVXNlcklkKVxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gcHJvZHVjdHNcbiAgfVxuXG4gIGFzeW5jIGdldFByb2R1Y3RzQnlTZWxsZXIoc2VsbGVySWQ6IHN0cmluZywgcmVxdWVzdGluZ1VzZXJJZD86IHN0cmluZywgcmVxdWVzdGluZ1VzZXJSb2xlPzogc3RyaW5nKTogUHJvbWlzZTxQcm9kdWN0W10+IHtcbiAgICAvLyBTZWN1cml0eSBjaGVjayAtIHVzZXJzIGNhbiBvbmx5IGFjY2VzcyB0aGVpciBvd24gcHJvZHVjdHMgdW5sZXNzIGFkbWluXG4gICAgaWYgKHJlcXVlc3RpbmdVc2VySWQgJiYgIWF3YWl0IHRoaXMuY2hlY2tVc2VyQWNjZXNzKHJlcXVlc3RpbmdVc2VySWQsIHNlbGxlcklkLCByZXF1ZXN0aW5nVXNlclJvbGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZCBhY2Nlc3MnKVxuICAgIH1cbiAgICBcbiAgICAvLyBVc2UgaW5kZXggaWYgYXZhaWxhYmxlIGZvciBwZXJmb3JtYW5jZVxuICAgIGF3YWl0IHRoaXMuYnVpbGRJbmRleGVzKClcbiAgICBjb25zdCBwcm9kdWN0SWRzID0gdGhpcy5wcm9kdWN0SW5kZXhlcy5nZXQoc2VsbGVySWQpIHx8IFtdXG4gICAgY29uc3QgYWxsUHJvZHVjdHMgPSBhd2FpdCB0aGlzLmdldFByb2R1Y3RzKClcbiAgICByZXR1cm4gYWxsUHJvZHVjdHMuZmlsdGVyKHByb2R1Y3QgPT4gcHJvZHVjdElkcy5pbmNsdWRlcyhwcm9kdWN0LmlkKSlcbiAgfVxuXG4gIGFzeW5jIGdldFByb2R1Y3RCeUlkKGlkOiBzdHJpbmcsIHJlcXVlc3RpbmdVc2VySWQ/OiBzdHJpbmcsIHJlcXVlc3RpbmdVc2VyUm9sZT86IHN0cmluZyk6IFByb21pc2U8UHJvZHVjdCB8IG51bGw+IHtcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHRoaXMuZ2V0UHJvZHVjdHMoKVxuICAgIGNvbnN0IHByb2R1Y3QgPSBwcm9kdWN0cy5maW5kKHByb2R1Y3QgPT4gcHJvZHVjdC5pZCA9PT0gaWQpIHx8IG51bGxcbiAgICBcbiAgICAvLyBTZWN1cml0eSBjaGVjayAtIG5vbi1hY3RpdmUgcHJvZHVjdHMgb25seSB2aXNpYmxlIHRvIG93bmVyIG9yIGFkbWluXG4gICAgaWYgKHByb2R1Y3QgJiYgcHJvZHVjdC5zdGF0dXMgIT09ICdhY3RpdmUnICYmIHJlcXVlc3RpbmdVc2VySWQpIHtcbiAgICAgIGlmICghYXdhaXQgdGhpcy5jaGVja1VzZXJBY2Nlc3MocmVxdWVzdGluZ1VzZXJJZCwgcHJvZHVjdC5zZWxsZXJfaWQsIHJlcXVlc3RpbmdVc2VyUm9sZSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb2R1Y3RcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVByb2R1Y3QocHJvZHVjdDogUHJvZHVjdCwgcmVxdWVzdGluZ1VzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgaWYgKCFwcm9kdWN0Lm5hbWUgfHwgIXByb2R1Y3QucHJpY2UgfHwgIXByb2R1Y3Quc2VsbGVyX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgcHJvZHVjdCBmaWVsZHMnKVxuICAgIH1cbiAgICBcbiAgICAvLyBTZWN1cml0eSBjaGVjayAtIHVzZXJzIGNhbiBvbmx5IGNyZWF0ZSBwcm9kdWN0cyBmb3IgdGhlbXNlbHZlc1xuICAgIGlmIChwcm9kdWN0LnNlbGxlcl9pZCAhPT0gcmVxdWVzdGluZ1VzZXJJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQ6IENhbm5vdCBjcmVhdGUgcHJvZHVjdCBmb3IgYW5vdGhlciB1c2VyJylcbiAgICB9XG4gICAgXG4gICAgYXdhaXQgdGhpcy5hZGRUb1RhYmxlKCdwcm9kdWN0cycsIHByb2R1Y3QpXG4gICAgLy8gVXBkYXRlIGluZGV4ZXNcbiAgICBhd2FpdCB0aGlzLmJ1aWxkSW5kZXhlcygpXG4gIH1cblxuICBhc3luYyB1cGRhdGVQcm9kdWN0KGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8UHJvZHVjdD4sIHJlcXVlc3RpbmdVc2VySWQ6IHN0cmluZywgcmVxdWVzdGluZ1VzZXJSb2xlPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHRoaXMuZ2V0UHJvZHVjdEJ5SWQoaWQpXG4gICAgaWYgKCFwcm9kdWN0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2R1Y3Qgbm90IGZvdW5kJylcbiAgICB9XG4gICAgXG4gICAgLy8gU2VjdXJpdHkgY2hlY2tcbiAgICBpZiAoIWF3YWl0IHRoaXMuY2hlY2tVc2VyQWNjZXNzKHJlcXVlc3RpbmdVc2VySWQsIHByb2R1Y3Quc2VsbGVyX2lkLCByZXF1ZXN0aW5nVXNlclJvbGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZCBhY2Nlc3MnKVxuICAgIH1cbiAgICBcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZUluVGFibGUoJ3Byb2R1Y3RzJywgaWQsIHVwZGF0ZXMpXG4gIH1cblxuICAvLyBBZHZlcnRpc2VtZW50IG9wZXJhdGlvbnMgd2l0aCBzZWN1cml0eSBjaGVja3NcbiAgYXN5bmMgZ2V0QWR2ZXJ0aXNlbWVudHMocmVxdWVzdGluZ1VzZXJJZD86IHN0cmluZywgcmVxdWVzdGluZ1VzZXJSb2xlPzogc3RyaW5nKTogUHJvbWlzZTxBZHZlcnRpc2VtZW50W10+IHtcbiAgICBjb25zdCBhZHMgPSBhd2FpdCB0aGlzLmdldEFsbEZyb21UYWJsZTxBZHZlcnRpc2VtZW50PignYWR2ZXJ0aXNlbWVudHMnKVxuICAgIFxuICAgIC8vIElmIG5vdCBhZG1pbiwgb25seSByZXR1cm4gdXNlcidzIG93biBhZHMgb3IgYWN0aXZlIHB1YmxpYyBhZHNcbiAgICBpZiAocmVxdWVzdGluZ1VzZXJSb2xlICE9PSAnYWRtaW4nKSB7XG4gICAgICByZXR1cm4gYWRzLmZpbHRlcihhZCA9PiBcbiAgICAgICAgYWQuc2VsbGVyX2lkID09PSByZXF1ZXN0aW5nVXNlcklkIHx8IFxuICAgICAgICAoYWQuc3RhdHVzID09PSAnYWN0aXZlJyAmJiBuZXcgRGF0ZShhZC5hY3RpdmVfZnJvbSkgPD0gbmV3IERhdGUoKSAmJiBuZXcgRGF0ZShhZC5hY3RpdmVfdW50aWwpID49IG5ldyBEYXRlKCkpXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhZHNcbiAgfVxuXG4gIGFzeW5jIGdldEFjdGl2ZUFkdmVydGlzZW1lbnRzKCk6IFByb21pc2U8QWR2ZXJ0aXNlbWVudFtdPiB7XG4gICAgY29uc3QgYWRzID0gYXdhaXQgdGhpcy5nZXRBZHZlcnRpc2VtZW50cygpXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgcmV0dXJuIGFkcy5maWx0ZXIoYWQgPT4gXG4gICAgICBhZC5zdGF0dXMgPT09ICdhY3RpdmUnICYmIFxuICAgICAgYWQuYWN0aXZlX2Zyb20gPD0gbm93ICYmIFxuICAgICAgYWQuYWN0aXZlX3VudGlsID49IG5vd1xuICAgIClcbiAgfVxuXG4gIGFzeW5jIGdldEFkdmVydGlzZW1lbnRzQnlTZWxsZXIoc2VsbGVySWQ6IHN0cmluZywgcmVxdWVzdGluZ1VzZXJJZDogc3RyaW5nLCByZXF1ZXN0aW5nVXNlclJvbGU/OiBzdHJpbmcpOiBQcm9taXNlPEFkdmVydGlzZW1lbnRbXT4ge1xuICAgIC8vIFNlY3VyaXR5IGNoZWNrXG4gICAgaWYgKCFhd2FpdCB0aGlzLmNoZWNrVXNlckFjY2VzcyhyZXF1ZXN0aW5nVXNlcklkLCBzZWxsZXJJZCwgcmVxdWVzdGluZ1VzZXJSb2xlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQgYWNjZXNzJylcbiAgICB9XG4gICAgXG4gICAgY29uc3QgYWRzID0gYXdhaXQgdGhpcy5nZXRBZHZlcnRpc2VtZW50cygpXG4gICAgcmV0dXJuIGFkcy5maWx0ZXIoYWQgPT4gYWQuc2VsbGVyX2lkID09PSBzZWxsZXJJZClcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUFkdmVydGlzZW1lbnQoYWQ6IEFkdmVydGlzZW1lbnQsIHJlcXVlc3RpbmdVc2VySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgIGlmICghYWQuc2VsbGVyX2lkIHx8ICFhZC50aXRsZSB8fCAhYWQuYWN0aXZlX2Zyb20gfHwgIWFkLmFjdGl2ZV91bnRpbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGFkdmVydGlzZW1lbnQgZmllbGRzJylcbiAgICB9XG4gICAgXG4gICAgLy8gU2VjdXJpdHkgY2hlY2tcbiAgICBpZiAoYWQuc2VsbGVyX2lkICE9PSByZXF1ZXN0aW5nVXNlcklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZDogQ2Fubm90IGNyZWF0ZSBhZHZlcnRpc2VtZW50IGZvciBhbm90aGVyIHVzZXInKVxuICAgIH1cbiAgICBcbiAgICBhd2FpdCB0aGlzLmFkZFRvVGFibGUoJ2FkdmVydGlzZW1lbnRzJywgYWQpXG4gIH1cblxuICBhc3luYyB1cGRhdGVBZHZlcnRpc2VtZW50KGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8QWR2ZXJ0aXNlbWVudD4sIHJlcXVlc3RpbmdVc2VySWQ6IHN0cmluZywgcmVxdWVzdGluZ1VzZXJSb2xlPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYWRzID0gYXdhaXQgdGhpcy5nZXRBbGxGcm9tVGFibGU8QWR2ZXJ0aXNlbWVudD4oJ2FkdmVydGlzZW1lbnRzJylcbiAgICBjb25zdCBhZCA9IGFkcy5maW5kKGEgPT4gYS5pZCA9PT0gaWQpXG4gICAgaWYgKCFhZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBZHZlcnRpc2VtZW50IG5vdCBmb3VuZCcpXG4gICAgfVxuICAgIFxuICAgIC8vIFNlY3VyaXR5IGNoZWNrXG4gICAgaWYgKCFhd2FpdCB0aGlzLmNoZWNrVXNlckFjY2VzcyhyZXF1ZXN0aW5nVXNlcklkLCBhZC5zZWxsZXJfaWQsIHJlcXVlc3RpbmdVc2VyUm9sZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hdXRob3JpemVkIGFjY2VzcycpXG4gICAgfVxuICAgIFxuICAgIGF3YWl0IHRoaXMudXBkYXRlSW5UYWJsZSgnYWR2ZXJ0aXNlbWVudHMnLCBpZCwgdXBkYXRlcylcbiAgfVxuXG4gIC8vIE9yZGVyIG9wZXJhdGlvbnMgd2l0aCBzZWN1cml0eSBhbmQgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uXG4gIGFzeW5jIGdldE9yZGVycyhyZXF1ZXN0aW5nVXNlcklkOiBzdHJpbmcsIHJlcXVlc3RpbmdVc2VyUm9sZT86IHN0cmluZyk6IFByb21pc2U8T3JkZXJbXT4ge1xuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IHRoaXMuZ2V0QWxsRnJvbVRhYmxlPE9yZGVyPignb3JkZXJzJylcbiAgICBcbiAgICAvLyBTZWN1cml0eTogb25seSBhZG1pbnMgY2FuIHNlZSBhbGwgb3JkZXJzXG4gICAgaWYgKHJlcXVlc3RpbmdVc2VyUm9sZSA9PT0gJ2FkbWluJykge1xuICAgICAgcmV0dXJuIG9yZGVyc1xuICAgIH1cbiAgICBcbiAgICAvLyBVc2VycyBjYW4gb25seSBzZWUgdGhlaXIgb3duIG9yZGVycyAoYXMgYnV5ZXIgb3Igc2VsbGVyKVxuICAgIHJldHVybiBvcmRlcnMuZmlsdGVyKG9yZGVyID0+IFxuICAgICAgb3JkZXIuYnV5ZXJfaWQgPT09IHJlcXVlc3RpbmdVc2VySWQgfHwgb3JkZXIuc2VsbGVyX2lkID09PSByZXF1ZXN0aW5nVXNlcklkXG4gICAgKVxuICB9XG5cbiAgYXN5bmMgZ2V0T3JkZXJzQnlTZWxsZXIoc2VsbGVySWQ6IHN0cmluZywgcmVxdWVzdGluZ1VzZXJJZDogc3RyaW5nLCByZXF1ZXN0aW5nVXNlclJvbGU/OiBzdHJpbmcpOiBQcm9taXNlPE9yZGVyW10+IHtcbiAgICAvLyBTZWN1cml0eSBjaGVja1xuICAgIGlmICghYXdhaXQgdGhpcy5jaGVja1VzZXJBY2Nlc3MocmVxdWVzdGluZ1VzZXJJZCwgc2VsbGVySWQsIHJlcXVlc3RpbmdVc2VyUm9sZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hdXRob3JpemVkIGFjY2VzcycpXG4gICAgfVxuICAgIFxuICAgIC8vIFVzZSBpbmRleCBmb3IgcGVyZm9ybWFuY2VcbiAgICBhd2FpdCB0aGlzLmJ1aWxkSW5kZXhlcygpXG4gICAgY29uc3Qgb3JkZXJJZHMgPSB0aGlzLm9yZGVySW5kZXhlcy5nZXQoc2VsbGVySWQpIHx8IFtdXG4gICAgY29uc3QgYWxsT3JkZXJzID0gYXdhaXQgdGhpcy5nZXRBbGxGcm9tVGFibGU8T3JkZXI+KCdvcmRlcnMnKVxuICAgIHJldHVybiBhbGxPcmRlcnMuZmlsdGVyKG9yZGVyID0+IG9yZGVySWRzLmluY2x1ZGVzKG9yZGVyLmlkKSAmJiBvcmRlci5zZWxsZXJfaWQgPT09IHNlbGxlcklkKVxuICB9XG5cbiAgYXN5bmMgZ2V0T3JkZXJzQnlCdXllcihidXllcklkOiBzdHJpbmcsIHJlcXVlc3RpbmdVc2VySWQ6IHN0cmluZywgcmVxdWVzdGluZ1VzZXJSb2xlPzogc3RyaW5nKTogUHJvbWlzZTxPcmRlcltdPiB7XG4gICAgLy8gU2VjdXJpdHkgY2hlY2tcbiAgICBpZiAoIWF3YWl0IHRoaXMuY2hlY2tVc2VyQWNjZXNzKHJlcXVlc3RpbmdVc2VySWQsIGJ1eWVySWQsIHJlcXVlc3RpbmdVc2VyUm9sZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hdXRob3JpemVkIGFjY2VzcycpXG4gICAgfVxuICAgIFxuICAgIC8vIFVzZSBpbmRleCBmb3IgcGVyZm9ybWFuY2VcbiAgICBhd2FpdCB0aGlzLmJ1aWxkSW5kZXhlcygpXG4gICAgY29uc3Qgb3JkZXJJZHMgPSB0aGlzLm9yZGVySW5kZXhlcy5nZXQoYnV5ZXJJZCkgfHwgW11cbiAgICBjb25zdCBhbGxPcmRlcnMgPSBhd2FpdCB0aGlzLmdldEFsbEZyb21UYWJsZTxPcmRlcj4oJ29yZGVycycpXG4gICAgcmV0dXJuIGFsbE9yZGVycy5maWx0ZXIob3JkZXIgPT4gb3JkZXJJZHMuaW5jbHVkZXMob3JkZXIuaWQpICYmIG9yZGVyLmJ1eWVyX2lkID09PSBidXllcklkKVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlT3JkZXIob3JkZXI6IE9yZGVyLCByZXF1ZXN0aW5nVXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICBpZiAoIW9yZGVyLmJ1eWVyX2lkIHx8ICFvcmRlci5zZWxsZXJfaWQgfHwgIW9yZGVyLnByb2R1Y3RfaWQgfHwgIW9yZGVyLnRvdGFsX3ByaWNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgb3JkZXIgZmllbGRzJylcbiAgICB9XG4gICAgXG4gICAgLy8gU2VjdXJpdHkgY2hlY2sgLSB1c2VycyBjYW4gb25seSBjcmVhdGUgb3JkZXJzIGFzIGJ1eWVyc1xuICAgIGlmIChvcmRlci5idXllcl9pZCAhPT0gcmVxdWVzdGluZ1VzZXJJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQ6IENhbm5vdCBjcmVhdGUgb3JkZXIgZm9yIGFub3RoZXIgdXNlcicpXG4gICAgfVxuICAgIFxuICAgIGF3YWl0IHRoaXMuYWRkVG9UYWJsZSgnb3JkZXJzJywgb3JkZXIpXG4gICAgLy8gVXBkYXRlIGluZGV4ZXNcbiAgICBhd2FpdCB0aGlzLmJ1aWxkSW5kZXhlcygpXG4gIH1cblxuICBhc3luYyB1cGRhdGVPcmRlcihpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPE9yZGVyPiwgcmVxdWVzdGluZ1VzZXJJZDogc3RyaW5nLCByZXF1ZXN0aW5nVXNlclJvbGU/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCB0aGlzLmdldEFsbEZyb21UYWJsZTxPcmRlcj4oJ29yZGVycycpXG4gICAgY29uc3Qgb3JkZXIgPSBvcmRlcnMuZmluZChvID0+IG8uaWQgPT09IGlkKVxuICAgIGlmICghb3JkZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT3JkZXIgbm90IGZvdW5kJylcbiAgICB9XG4gICAgXG4gICAgLy8gU2VjdXJpdHkgY2hlY2sgLSBidXllcnMgYW5kIHNlbGxlcnMgY2FuIHVwZGF0ZSB0aGVpciBvcmRlcnNcbiAgICBjb25zdCBjYW5BY2Nlc3MgPSBvcmRlci5idXllcl9pZCA9PT0gcmVxdWVzdGluZ1VzZXJJZCB8fCBcbiAgICAgICAgICAgICAgICAgICAgIG9yZGVyLnNlbGxlcl9pZCA9PT0gcmVxdWVzdGluZ1VzZXJJZCB8fCBcbiAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RpbmdVc2VyUm9sZSA9PT0gJ2FkbWluJ1xuICAgIFxuICAgIGlmICghY2FuQWNjZXNzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZCBhY2Nlc3MnKVxuICAgIH1cbiAgICBcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZUluVGFibGUoJ29yZGVycycsIGlkLCB1cGRhdGVzKVxuICB9XG5cbiAgLy8gUmF0aW5nIG9wZXJhdGlvbnMgd2l0aCBzZWN1cml0eSBhbmQgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uXG4gIGFzeW5jIGdldFJhdGluZ3NCeVByb2R1Y3QocHJvZHVjdElkOiBzdHJpbmcpOiBQcm9taXNlPFJhdGluZ1tdPiB7XG4gICAgLy8gVXNlIGluZGV4IGZvciBwZXJmb3JtYW5jZVxuICAgIGF3YWl0IHRoaXMuYnVpbGRJbmRleGVzKClcbiAgICBjb25zdCByYXRpbmdJZHMgPSB0aGlzLnJhdGluZ0luZGV4ZXMuZ2V0KHByb2R1Y3RJZCkgfHwgW11cbiAgICBjb25zdCBhbGxSYXRpbmdzID0gYXdhaXQgdGhpcy5nZXRBbGxGcm9tVGFibGU8UmF0aW5nPigncmF0aW5ncycpXG4gICAgcmV0dXJuIGFsbFJhdGluZ3MuZmlsdGVyKHJhdGluZyA9PiByYXRpbmdJZHMuaW5jbHVkZXMocmF0aW5nLmlkKSlcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVJhdGluZyhyYXRpbmc6IFJhdGluZywgcmVxdWVzdGluZ1VzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgaWYgKCFyYXRpbmcucHJvZHVjdF9pZCB8fCAhcmF0aW5nLnVzZXJfaWQgfHwgIXJhdGluZy5yYXRpbmcgfHwgcmF0aW5nLnJhdGluZyA8IDEgfHwgcmF0aW5nLnJhdGluZyA+IDUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByYXRpbmcgZGF0YScpXG4gICAgfVxuICAgIFxuICAgIC8vIFNlY3VyaXR5IGNoZWNrIC0gdXNlcnMgY2FuIG9ubHkgY3JlYXRlIHJhdGluZ3MgYXMgdGhlbXNlbHZlc1xuICAgIGlmIChyYXRpbmcudXNlcl9pZCAhPT0gcmVxdWVzdGluZ1VzZXJJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQ6IENhbm5vdCBjcmVhdGUgcmF0aW5nIGZvciBhbm90aGVyIHVzZXInKVxuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBmb3IgZHVwbGljYXRlIHJhdGluZ3NcbiAgICBjb25zdCBleGlzdGluZ1JhdGluZ3MgPSBhd2FpdCB0aGlzLmdldFJhdGluZ3NCeVByb2R1Y3QocmF0aW5nLnByb2R1Y3RfaWQpXG4gICAgY29uc3QgZXhpc3RpbmdSYXRpbmcgPSBleGlzdGluZ1JhdGluZ3MuZmluZChyID0+IHIudXNlcl9pZCA9PT0gcmVxdWVzdGluZ1VzZXJJZClcbiAgICBpZiAoZXhpc3RpbmdSYXRpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBoYXMgYWxyZWFkeSByYXRlZCB0aGlzIHByb2R1Y3QnKVxuICAgIH1cbiAgICBcbiAgICBhd2FpdCB0aGlzLmFkZFRvVGFibGUoJ3JhdGluZ3MnLCByYXRpbmcpXG4gICAgLy8gVXBkYXRlIGluZGV4ZXNcbiAgICBhd2FpdCB0aGlzLmJ1aWxkSW5kZXhlcygpXG4gIH1cblxuICAvLyBQbGFuIG9wZXJhdGlvbnNcbiAgYXN5bmMgZ2V0VXNlclBsYW4odXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHsgdGllcjogc3RyaW5nOyBtYXhQcm9kdWN0czogbnVtYmVyOyBtYXhBZHM6IG51bWJlciB9IHwgbnVsbD4ge1xuICAgIGNvbnN0IHBsYW5zID0gYXdhaXQgdGhpcy5nZXRBbGxGcm9tVGFibGU8YW55PigndXNlcl9wbGFucycpXG4gICAgcmV0dXJuIHBsYW5zLmZpbmQocGxhbiA9PiBwbGFuLnVzZXJJZCA9PT0gdXNlcklkKSB8fCBudWxsXG4gIH1cblxuICBhc3luYyB1cGRhdGVVc2VyUGxhbih1c2VySWQ6IHN0cmluZywgcGxhbkRhdGE6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHBsYW5zID0gYXdhaXQgdGhpcy5nZXRBbGxGcm9tVGFibGU8YW55PigndXNlcl9wbGFucycpXG4gICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IHBsYW5zLmZpbmRJbmRleChwbGFuID0+IHBsYW4udXNlcklkID09PSB1c2VySWQpXG5cbiAgICBpZiAoZXhpc3RpbmdJbmRleCAhPT0gLTEpIHtcbiAgICAgIHBsYW5zW2V4aXN0aW5nSW5kZXhdID0geyAuLi5wbGFuc1tleGlzdGluZ0luZGV4XSwgLi4ucGxhbkRhdGEgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwbGFucy5wdXNoKHsgdXNlcklkLCAuLi5wbGFuRGF0YSB9KVxuICAgIH1cblxuICAgIGF3YWl0IHRoaXMuc2FmZVNldCgndXNlcl9wbGFucycsIHBsYW5zKVxuICB9XG5cbiAgLy8gVXNhZ2UgdHJhY2tpbmdcbiAgYXN5bmMgZ2V0VXNlclVzYWdlKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx7IHByb2R1Y3RzQ3JlYXRlZDogbnVtYmVyOyBhZHNDcmVhdGVkOiBudW1iZXI7IHJlcG9ydHNHZW5lcmF0ZWQ6IG51bWJlciB9IHwgbnVsbD4ge1xuICAgIGNvbnN0IHVzYWdlID0gYXdhaXQgdGhpcy5nZXRBbGxGcm9tVGFibGU8YW55PigndXNlcl91c2FnZScpXG4gICAgcmV0dXJuIHVzYWdlLmZpbmQodSA9PiB1LnVzZXJJZCA9PT0gdXNlcklkKSB8fCB7IHByb2R1Y3RzQ3JlYXRlZDogMCwgYWRzQ3JlYXRlZDogMCwgcmVwb3J0c0dlbmVyYXRlZDogMCB9XG4gIH1cblxuICBhc3luYyBpbmNyZW1lbnRVc2FnZSh1c2VySWQ6IHN0cmluZywgZmllbGQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHVzYWdlID0gYXdhaXQgdGhpcy5nZXRBbGxGcm9tVGFibGU8YW55PigndXNlcl91c2FnZScpXG4gICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IHVzYWdlLmZpbmRJbmRleCh1ID0+IHUudXNlcklkID09PSB1c2VySWQpXG5cbiAgICBpZiAoZXhpc3RpbmdJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVzYWdlW2V4aXN0aW5nSW5kZXhdW2ZpZWxkXSA9ICh1c2FnZVtleGlzdGluZ0luZGV4XVtmaWVsZF0gfHwgMCkgKyAxXG4gICAgfSBlbHNlIHtcbiAgICAgIHVzYWdlLnB1c2goeyB1c2VySWQsIFtmaWVsZF06IDEgfSlcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnNhZmVTZXQoJ3VzZXJfdXNhZ2UnLCB1c2FnZSlcbiAgfVxuXG4gIC8vIEluc2lnaHRzIG9wZXJhdGlvbnNcbiAgYXN5bmMgZ2V0SW5zaWdodHMoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHJldHVybiB0aGlzLmdldEFsbEZyb21UYWJsZTxhbnk+KCdpbnNpZ2h0cycpXG4gIH1cblxuICAvLyBTdG9yZWZyb250IG9wZXJhdGlvbnMgd2l0aCBzZWN1cml0eSBjaGVja3NcbiAgYXN5bmMgZ2V0U3RvcmVmcm9udHMocmVxdWVzdGluZ1VzZXJJZD86IHN0cmluZywgcmVxdWVzdGluZ1VzZXJSb2xlPzogc3RyaW5nKTogUHJvbWlzZTxTdG9yZWZyb250W10+IHtcbiAgICBjb25zdCBzdG9yZWZyb250cyA9IGF3YWl0IHRoaXMuZ2V0QWxsRnJvbVRhYmxlPFN0b3JlZnJvbnQ+KCdzdG9yZWZyb250cycpXG4gICAgXG4gICAgLy8gSWYgbm90IGFkbWluLCBvbmx5IHJldHVybiB1c2VyJ3Mgb3duIHN0b3JlZnJvbnQgb3IgYWN0aXZlIHB1YmxpYyBvbmVzXG4gICAgaWYgKHJlcXVlc3RpbmdVc2VyUm9sZSAhPT0gJ2FkbWluJykge1xuICAgICAgcmV0dXJuIHN0b3JlZnJvbnRzLmZpbHRlcihzdG9yZSA9PiBcbiAgICAgICAgc3RvcmUubWVyY2hhbnRfaWQgPT09IHJlcXVlc3RpbmdVc2VySWQgfHwgXG4gICAgICAgIHN0b3JlLnN0YXR1cyA9PT0gJ2FjdGl2ZSdcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIHN0b3JlZnJvbnRzXG4gIH1cblxuICBhc3luYyBnZXRTdG9yZWZyb250QnlTbHVnKHNsdWc6IHN0cmluZyk6IFByb21pc2U8U3RvcmVmcm9udCB8IG51bGw+IHtcbiAgICBjb25zdCBzdG9yZWZyb250cyA9IGF3YWl0IHRoaXMuZ2V0U3RvcmVmcm9udHMoKVxuICAgIGNvbnN0IHN0b3JlZnJvbnQgPSBzdG9yZWZyb250cy5maW5kKHN0b3JlID0+IHN0b3JlLnNsdWcgPT09IHNsdWcpIHx8IG51bGxcbiAgICBcbiAgICAvLyBQdWJsaWMgc3RvcmVmcm9udHMgYXJlIHZpc2libGUgdG8gYWxsXG4gICAgaWYgKHN0b3JlZnJvbnQgJiYgc3RvcmVmcm9udC5zdGF0dXMgPT09ICdhY3RpdmUnKSB7XG4gICAgICByZXR1cm4gc3RvcmVmcm9udFxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgYXN5bmMgZ2V0U3RvcmVmcm9udEJ5TWVyY2hhbnQobWVyY2hhbnRJZDogc3RyaW5nLCByZXF1ZXN0aW5nVXNlcklkPzogc3RyaW5nLCByZXF1ZXN0aW5nVXNlclJvbGU/OiBzdHJpbmcpOiBQcm9taXNlPFN0b3JlZnJvbnQgfCBudWxsPiB7XG4gICAgLy8gU2VjdXJpdHkgY2hlY2sgZm9yIHByaXZhdGUgYWNjZXNzXG4gICAgaWYgKHJlcXVlc3RpbmdVc2VySWQgJiYgIWF3YWl0IHRoaXMuY2hlY2tVc2VyQWNjZXNzKHJlcXVlc3RpbmdVc2VySWQsIG1lcmNoYW50SWQsIHJlcXVlc3RpbmdVc2VyUm9sZSkpIHtcbiAgICAgIC8vIFJldHVybiBvbmx5IGlmIHN0b3JlZnJvbnQgaXMgcHVibGljXG4gICAgICBjb25zdCBzdG9yZWZyb250cyA9IGF3YWl0IHRoaXMuZ2V0U3RvcmVmcm9udHMoKVxuICAgICAgY29uc3Qgc3RvcmVmcm9udCA9IHN0b3JlZnJvbnRzLmZpbmQoc3RvcmUgPT4gc3RvcmUubWVyY2hhbnRfaWQgPT09IG1lcmNoYW50SWQpIHx8IG51bGxcbiAgICAgIHJldHVybiAoc3RvcmVmcm9udCAmJiBzdG9yZWZyb250LnN0YXR1cyA9PT0gJ2FjdGl2ZScpID8gc3RvcmVmcm9udCA6IG51bGxcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc3RvcmVmcm9udHMgPSBhd2FpdCB0aGlzLmdldFN0b3JlZnJvbnRzKClcbiAgICByZXR1cm4gc3RvcmVmcm9udHMuZmluZChzdG9yZSA9PiBzdG9yZS5tZXJjaGFudF9pZCA9PT0gbWVyY2hhbnRJZCkgfHwgbnVsbFxuICB9XG5cbiAgYXN5bmMgY3JlYXRlU3RvcmVmcm9udChzdG9yZWZyb250OiBTdG9yZWZyb250LCByZXF1ZXN0aW5nVXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICBpZiAoIXN0b3JlZnJvbnQubWVyY2hhbnRfaWQgfHwgIXN0b3JlZnJvbnQuc3RvcmVfbmFtZSB8fCAhc3RvcmVmcm9udC5zbHVnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgc3RvcmVmcm9udCBmaWVsZHMnKVxuICAgIH1cbiAgICBcbiAgICAvLyBTZWN1cml0eSBjaGVja1xuICAgIGlmIChzdG9yZWZyb250Lm1lcmNoYW50X2lkICE9PSByZXF1ZXN0aW5nVXNlcklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZDogQ2Fubm90IGNyZWF0ZSBzdG9yZWZyb250IGZvciBhbm90aGVyIHVzZXInKVxuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBmb3IgZHVwbGljYXRlIHNsdWdcbiAgICBjb25zdCBleGlzdGluZ1N0b3JlZnJvbnQgPSBhd2FpdCB0aGlzLmdldFN0b3JlZnJvbnRCeVNsdWcoc3RvcmVmcm9udC5zbHVnKVxuICAgIGlmIChleGlzdGluZ1N0b3JlZnJvbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3RvcmVmcm9udCBzbHVnIGFscmVhZHkgZXhpc3RzJylcbiAgICB9XG4gICAgXG4gICAgYXdhaXQgdGhpcy5hZGRUb1RhYmxlKCdzdG9yZWZyb250cycsIHN0b3JlZnJvbnQpXG4gIH1cblxuICBhc3luYyB1cGRhdGVTdG9yZWZyb250KGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8U3RvcmVmcm9udD4sIHJlcXVlc3RpbmdVc2VySWQ6IHN0cmluZywgcmVxdWVzdGluZ1VzZXJSb2xlPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc3RvcmVmcm9udHMgPSBhd2FpdCB0aGlzLmdldEFsbEZyb21UYWJsZTxTdG9yZWZyb250Pignc3RvcmVmcm9udHMnKVxuICAgIGNvbnN0IHN0b3JlZnJvbnQgPSBzdG9yZWZyb250cy5maW5kKHMgPT4gcy5pZCA9PT0gaWQpXG4gICAgaWYgKCFzdG9yZWZyb250KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0b3JlZnJvbnQgbm90IGZvdW5kJylcbiAgICB9XG4gICAgXG4gICAgLy8gU2VjdXJpdHkgY2hlY2tcbiAgICBpZiAoIWF3YWl0IHRoaXMuY2hlY2tVc2VyQWNjZXNzKHJlcXVlc3RpbmdVc2VySWQsIHN0b3JlZnJvbnQubWVyY2hhbnRfaWQsIHJlcXVlc3RpbmdVc2VyUm9sZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hdXRob3JpemVkIGFjY2VzcycpXG4gICAgfVxuICAgIFxuICAgIC8vIElmIHVwZGF0aW5nIHNsdWcsIGNoZWNrIGZvciBkdXBsaWNhdGVzXG4gICAgaWYgKHVwZGF0ZXMuc2x1ZyAmJiB1cGRhdGVzLnNsdWcgIT09IHN0b3JlZnJvbnQuc2x1Zykge1xuICAgICAgY29uc3QgZXhpc3RpbmdTdG9yZWZyb250ID0gYXdhaXQgdGhpcy5nZXRTdG9yZWZyb250QnlTbHVnKHVwZGF0ZXMuc2x1ZylcbiAgICAgIGlmIChleGlzdGluZ1N0b3JlZnJvbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdG9yZWZyb250IHNsdWcgYWxyZWFkeSBleGlzdHMnKVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZUluVGFibGUoJ3N0b3JlZnJvbnRzJywgaWQsIHVwZGF0ZXMpXG4gIH1cblxuICBhc3luYyBnZW5lcmF0ZVVuaXF1ZVNsdWcoYmFzZU5hbWU6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgYmFzZVNsdWcgPSBiYXNlTmFtZVxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9bXmEtejAtOVxccy1dL2csICcnKVxuICAgICAgLnJlcGxhY2UoL1xccysvZywgJy0nKVxuICAgICAgLnJlcGxhY2UoLy0rL2csICctJylcbiAgICAgIC50cmltKClcblxuICAgIGNvbnN0IHN0b3JlZnJvbnRzID0gYXdhaXQgdGhpcy5nZXRTdG9yZWZyb250cygpXG4gICAgbGV0IGNvdW50ZXIgPSAwXG4gICAgbGV0IHNsdWcgPSBiYXNlU2x1Z1xuXG4gICAgd2hpbGUgKHN0b3JlZnJvbnRzLmZpbmQoc3RvcmUgPT4gc3RvcmUuc2x1ZyA9PT0gc2x1ZykpIHtcbiAgICAgIGNvdW50ZXIrK1xuICAgICAgc2x1ZyA9IGAke2Jhc2VTbHVnfS0ke2NvdW50ZXJ9YFxuICAgIH1cblxuICAgIHJldHVybiBzbHVnXG4gIH1cblxuICAvLyBFbmhhbmNlZCBwcm9kdWN0IG9wZXJhdGlvbnMgd2l0aCBtZXJjaGFudCBmaWx0ZXJpbmdcbiAgYXN5bmMgZ2V0UHJvZHVjdHNCeU1lcmNoYW50KG1lcmNoYW50SWQ6IHN0cmluZyk6IFByb21pc2U8UHJvZHVjdFtdPiB7XG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCB0aGlzLmdldFByb2R1Y3RzKClcbiAgICByZXR1cm4gcHJvZHVjdHMuZmlsdGVyKHByb2R1Y3QgPT4gcHJvZHVjdC5zZWxsZXJfaWQgPT09IG1lcmNoYW50SWQpXG4gIH1cblxuICBhc3luYyBnZXRQdWJsaWNQcm9kdWN0c0J5TWVyY2hhbnQobWVyY2hhbnRJZDogc3RyaW5nKTogUHJvbWlzZTxQcm9kdWN0W10+IHtcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHRoaXMuZ2V0UHJvZHVjdHNCeU1lcmNoYW50KG1lcmNoYW50SWQpXG4gICAgcmV0dXJuIHByb2R1Y3RzLmZpbHRlcihwcm9kdWN0ID0+IHByb2R1Y3Quc3RhdHVzID09PSAnYWN0aXZlJylcbiAgfVxuXG4gIC8vIEVuaGFuY2VkIG9yZGVyIG9wZXJhdGlvbnMgd2l0aCBtZXJjaGFudCBmaWx0ZXJpbmdcbiAgYXN5bmMgZ2V0T3JkZXJzQnlNZXJjaGFudElkKG1lcmNoYW50SWQ6IHN0cmluZyk6IFByb21pc2U8T3JkZXJbXT4ge1xuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IHRoaXMuZ2V0T3JkZXJzKClcbiAgICByZXR1cm4gb3JkZXJzLmZpbHRlcihvcmRlciA9PiBvcmRlci5zZWxsZXJfaWQgPT09IG1lcmNoYW50SWQpXG4gIH1cblxuICAvLyBFbmhhbmNlZCBhZHZlcnRpc2VtZW50IG9wZXJhdGlvbnMgd2l0aCBtZXJjaGFudCBmaWx0ZXJpbmdcbiAgYXN5bmMgZ2V0QWRzQnlNZXJjaGFudChtZXJjaGFudElkOiBzdHJpbmcpOiBQcm9taXNlPEFkdmVydGlzZW1lbnRbXT4ge1xuICAgIGNvbnN0IGFkcyA9IGF3YWl0IHRoaXMuZ2V0QWR2ZXJ0aXNlbWVudHMoKVxuICAgIHJldHVybiBhZHMuZmlsdGVyKGFkID0+IGFkLnNlbGxlcl9pZCA9PT0gbWVyY2hhbnRJZClcbiAgfVxufVxuXG4vLyBJbml0aWFsaXplIGRhdGFiYXNlIG9wZXJhdGlvbnMgYW5kIGJ1aWxkIGluZGV4ZXNcbmV4cG9ydCBjb25zdCBkYk9wcyA9IG5ldyBEYXRhYmFzZU9wZXJhdGlvbnMoKVxuXG4vLyBJbml0aWFsaXplIGluZGV4ZXMgb24gc3RhcnR1cFxuaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gIC8vIE9ubHkgcnVuIG9uIHNlcnZlciBzaWRlXG4gIGRiT3BzLmJ1aWxkSW5kZXhlcygpLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG59Il0sIm5hbWVzIjpbIkRhdGFiYXNlIiwiZGIiLCJnbG9iYWwiLCJmZXRjaCIsInJlcXVpcmUiLCJlcnJvciIsImNvbnNvbGUiLCJnZXQiLCJrZXkiLCJzZXQiLCJ2YWx1ZSIsImRlbGV0ZSIsImxpc3QiLCJwcmVmaXgiLCJEYXRhYmFzZU9wZXJhdGlvbnMiLCJjaGVja1VzZXJBY2Nlc3MiLCJ1c2VySWQiLCJyZXNvdXJjZU93bmVySWQiLCJ1c2VyUm9sZSIsInNhZmVHZXQiLCJyZXN1bHQiLCJzYWZlU2V0IiwiYnVpbGRJbmRleGVzIiwicHJvZHVjdHMiLCJnZXRBbGxGcm9tVGFibGUiLCJwcm9kdWN0c0J5TWVyY2hhbnQiLCJNYXAiLCJmb3JFYWNoIiwicHJvZHVjdCIsImhhcyIsInNlbGxlcl9pZCIsInB1c2giLCJpZCIsInByb2R1Y3RJbmRleGVzIiwib3JkZXJzIiwib3JkZXJzQnlCdXllciIsIm9yZGVyc0J5U2VsbGVyIiwib3JkZXIiLCJidXllcl9pZCIsIm9yZGVySW5kZXhlcyIsInJhdGluZ3MiLCJyYXRpbmdzQnlQcm9kdWN0IiwicmF0aW5nIiwicHJvZHVjdF9pZCIsInJhdGluZ0luZGV4ZXMiLCJ0YWJsZU5hbWUiLCJkYXRhIiwiQXJyYXkiLCJpc0FycmF5IiwiYWRkVG9UYWJsZSIsIml0ZW0iLCJleGlzdGluZ0RhdGEiLCJ1cGRhdGVJblRhYmxlIiwidXBkYXRlcyIsImluZGV4IiwiZmluZEluZGV4IiwicmVtb3ZlRnJvbVRhYmxlIiwiZmlsdGVyZWREYXRhIiwiZmlsdGVyIiwiY3JlYXRlVXNlciIsInVzZXIiLCJlbWFpbCIsIm5hbWUiLCJyb2xlIiwiRXJyb3IiLCJnZXRVc2VyQnlFbWFpbCIsInVzZXJzIiwiZmluZCIsImdldFVzZXJCeUlkIiwicmVxdWVzdGluZ1VzZXJJZCIsInJlcXVlc3RpbmdVc2VyUm9sZSIsInVwZGF0ZVVzZXIiLCJnZXRQcm9kdWN0cyIsInN0YXR1cyIsImdldFByb2R1Y3RzQnlTZWxsZXIiLCJzZWxsZXJJZCIsInByb2R1Y3RJZHMiLCJhbGxQcm9kdWN0cyIsImluY2x1ZGVzIiwiZ2V0UHJvZHVjdEJ5SWQiLCJjcmVhdGVQcm9kdWN0IiwicHJpY2UiLCJ1cGRhdGVQcm9kdWN0IiwiZ2V0QWR2ZXJ0aXNlbWVudHMiLCJhZHMiLCJhZCIsIkRhdGUiLCJhY3RpdmVfZnJvbSIsImFjdGl2ZV91bnRpbCIsImdldEFjdGl2ZUFkdmVydGlzZW1lbnRzIiwibm93IiwidG9JU09TdHJpbmciLCJnZXRBZHZlcnRpc2VtZW50c0J5U2VsbGVyIiwiY3JlYXRlQWR2ZXJ0aXNlbWVudCIsInRpdGxlIiwidXBkYXRlQWR2ZXJ0aXNlbWVudCIsImEiLCJnZXRPcmRlcnMiLCJnZXRPcmRlcnNCeVNlbGxlciIsIm9yZGVySWRzIiwiYWxsT3JkZXJzIiwiZ2V0T3JkZXJzQnlCdXllciIsImJ1eWVySWQiLCJjcmVhdGVPcmRlciIsInRvdGFsX3ByaWNlIiwidXBkYXRlT3JkZXIiLCJvIiwiY2FuQWNjZXNzIiwiZ2V0UmF0aW5nc0J5UHJvZHVjdCIsInByb2R1Y3RJZCIsInJhdGluZ0lkcyIsImFsbFJhdGluZ3MiLCJjcmVhdGVSYXRpbmciLCJ1c2VyX2lkIiwiZXhpc3RpbmdSYXRpbmdzIiwiZXhpc3RpbmdSYXRpbmciLCJyIiwiZ2V0VXNlclBsYW4iLCJwbGFucyIsInBsYW4iLCJ1cGRhdGVVc2VyUGxhbiIsInBsYW5EYXRhIiwiZXhpc3RpbmdJbmRleCIsImdldFVzZXJVc2FnZSIsInVzYWdlIiwidSIsInByb2R1Y3RzQ3JlYXRlZCIsImFkc0NyZWF0ZWQiLCJyZXBvcnRzR2VuZXJhdGVkIiwiaW5jcmVtZW50VXNhZ2UiLCJmaWVsZCIsImdldEluc2lnaHRzIiwiZ2V0U3RvcmVmcm9udHMiLCJzdG9yZWZyb250cyIsInN0b3JlIiwibWVyY2hhbnRfaWQiLCJnZXRTdG9yZWZyb250QnlTbHVnIiwic2x1ZyIsInN0b3JlZnJvbnQiLCJnZXRTdG9yZWZyb250QnlNZXJjaGFudCIsIm1lcmNoYW50SWQiLCJjcmVhdGVTdG9yZWZyb250Iiwic3RvcmVfbmFtZSIsImV4aXN0aW5nU3RvcmVmcm9udCIsInVwZGF0ZVN0b3JlZnJvbnQiLCJzIiwiZ2VuZXJhdGVVbmlxdWVTbHVnIiwiYmFzZU5hbWUiLCJiYXNlU2x1ZyIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsInRyaW0iLCJjb3VudGVyIiwiZ2V0UHJvZHVjdHNCeU1lcmNoYW50IiwiZ2V0UHVibGljUHJvZHVjdHNCeU1lcmNoYW50IiwiZ2V0T3JkZXJzQnlNZXJjaGFudElkIiwiZ2V0QWRzQnlNZXJjaGFudCIsImRiT3BzIiwiY2F0Y2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./scripts/init-database.ts":
/*!**********************************!*\
  !*** ./scripts/init-database.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/db */ \"(rsc)/./lib/db.ts\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n\nasync function initDatabase() {\n    console.log(\"Initializing database...\");\n    try {\n        // Create sample users\n        const adminUser = {\n            id: \"admin-1\",\n            email: \"admin@muvex.com\",\n            name: \"System Admin\",\n            role: \"admin\",\n            plan: \"premium\",\n            tenant_id: \"system\",\n            created_at: new Date().toISOString(),\n            status: \"active\"\n        };\n        const sellerUser = {\n            id: \"seller-1\",\n            email: \"seller@example.com\",\n            name: \"Premium Supplier\",\n            role: \"seller\",\n            plan: \"premium\",\n            tenant_id: \"tenant-1\",\n            created_at: new Date().toISOString(),\n            status: \"active\"\n        };\n        const buyerUser = {\n            id: \"buyer-1\",\n            email: \"buyer@example.com\",\n            name: \"Global Buyer\",\n            role: \"buyer\",\n            plan: \"standard\",\n            tenant_id: \"tenant-2\",\n            created_at: new Date().toISOString(),\n            status: \"active\"\n        };\n        await _lib_db__WEBPACK_IMPORTED_MODULE_0__.dbOps.createUser(adminUser);\n        await _lib_db__WEBPACK_IMPORTED_MODULE_0__.dbOps.createUser(sellerUser);\n        await _lib_db__WEBPACK_IMPORTED_MODULE_0__.dbOps.createUser(buyerUser);\n        // Create sample products\n        const products = [\n            {\n                id: \"product-1\",\n                name: \"Industrial Oil Pump\",\n                description: \"High-performance centrifugal oil pump suitable for marine and industrial applications\",\n                price: 4500,\n                category: \"Oil & Gas\",\n                seller_id: \"seller-1\",\n                tenant_id: \"tenant-1\",\n                status: \"approved\",\n                images: [\n                    \"/api/placeholder/400/300\"\n                ],\n                tags: [\n                    \"oil\",\n                    \"pump\",\n                    \"industrial\",\n                    \"marine\"\n                ],\n                created_at: new Date().toISOString(),\n                updated_at: new Date().toISOString()\n            },\n            {\n                id: \"product-2\",\n                name: \"Marine Injection Molding System\",\n                description: \"Complete injection molding system designed for marine environment manufacturing\",\n                price: 125000,\n                category: \"Manufacturing\",\n                seller_id: \"seller-1\",\n                tenant_id: \"tenant-1\",\n                status: \"approved\",\n                images: [\n                    \"/api/placeholder/400/300\"\n                ],\n                tags: [\n                    \"injection\",\n                    \"molding\",\n                    \"marine\",\n                    \"manufacturing\"\n                ],\n                created_at: new Date().toISOString(),\n                updated_at: new Date().toISOString()\n            },\n            {\n                id: \"product-3\",\n                name: \"Solar Panel Kit - Commercial Grade\",\n                description: \"High-efficiency solar panel system for commercial and industrial applications\",\n                price: 15000,\n                category: \"Energy\",\n                seller_id: \"seller-1\",\n                tenant_id: \"tenant-1\",\n                status: \"approved\",\n                images: [\n                    \"/api/placeholder/400/300\"\n                ],\n                tags: [\n                    \"solar\",\n                    \"energy\",\n                    \"commercial\",\n                    \"renewable\"\n                ],\n                created_at: new Date().toISOString(),\n                updated_at: new Date().toISOString()\n            }\n        ];\n        for (const product of products){\n            await _lib_db__WEBPACK_IMPORTED_MODULE_0__.dbOps.createProduct(product);\n        }\n        // Create sample advertisements\n        const advertisements = [\n            {\n                id: \"ad-1\",\n                title: \"Premium Oil & Gas Equipment\",\n                description: \"Discover our range of certified oil and gas equipment for industrial operations\",\n                imageUrl: \"/api/placeholder/800/400\",\n                productId: \"product-1\",\n                sellerId: \"seller-1\",\n                status: \"active\",\n                created_at: new Date().toISOString(),\n                tenant_id: \"tenant-1\"\n            },\n            {\n                id: \"ad-2\",\n                title: \"Advanced Manufacturing Solutions\",\n                description: \"Transform your manufacturing with our state-of-the-art injection molding systems\",\n                imageUrl: \"/api/placeholder/800/400\",\n                productId: \"product-2\",\n                sellerId: \"seller-1\",\n                status: \"active\",\n                created_at: new Date().toISOString(),\n                tenant_id: \"tenant-1\"\n            }\n        ];\n        for (const ad of advertisements){\n            await _lib_db__WEBPACK_IMPORTED_MODULE_0__.dbOps.createAdvertisement(ad);\n        }\n        // Create sample insights\n        const insights = [\n            {\n                id: \"insight-1\",\n                title: \"Global Oil & Gas Market Trends 2024\",\n                content: \"The oil and gas industry is experiencing significant transformation with new technologies and sustainability initiatives reshaping the market landscape.\",\n                author_id: \"admin-1\",\n                category: \"Market Analysis\",\n                featured: true,\n                published_at: new Date().toISOString(),\n                tenant_id: \"system\"\n            },\n            {\n                id: \"insight-2\",\n                title: \"Manufacturing Efficiency in Marine Industries\",\n                content: \"Marine manufacturing sector is adopting new technologies to improve efficiency and reduce environmental impact.\",\n                author_id: \"admin-1\",\n                category: \"Industry News\",\n                featured: false,\n                published_at: new Date().toISOString(),\n                tenant_id: \"system\"\n            }\n        ];\n        for (const insight of insights){\n            await _lib_db__WEBPACK_IMPORTED_MODULE_0__.dbOps.createInsight(insight);\n        }\n        console.log(\"✅ Database initialized successfully!\");\n        console.log(`Created ${products.length} products`);\n        console.log(`Created ${advertisements.length} advertisements`);\n        console.log(`Created ${insights.length} insights`);\n    } catch (error) {\n        console.error(\"❌ Error initializing database:\", error);\n        throw error;\n    }\n}\n// Run if called directly\nif (__webpack_require__.c[__webpack_require__.s] === module) {\n    initDatabase().catch(console.error);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (initDatabase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLQSxDQUFDa0MsbUJBQW1CLENBQUNEO1FBQ2xDO1FBRUEseUJBQXlCO1FBQ3pCLE1BQU1FLFdBQVc7WUFDZjtnQkFDRTlCLElBQUk7Z0JBQ0p3QixPQUFPO2dCQUNQTyxTQUFTO2dCQUNUQyxXQUFXO2dCQUNYaEIsVUFBVTtnQkFDVmlCLFVBQVU7Z0JBQ1ZDLGNBQWMsSUFBSTNCLE9BQU9DLFdBQVc7Z0JBQ3BDSCxXQUFXO1lBQ2I7WUFDQTtnQkFDRUwsSUFBSTtnQkFDSndCLE9BQU87Z0JBQ1BPLFNBQVM7Z0JBQ1RDLFdBQVc7Z0JBQ1hoQixVQUFVO2dCQUNWaUIsVUFBVTtnQkFDVkMsY0FBYyxJQUFJM0IsT0FBT0MsV0FBVztnQkFDcENILFdBQVc7WUFDYjtTQUNEO1FBRUQsS0FBSyxNQUFNOEIsV0FBV0wsU0FBVTtZQUM5QixNQUFNbkMsMENBQUtBLENBQUN5QyxhQUFhLENBQUNEO1FBQzVCO1FBRUF0QyxRQUFRQyxHQUFHLENBQUM7UUFDWkQsUUFBUUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFZSxTQUFTd0IsTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUNqRHhDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRXlCLGVBQWVjLE1BQU0sQ0FBQyxlQUFlLENBQUM7UUFDN0R4QyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUVnQyxTQUFTTyxNQUFNLENBQUMsU0FBUyxDQUFDO0lBRW5ELEVBQUUsT0FBT0MsT0FBTztRQUNkekMsUUFBUXlDLEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hELE1BQU1BO0lBQ1I7QUFDRjtBQUVBLHlCQUF5QjtBQUN6QixJQUFJQyw0Q0FBWSxLQUFLRSxRQUFRO0lBQzNCN0MsZUFBZThDLEtBQUssQ0FBQzdDLFFBQVF5QyxLQUFLO0FBQ3BDO0FBRUEsaUVBQWUxQyxZQUFZQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2d4LXNhYXMtbXZwLy4vc2NyaXB0cy9pbml0LWRhdGFiYXNlLnRzPzVmZjYiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBkYk9wcyB9IGZyb20gJy4uL2xpYi9kYidcblxuYXN5bmMgZnVuY3Rpb24gaW5pdERhdGFiYXNlKCkge1xuICBjb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIGRhdGFiYXNlLi4uJylcbiAgXG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIHNhbXBsZSB1c2Vyc1xuICAgIGNvbnN0IGFkbWluVXNlciA9IHtcbiAgICAgIGlkOiAnYWRtaW4tMScsXG4gICAgICBlbWFpbDogJ2FkbWluQG11dmV4LmNvbScsXG4gICAgICBuYW1lOiAnU3lzdGVtIEFkbWluJyxcbiAgICAgIHJvbGU6ICdhZG1pbicgYXMgY29uc3QsXG4gICAgICBwbGFuOiAncHJlbWl1bScgYXMgY29uc3QsXG4gICAgICB0ZW5hbnRfaWQ6ICdzeXN0ZW0nLFxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgc3RhdHVzOiAnYWN0aXZlJyBhcyBjb25zdFxuICAgIH1cbiAgICBcbiAgICBjb25zdCBzZWxsZXJVc2VyID0ge1xuICAgICAgaWQ6ICdzZWxsZXItMScsIFxuICAgICAgZW1haWw6ICdzZWxsZXJAZXhhbXBsZS5jb20nLFxuICAgICAgbmFtZTogJ1ByZW1pdW0gU3VwcGxpZXInLFxuICAgICAgcm9sZTogJ3NlbGxlcicgYXMgY29uc3QsXG4gICAgICBwbGFuOiAncHJlbWl1bScgYXMgY29uc3QsXG4gICAgICB0ZW5hbnRfaWQ6ICd0ZW5hbnQtMScsXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBzdGF0dXM6ICdhY3RpdmUnIGFzIGNvbnN0XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGJ1eWVyVXNlciA9IHtcbiAgICAgIGlkOiAnYnV5ZXItMScsXG4gICAgICBlbWFpbDogJ2J1eWVyQGV4YW1wbGUuY29tJywgXG4gICAgICBuYW1lOiAnR2xvYmFsIEJ1eWVyJyxcbiAgICAgIHJvbGU6ICdidXllcicgYXMgY29uc3QsXG4gICAgICBwbGFuOiAnc3RhbmRhcmQnIGFzIGNvbnN0LFxuICAgICAgdGVuYW50X2lkOiAndGVuYW50LTInLFxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgc3RhdHVzOiAnYWN0aXZlJyBhcyBjb25zdFxuICAgIH1cblxuICAgIGF3YWl0IGRiT3BzLmNyZWF0ZVVzZXIoYWRtaW5Vc2VyKVxuICAgIGF3YWl0IGRiT3BzLmNyZWF0ZVVzZXIoc2VsbGVyVXNlcilcbiAgICBhd2FpdCBkYk9wcy5jcmVhdGVVc2VyKGJ1eWVyVXNlcilcblxuICAgIC8vIENyZWF0ZSBzYW1wbGUgcHJvZHVjdHNcbiAgICBjb25zdCBwcm9kdWN0cyA9IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdwcm9kdWN0LTEnLFxuICAgICAgICBuYW1lOiAnSW5kdXN0cmlhbCBPaWwgUHVtcCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaC1wZXJmb3JtYW5jZSBjZW50cmlmdWdhbCBvaWwgcHVtcCBzdWl0YWJsZSBmb3IgbWFyaW5lIGFuZCBpbmR1c3RyaWFsIGFwcGxpY2F0aW9ucycsXG4gICAgICAgIHByaWNlOiA0NTAwLFxuICAgICAgICBjYXRlZ29yeTogJ09pbCAmIEdhcycsXG4gICAgICAgIHNlbGxlcl9pZDogJ3NlbGxlci0xJyxcbiAgICAgICAgdGVuYW50X2lkOiAndGVuYW50LTEnLFxuICAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcgYXMgY29uc3QsXG4gICAgICAgIGltYWdlczogWycvYXBpL3BsYWNlaG9sZGVyLzQwMC8zMDAnXSxcbiAgICAgICAgdGFnczogWydvaWwnLCAncHVtcCcsICdpbmR1c3RyaWFsJywgJ21hcmluZSddLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdwcm9kdWN0LTInLFxuICAgICAgICBuYW1lOiAnTWFyaW5lIEluamVjdGlvbiBNb2xkaW5nIFN5c3RlbScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ29tcGxldGUgaW5qZWN0aW9uIG1vbGRpbmcgc3lzdGVtIGRlc2lnbmVkIGZvciBtYXJpbmUgZW52aXJvbm1lbnQgbWFudWZhY3R1cmluZycsXG4gICAgICAgIHByaWNlOiAxMjUwMDAsXG4gICAgICAgIGNhdGVnb3J5OiAnTWFudWZhY3R1cmluZycsXG4gICAgICAgIHNlbGxlcl9pZDogJ3NlbGxlci0xJyxcbiAgICAgICAgdGVuYW50X2lkOiAndGVuYW50LTEnLFxuICAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcgYXMgY29uc3QsXG4gICAgICAgIGltYWdlczogWycvYXBpL3BsYWNlaG9sZGVyLzQwMC8zMDAnXSxcbiAgICAgICAgdGFnczogWydpbmplY3Rpb24nLCAnbW9sZGluZycsICdtYXJpbmUnLCAnbWFudWZhY3R1cmluZyddLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdwcm9kdWN0LTMnLFxuICAgICAgICBuYW1lOiAnU29sYXIgUGFuZWwgS2l0IC0gQ29tbWVyY2lhbCBHcmFkZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaC1lZmZpY2llbmN5IHNvbGFyIHBhbmVsIHN5c3RlbSBmb3IgY29tbWVyY2lhbCBhbmQgaW5kdXN0cmlhbCBhcHBsaWNhdGlvbnMnLFxuICAgICAgICBwcmljZTogMTUwMDAsXG4gICAgICAgIGNhdGVnb3J5OiAnRW5lcmd5JyxcbiAgICAgICAgc2VsbGVyX2lkOiAnc2VsbGVyLTEnLFxuICAgICAgICB0ZW5hbnRfaWQ6ICd0ZW5hbnQtMScsXG4gICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyBhcyBjb25zdCxcbiAgICAgICAgaW1hZ2VzOiBbJy9hcGkvcGxhY2Vob2xkZXIvNDAwLzMwMCddLFxuICAgICAgICB0YWdzOiBbJ3NvbGFyJywgJ2VuZXJneScsICdjb21tZXJjaWFsJywgJ3JlbmV3YWJsZSddLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfVxuICAgIF1cblxuICAgIGZvciAoY29uc3QgcHJvZHVjdCBvZiBwcm9kdWN0cykge1xuICAgICAgYXdhaXQgZGJPcHMuY3JlYXRlUHJvZHVjdChwcm9kdWN0KVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBzYW1wbGUgYWR2ZXJ0aXNlbWVudHNcbiAgICBjb25zdCBhZHZlcnRpc2VtZW50cyA9IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdhZC0xJyxcbiAgICAgICAgdGl0bGU6ICdQcmVtaXVtIE9pbCAmIEdhcyBFcXVpcG1lbnQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Rpc2NvdmVyIG91ciByYW5nZSBvZiBjZXJ0aWZpZWQgb2lsIGFuZCBnYXMgZXF1aXBtZW50IGZvciBpbmR1c3RyaWFsIG9wZXJhdGlvbnMnLFxuICAgICAgICBpbWFnZVVybDogJy9hcGkvcGxhY2Vob2xkZXIvODAwLzQwMCcsXG4gICAgICAgIHByb2R1Y3RJZDogJ3Byb2R1Y3QtMScsXG4gICAgICAgIHNlbGxlcklkOiAnc2VsbGVyLTEnLFxuICAgICAgICBzdGF0dXM6ICdhY3RpdmUnIGFzIGNvbnN0LFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHRlbmFudF9pZDogJ3RlbmFudC0xJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdhZC0yJyxcbiAgICAgICAgdGl0bGU6ICdBZHZhbmNlZCBNYW51ZmFjdHVyaW5nIFNvbHV0aW9ucycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVHJhbnNmb3JtIHlvdXIgbWFudWZhY3R1cmluZyB3aXRoIG91ciBzdGF0ZS1vZi10aGUtYXJ0IGluamVjdGlvbiBtb2xkaW5nIHN5c3RlbXMnLFxuICAgICAgICBpbWFnZVVybDogJy9hcGkvcGxhY2Vob2xkZXIvODAwLzQwMCcsXG4gICAgICAgIHByb2R1Y3RJZDogJ3Byb2R1Y3QtMicsXG4gICAgICAgIHNlbGxlcklkOiAnc2VsbGVyLTEnLFxuICAgICAgICBzdGF0dXM6ICdhY3RpdmUnIGFzIGNvbnN0LFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHRlbmFudF9pZDogJ3RlbmFudC0xJ1xuICAgICAgfVxuICAgIF1cblxuICAgIGZvciAoY29uc3QgYWQgb2YgYWR2ZXJ0aXNlbWVudHMpIHtcbiAgICAgIGF3YWl0IGRiT3BzLmNyZWF0ZUFkdmVydGlzZW1lbnQoYWQpXG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHNhbXBsZSBpbnNpZ2h0c1xuICAgIGNvbnN0IGluc2lnaHRzID0gW1xuICAgICAge1xuICAgICAgICBpZDogJ2luc2lnaHQtMScsXG4gICAgICAgIHRpdGxlOiAnR2xvYmFsIE9pbCAmIEdhcyBNYXJrZXQgVHJlbmRzIDIwMjQnLFxuICAgICAgICBjb250ZW50OiAnVGhlIG9pbCBhbmQgZ2FzIGluZHVzdHJ5IGlzIGV4cGVyaWVuY2luZyBzaWduaWZpY2FudCB0cmFuc2Zvcm1hdGlvbiB3aXRoIG5ldyB0ZWNobm9sb2dpZXMgYW5kIHN1c3RhaW5hYmlsaXR5IGluaXRpYXRpdmVzIHJlc2hhcGluZyB0aGUgbWFya2V0IGxhbmRzY2FwZS4nLFxuICAgICAgICBhdXRob3JfaWQ6ICdhZG1pbi0xJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdNYXJrZXQgQW5hbHlzaXMnLFxuICAgICAgICBmZWF0dXJlZDogdHJ1ZSxcbiAgICAgICAgcHVibGlzaGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHRlbmFudF9pZDogJ3N5c3RlbSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnaW5zaWdodC0yJyxcbiAgICAgICAgdGl0bGU6ICdNYW51ZmFjdHVyaW5nIEVmZmljaWVuY3kgaW4gTWFyaW5lIEluZHVzdHJpZXMnLFxuICAgICAgICBjb250ZW50OiAnTWFyaW5lIG1hbnVmYWN0dXJpbmcgc2VjdG9yIGlzIGFkb3B0aW5nIG5ldyB0ZWNobm9sb2dpZXMgdG8gaW1wcm92ZSBlZmZpY2llbmN5IGFuZCByZWR1Y2UgZW52aXJvbm1lbnRhbCBpbXBhY3QuJyxcbiAgICAgICAgYXV0aG9yX2lkOiAnYWRtaW4tMScsXG4gICAgICAgIGNhdGVnb3J5OiAnSW5kdXN0cnkgTmV3cycsXG4gICAgICAgIGZlYXR1cmVkOiBmYWxzZSxcbiAgICAgICAgcHVibGlzaGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHRlbmFudF9pZDogJ3N5c3RlbSdcbiAgICAgIH1cbiAgICBdXG5cbiAgICBmb3IgKGNvbnN0IGluc2lnaHQgb2YgaW5zaWdodHMpIHtcbiAgICAgIGF3YWl0IGRiT3BzLmNyZWF0ZUluc2lnaHQoaW5zaWdodClcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseSEnKVxuICAgIGNvbnNvbGUubG9nKGBDcmVhdGVkICR7cHJvZHVjdHMubGVuZ3RofSBwcm9kdWN0c2ApXG4gICAgY29uc29sZS5sb2coYENyZWF0ZWQgJHthZHZlcnRpc2VtZW50cy5sZW5ndGh9IGFkdmVydGlzZW1lbnRzYClcbiAgICBjb25zb2xlLmxvZyhgQ3JlYXRlZCAke2luc2lnaHRzLmxlbmd0aH0gaW5zaWdodHNgKVxuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBpbml0aWFsaXppbmcgZGF0YWJhc2U6JywgZXJyb3IpXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuXG4vLyBSdW4gaWYgY2FsbGVkIGRpcmVjdGx5XG5pZiAocmVxdWlyZS5tYWluID09PSBtb2R1bGUpIHtcbiAgaW5pdERhdGFiYXNlKCkuY2F0Y2goY29uc29sZS5lcnJvcilcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5pdERhdGFiYXNlXG4iXSwibmFtZXMiOlsiZGJPcHMiLCJpbml0RGF0YWJhc2UiLCJjb25zb2xlIiwibG9nIiwiYWRtaW5Vc2VyIiwiaWQiLCJlbWFpbCIsIm5hbWUiLCJyb2xlIiwicGxhbiIsInRlbmFudF9pZCIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzdGF0dXMiLCJzZWxsZXJVc2VyIiwiYnV5ZXJVc2VyIiwiY3JlYXRlVXNlciIsInByb2R1Y3RzIiwiZGVzY3JpcHRpb24iLCJwcmljZSIsImNhdGVnb3J5Iiwic2VsbGVyX2lkIiwiaW1hZ2VzIiwidGFncyIsInVwZGF0ZWRfYXQiLCJwcm9kdWN0IiwiY3JlYXRlUHJvZHVjdCIsImFkdmVydGlzZW1lbnRzIiwidGl0bGUiLCJpbWFnZVVybCIsInByb2R1Y3RJZCIsInNlbGxlcklkIiwiYWQiLCJjcmVhdGVBZHZlcnRpc2VtZW50IiwiaW5zaWdodHMiLCJjb250ZW50IiwiYXV0aG9yX2lkIiwiZmVhdHVyZWQiLCJwdWJsaXNoZWRfYXQiLCJpbnNpZ2h0IiwiY3JlYXRlSW5zaWdodCIsImxlbmd0aCIsImVycm9yIiwicmVxdWlyZSIsIm1haW4iLCJtb2R1bGUiLCJjYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./scripts/init-database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/whatwg-url","vendor-chunks/tr46","vendor-chunks/node-fetch","vendor-chunks/webidl-conversions","vendor-chunks/@replit"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fseed-database%2Froute&page=%2Fapi%2Fseed-database%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fseed-database%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();