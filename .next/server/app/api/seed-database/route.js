/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/seed-database/route";
exports.ids = ["app/api/seed-database/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fseed-database%2Froute&page=%2Fapi%2Fseed-database%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fseed-database%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fseed-database%2Froute&page=%2Fapi%2Fseed-database%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fseed-database%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_runner_workspace_app_api_seed_database_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/seed-database/route.ts */ \"(rsc)/./app/api/seed-database/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/seed-database/route\",\n        pathname: \"/api/seed-database\",\n        filename: \"route\",\n        bundlePath: \"app/api/seed-database/route\"\n    },\n    resolvedPagePath: \"/home/runner/workspace/app/api/seed-database/route.ts\",\n    nextConfigOutput,\n    userland: _home_runner_workspace_app_api_seed_database_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/seed-database/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzZWVkLWRhdGFiYXNlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzZWVkLWRhdGFiYXNlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc2VlZC1kYXRhYmFzZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNLO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2d4LXNhYXMtbXZwLz84NmNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvYXBwL2FwaS9zZWVkLWRhdGFiYXNlL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zZWVkLWRhdGFiYXNlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc2VlZC1kYXRhYmFzZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc2VlZC1kYXRhYmFzZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvYXBwL2FwaS9zZWVkLWRhdGFiYXNlL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zZWVkLWRhdGFiYXNlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fseed-database%2Froute&page=%2Fapi%2Fseed-database%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fseed-database%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/seed-database/route.ts":
/*!****************************************!*\
  !*** ./app/api/seed-database/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _scripts_init_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/scripts/init-database */ \"(rsc)/./scripts/init-database.ts\");\n\n\nasync function POST() {\n    try {\n        console.log(\"\\uD83C\\uDF31 Starting database seeding...\");\n        const result = await (0,_scripts_init_database__WEBPACK_IMPORTED_MODULE_1__.initDatabase)();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Database seeded successfully\",\n            data: result\n        });\n    } catch (error) {\n        console.error(\"Seeding error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error.message || \"Failed to seed database\",\n            details: error\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET() {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        message: \"Database seeding endpoint. Use POST to seed the database.\",\n        usage: \"POST /api/seed-database\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3NlZWQtZGF0YWJhc2Uvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUMwQztBQUNZO0FBRS9DLGVBQWVFO0lBQ3BCLElBQUk7UUFDRkMsUUFBUUMsR0FBRyxDQUFDO1FBQ1osTUFBTUMsU0FBUyxNQUFNSixvRUFBWUE7UUFFakMsT0FBT0QscURBQVlBLENBQUNNLElBQUksQ0FBQztZQUN2QkMsU0FBUztZQUNUQyxTQUFTO1lBQ1RDLE1BQU1KO1FBQ1I7SUFDRixFQUFFLE9BQU9LLE9BQVk7UUFDbkJQLFFBQVFPLEtBQUssQ0FBQyxrQkFBa0JBO1FBQ2hDLE9BQU9WLHFEQUFZQSxDQUFDTSxJQUFJLENBQ3RCO1lBQ0VDLFNBQVM7WUFDVEcsT0FBT0EsTUFBTUYsT0FBTyxJQUFJO1lBQ3hCRyxTQUFTRDtRQUNYLEdBQ0E7WUFBRUUsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFTyxlQUFlQztJQUNwQixPQUFPYixxREFBWUEsQ0FBQ00sSUFBSSxDQUFDO1FBQ3ZCRSxTQUFTO1FBQ1RNLE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2d4LXNhYXMtbXZwLy4vYXBwL2FwaS9zZWVkLWRhdGFiYXNlL3JvdXRlLnRzPzE2ZGEiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGluaXREYXRhYmFzZSB9IGZyb20gJ0Avc2NyaXB0cy9pbml0LWRhdGFiYXNlJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVCgpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygn8J+MsSBTdGFydGluZyBkYXRhYmFzZSBzZWVkaW5nLi4uJylcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBpbml0RGF0YWJhc2UoKVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ0RhdGFiYXNlIHNlZWRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgZGF0YTogcmVzdWx0XG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1NlZWRpbmcgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNlZWQgZGF0YWJhc2UnLFxuICAgICAgICBkZXRhaWxzOiBlcnJvclxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgIG1lc3NhZ2U6ICdEYXRhYmFzZSBzZWVkaW5nIGVuZHBvaW50LiBVc2UgUE9TVCB0byBzZWVkIHRoZSBkYXRhYmFzZS4nLFxuICAgIHVzYWdlOiAnUE9TVCAvYXBpL3NlZWQtZGF0YWJhc2UnXG4gIH0pXG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiaW5pdERhdGFiYXNlIiwiUE9TVCIsImNvbnNvbGUiLCJsb2ciLCJyZXN1bHQiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJkYXRhIiwiZXJyb3IiLCJkZXRhaWxzIiwic3RhdHVzIiwiR0VUIiwidXNhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/seed-database/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatabaseOperations: () => (/* binding */ DatabaseOperations),\n/* harmony export */   dbOps: () => (/* binding */ dbOps)\n/* harmony export */ });\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase */ \"(rsc)/./lib/supabase.ts\");\n\nclass DatabaseOperations {\n    // Security middleware - Row Level Security equivalent\n    async checkUserAccess(userId, resourceOwnerId, userRole) {\n        // Admin bypass\n        if (userRole === \"admin\") return true;\n        // User can access their own resources\n        return userId === resourceOwnerId;\n    }\n    // User operations with Supabase\n    async createUser(user) {\n        // Validate required fields\n        if (!user.email || !user.name || !user.role) {\n            throw new Error(\"Missing required user fields\");\n        }\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"profiles\").insert([\n            {\n                id: user.id,\n                email: user.email,\n                name: user.name,\n                role: user.role,\n                plan: user.plan || \"free\",\n                tenant_id: user.tenant_id,\n                status: user.status || \"active\"\n            }\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    }\n    async getUserByEmail(email) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"profiles\").select(\"*\").eq(\"email\", email).single();\n        if (error) {\n            if (error.code === \"PGRST116\") return null // No rows returned\n            ;\n            throw error;\n        }\n        return data;\n    }\n    async getUserById(id, requestingUserId, requestingUserRole) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"profiles\").select(\"*\").eq(\"id\", id).single();\n        if (error) {\n            if (error.code === \"PGRST116\") return null;\n            throw error;\n        }\n        // Security check - users can only access their own profile unless admin\n        if (data && requestingUserId && !await this.checkUserAccess(requestingUserId, data.id, requestingUserRole)) {\n            return null;\n        }\n        return data;\n    }\n    async updateUser(id, updates, requestingUserId, requestingUserRole) {\n        // Security check\n        if (requestingUserId && !await this.checkUserAccess(requestingUserId, id, requestingUserRole)) {\n            throw new Error(\"Unauthorized access\");\n        }\n        const { error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"profiles\").update(updates).eq(\"id\", id);\n        if (error) throw error;\n    }\n    // Product operations with Supabase\n    async getProducts(requestingUserId, requestingUserRole) {\n        let query = _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"products\").select(\"*\");\n        // If not admin, only return active products or user's own products\n        if (requestingUserRole !== \"admin\") {\n            if (requestingUserId) {\n                query = query.or(`status.eq.active,seller_id.eq.${requestingUserId}`);\n            } else {\n                query = query.eq(\"status\", \"active\");\n            }\n        }\n        const { data, error } = await query.order(\"created_at\", {\n            ascending: false\n        });\n        if (error) throw error;\n        return data || [];\n    }\n    async getProductsBySeller(sellerId, requestingUserId, requestingUserRole) {\n        // Security check - users can only access their own products unless admin\n        if (requestingUserId && !await this.checkUserAccess(requestingUserId, sellerId, requestingUserRole)) {\n            throw new Error(\"Unauthorized access\");\n        }\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"products\").select(\"*\").eq(\"seller_id\", sellerId).order(\"created_at\", {\n            ascending: false\n        });\n        if (error) throw error;\n        return data || [];\n    }\n    async getProductById(id, requestingUserId, requestingUserRole) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"products\").select(\"*\").eq(\"id\", id).single();\n        if (error) {\n            if (error.code === \"PGRST116\") return null;\n            throw error;\n        }\n        // Security check - non-active products only visible to owner or admin\n        if (data && data.status !== \"active\" && requestingUserId) {\n            if (!await this.checkUserAccess(requestingUserId, data.seller_id, requestingUserRole)) {\n                return null;\n            }\n        }\n        return data;\n    }\n    async createProduct(product, requestingUserId) {\n        // Validate required fields\n        if (!product.name || !product.price || !product.seller_id) {\n            throw new Error(\"Missing required product fields\");\n        }\n        // Security check - users can only create products for themselves\n        if (product.seller_id !== requestingUserId) {\n            throw new Error(\"Unauthorized: Cannot create product for another user\");\n        }\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"products\").insert([\n            {\n                ...product,\n                merchant_id: product.seller_id,\n                tags: product.tags || []\n            }\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    }\n    async updateProduct(id, updates, requestingUserId, requestingUserRole) {\n        const product = await this.getProductById(id);\n        if (!product) {\n            throw new Error(\"Product not found\");\n        }\n        // Security check\n        if (!await this.checkUserAccess(requestingUserId, product.seller_id, requestingUserRole)) {\n            throw new Error(\"Unauthorized access\");\n        }\n        const { error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"products\").update(updates).eq(\"id\", id);\n        if (error) throw error;\n    }\n    // Advertisement operations with Supabase\n    async getAdvertisements(requestingUserId, requestingUserRole) {\n        let query = _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ads\").select(\"*\");\n        // If not admin, only return user's own ads or active public ads\n        if (requestingUserRole !== \"admin\") {\n            if (requestingUserId) {\n                query = query.or(`seller_id.eq.${requestingUserId},and(status.eq.active,active_from.lte.${new Date().toISOString()},active_until.gte.${new Date().toISOString()})`);\n            } else {\n                const now = new Date().toISOString();\n                query = query.eq(\"status\", \"active\").lte(\"active_from\", now).gte(\"active_until\", now);\n            }\n        }\n        const { data, error } = await query.order(\"created_at\", {\n            ascending: false\n        });\n        if (error) throw error;\n        return data || [];\n    }\n    async getActiveAdvertisements() {\n        const now = new Date().toISOString();\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ads\").select(\"*\").eq(\"status\", \"active\").lte(\"active_from\", now).gte(\"active_until\", now).order(\"created_at\", {\n            ascending: false\n        });\n        if (error) throw error;\n        return data || [];\n    }\n    async createAdvertisement(ad, requestingUserId) {\n        // Validate required fields\n        if (!ad.seller_id || !ad.title || !ad.active_from || !ad.active_until) {\n            throw new Error(\"Missing required advertisement fields\");\n        }\n        // Security check\n        if (ad.seller_id !== requestingUserId) {\n            throw new Error(\"Unauthorized: Cannot create advertisement for another user\");\n        }\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ads\").insert([\n            {\n                ...ad,\n                merchant_id: ad.seller_id // Ensure merchant_id is set\n            }\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    }\n    async updateAdvertisement(id, updates, requestingUserId, requestingUserRole) {\n        const { data: ad, error: fetchError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ads\").select(\"*\").eq(\"id\", id).single();\n        if (fetchError) throw fetchError;\n        if (!ad) throw new Error(\"Advertisement not found\");\n        // Security check\n        if (!await this.checkUserAccess(requestingUserId, ad.seller_id, requestingUserRole)) {\n            throw new Error(\"Unauthorized access\");\n        }\n        const { error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ads\").update(updates).eq(\"id\", id);\n        if (error) throw error;\n    }\n    // Order operations with Supabase\n    async getOrders(requestingUserId, requestingUserRole) {\n        let query = _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"orders\").select(\"*\");\n        // Security: only admins can see all orders\n        if (requestingUserRole !== \"admin\") {\n            // Users can only see their own orders (as buyer or seller)\n            query = query.or(`buyer_id.eq.${requestingUserId},seller_id.eq.${requestingUserId}`);\n        }\n        const { data, error } = await query.order(\"created_at\", {\n            ascending: false\n        });\n        if (error) throw error;\n        return data || [];\n    }\n    async createOrder(order, requestingUserId) {\n        // Validate required fields\n        if (!order.buyer_id || !order.seller_id || !order.product_id || !order.total_price) {\n            throw new Error(\"Missing required order fields\");\n        }\n        // Security check - users can only create orders as buyers\n        if (order.buyer_id !== requestingUserId) {\n            throw new Error(\"Unauthorized: Cannot create order for another user\");\n        }\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"orders\").insert([\n            order\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    }\n    async updateOrder(id, updates, requestingUserId, requestingUserRole) {\n        const { data: order, error: fetchError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"orders\").select(\"*\").eq(\"id\", id).single();\n        if (fetchError) throw fetchError;\n        if (!order) throw new Error(\"Order not found\");\n        // Security check - buyers and sellers can update their orders\n        const canAccess = order.buyer_id === requestingUserId || order.seller_id === requestingUserId || requestingUserRole === \"admin\";\n        if (!canAccess) {\n            throw new Error(\"Unauthorized access\");\n        }\n        const { error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"orders\").update(updates).eq(\"id\", id);\n        if (error) throw error;\n    }\n    // Rating operations with Supabase\n    async getRatingsByProduct(productId) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ratings\").select(\"*\").eq(\"product_id\", productId).order(\"created_at\", {\n            ascending: false\n        });\n        if (error) throw error;\n        return data || [];\n    }\n    async createRating(rating, requestingUserId) {\n        // Validate required fields\n        if (!rating.product_id || !rating.user_id || !rating.rating || rating.rating < 1 || rating.rating > 5) {\n            throw new Error(\"Invalid rating data\");\n        }\n        // Security check - users can only create ratings as themselves\n        if (rating.user_id !== requestingUserId) {\n            throw new Error(\"Unauthorized: Cannot create rating for another user\");\n        }\n        // Check for duplicate ratings\n        const { data: existingRating } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ratings\").select(\"id\").eq(\"product_id\", rating.product_id).eq(\"user_id\", requestingUserId).single();\n        if (existingRating) {\n            throw new Error(\"User has already rated this product\");\n        }\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ratings\").insert([\n            rating\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    }\n    // Storefront operations with Supabase\n    async getStorefronts(requestingUserId, requestingUserRole) {\n        let query = _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"storefronts\").select(\"*\");\n        // If not admin, only return user's own storefront or active public ones\n        if (requestingUserRole !== \"admin\") {\n            if (requestingUserId) {\n                query = query.or(`merchant_id.eq.${requestingUserId},status.eq.active`);\n            } else {\n                query = query.eq(\"status\", \"active\");\n            }\n        }\n        const { data, error } = await query.order(\"created_at\", {\n            ascending: false\n        });\n        if (error) throw error;\n        return data || [];\n    }\n    async getStorefrontBySlug(slug) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"storefronts\").select(\"*\").eq(\"slug\", slug).eq(\"status\", \"active\").single();\n        if (error) {\n            if (error.code === \"PGRST116\") return null;\n            throw error;\n        }\n        return data;\n    }\n    async getStorefrontByMerchant(merchantId, requestingUserId, requestingUserRole) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"storefronts\").select(\"*\").eq(\"merchant_id\", merchantId).single();\n        if (error) {\n            if (error.code === \"PGRST116\") return null;\n            throw error;\n        }\n        // Security check for private access\n        if (requestingUserId && !await this.checkUserAccess(requestingUserId, merchantId, requestingUserRole)) {\n            // Return only if storefront is public\n            return data && data.status === \"active\" ? data : null;\n        }\n        return data;\n    }\n    async createStorefront(storefront, requestingUserId) {\n        // Validate required fields\n        if (!storefront.merchant_id || !storefront.store_name || !storefront.slug) {\n            throw new Error(\"Missing required storefront fields\");\n        }\n        // Security check\n        if (storefront.merchant_id !== requestingUserId) {\n            throw new Error(\"Unauthorized: Cannot create storefront for another user\");\n        }\n        // Check for duplicate slug\n        const existingStorefront = await this.getStorefrontBySlug(storefront.slug);\n        if (existingStorefront) {\n            throw new Error(\"Storefront slug already exists\");\n        }\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"storefronts\").insert([\n            storefront\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    }\n    async updateStorefront(id, updates, requestingUserId, requestingUserRole) {\n        const { data: storefront, error: fetchError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"storefronts\").select(\"*\").eq(\"id\", id).single();\n        if (fetchError) throw fetchError;\n        if (!storefront) throw new Error(\"Storefront not found\");\n        // Security check\n        if (!await this.checkUserAccess(requestingUserId, storefront.merchant_id, requestingUserRole)) {\n            throw new Error(\"Unauthorized access\");\n        }\n        // If updating slug, check for duplicates\n        if (updates.slug && updates.slug !== storefront.slug) {\n            const existingStorefront = await this.getStorefrontBySlug(updates.slug);\n            if (existingStorefront) {\n                throw new Error(\"Storefront slug already exists\");\n            }\n        }\n        const { error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"storefronts\").update(updates).eq(\"id\", id);\n        if (error) throw error;\n    }\n    async generateUniqueSlug(baseName) {\n        const baseSlug = baseName.toLowerCase().replace(/[^a-z0-9\\s-]/g, \"\").replace(/\\s+/g, \"-\").replace(/-+/g, \"-\").trim();\n        let counter = 0;\n        let slug = baseSlug;\n        while(true){\n            const existing = await this.getStorefrontBySlug(slug);\n            if (!existing) break;\n            counter++;\n            slug = `${baseSlug}-${counter}`;\n        }\n        return slug;\n    }\n    // Subscription operations with Supabase\n    async getUserSubscription(userId) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"subscriptions\").select(\"*\").eq(\"user_id\", userId).eq(\"status\", \"active\").single();\n        if (error) {\n            if (error.code === \"PGRST116\") return null;\n            throw error;\n        }\n        return data;\n    }\n    async createSubscription(subscription) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"subscriptions\").insert([\n            subscription\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    }\n    async updateSubscription(userId, updates) {\n        const { error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"subscriptions\").update(updates).eq(\"user_id\", userId);\n        if (error) throw error;\n    }\n    // Legacy compatibility methods for plan operations\n    async getUserPlan(userId) {\n        const subscription = await this.getUserSubscription(userId);\n        if (!subscription) return {\n            tier: \"free\",\n            maxProducts: 1,\n            maxAds: 0\n        };\n        const planLimits = {\n            free: {\n                tier: \"free\",\n                maxProducts: 1,\n                maxAds: 0\n            },\n            standard: {\n                tier: \"standard\",\n                maxProducts: 10,\n                maxAds: 3\n            },\n            premium: {\n                tier: \"premium\",\n                maxProducts: 100,\n                maxAds: 10\n            }\n        };\n        return planLimits[subscription.plan] || planLimits.free;\n    }\n    async updateUserPlan(userId, planData) {\n        const existing = await this.getUserSubscription(userId);\n        if (existing) {\n            await this.updateSubscription(userId, planData);\n        } else {\n            await this.createSubscription({\n                user_id: userId,\n                plan: planData.tier || \"free\",\n                status: \"active\",\n                current_period_start: new Date().toISOString(),\n                current_period_end: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString() // 30 days\n            });\n        }\n    }\n    // Usage tracking (can be implemented later with dedicated tables)\n    async getUserUsage(userId) {\n        // Count from actual tables\n        const [productCount, adCount] = await Promise.all([\n            _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"products\").select(\"id\", {\n                count: \"exact\"\n            }).eq(\"seller_id\", userId),\n            _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ads\").select(\"id\", {\n                count: \"exact\"\n            }).eq(\"seller_id\", userId)\n        ]);\n        return {\n            productsCreated: productCount.count || 0,\n            adsCreated: adCount.count || 0,\n            reportsGenerated: 0 // Placeholder\n        };\n    }\n    async incrementUsage(userId, field) {\n        // This can be implemented with a dedicated usage tracking table if needed\n        // For now, we track usage by counting actual records\n        console.log(`Usage incremented for user ${userId}: ${field}`);\n    }\n    // Insights operations (placeholder)\n    async getInsights() {\n        // This would typically aggregate data from multiple tables\n        return [];\n    }\n}\n// Export the database operations instance\nconst dbOps = new DatabaseOperations();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUVrSCxNQUFNLENBQUM7SUFDOUQ7SUFFQSxvQ0FBb0M7SUFDcEMsTUFBTUcsY0FBOEI7UUFDbEMsMkRBQTJEO1FBQzNELE9BQU8sRUFBRTtJQUNYO0FBQ0Y7QUFFQSwwQ0FBMEM7QUFDbkMsTUFBTUMsUUFBUSxJQUFJeEgscUJBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2d4LXNhYXMtbXZwLy4vbGliL2RiLnRzPzFkZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICcuL3N1cGFiYXNlJ1xuaW1wb3J0IHR5cGUgeyBVc2VyLCBQcm9kdWN0LCBBZHZlcnRpc2VtZW50LCBPcmRlciwgUmF0aW5nLCBTdG9yZWZyb250LCBTdWJzY3JpcHRpb24gfSBmcm9tICcuL3N1cGFiYXNlJ1xuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2VPcGVyYXRpb25zIHtcbiAgLy8gU2VjdXJpdHkgbWlkZGxld2FyZSAtIFJvdyBMZXZlbCBTZWN1cml0eSBlcXVpdmFsZW50XG4gIHByaXZhdGUgYXN5bmMgY2hlY2tVc2VyQWNjZXNzKHVzZXJJZDogc3RyaW5nLCByZXNvdXJjZU93bmVySWQ6IHN0cmluZywgdXNlclJvbGU/OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAvLyBBZG1pbiBieXBhc3NcbiAgICBpZiAodXNlclJvbGUgPT09ICdhZG1pbicpIHJldHVybiB0cnVlXG4gICAgLy8gVXNlciBjYW4gYWNjZXNzIHRoZWlyIG93biByZXNvdXJjZXNcbiAgICByZXR1cm4gdXNlcklkID09PSByZXNvdXJjZU93bmVySWRcbiAgfVxuXG4gIC8vIFVzZXIgb3BlcmF0aW9ucyB3aXRoIFN1cGFiYXNlXG4gIGFzeW5jIGNyZWF0ZVVzZXIodXNlcjogT21pdDxVc2VyLCAnY3JlYXRlZF9hdCc+KTogUHJvbWlzZTxVc2VyPiB7XG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgaWYgKCF1c2VyLmVtYWlsIHx8ICF1c2VyLm5hbWUgfHwgIXVzZXIucm9sZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIHVzZXIgZmllbGRzJylcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgIC5pbnNlcnQoW3tcbiAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICAgICAgcGxhbjogdXNlci5wbGFuIHx8ICdmcmVlJyxcbiAgICAgICAgdGVuYW50X2lkOiB1c2VyLnRlbmFudF9pZCxcbiAgICAgICAgc3RhdHVzOiB1c2VyLnN0YXR1cyB8fCAnYWN0aXZlJ1xuICAgICAgfV0pXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgIHJldHVybiBkYXRhXG4gIH1cblxuICBhc3luYyBnZXRVc2VyQnlFbWFpbChlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ2VtYWlsJywgZW1haWwpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQR1JTVDExNicpIHJldHVybiBudWxsIC8vIE5vIHJvd3MgcmV0dXJuZWRcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICAgIHJldHVybiBkYXRhXG4gIH1cblxuICBhc3luYyBnZXRVc2VyQnlJZChpZDogc3RyaW5nLCByZXF1ZXN0aW5nVXNlcklkPzogc3RyaW5nLCByZXF1ZXN0aW5nVXNlclJvbGU/OiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgfCBudWxsPiB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2JykgcmV0dXJuIG51bGxcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuXG4gICAgLy8gU2VjdXJpdHkgY2hlY2sgLSB1c2VycyBjYW4gb25seSBhY2Nlc3MgdGhlaXIgb3duIHByb2ZpbGUgdW5sZXNzIGFkbWluXG4gICAgaWYgKGRhdGEgJiYgcmVxdWVzdGluZ1VzZXJJZCAmJiAhYXdhaXQgdGhpcy5jaGVja1VzZXJBY2Nlc3MocmVxdWVzdGluZ1VzZXJJZCwgZGF0YS5pZCwgcmVxdWVzdGluZ1VzZXJSb2xlKSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVVzZXIoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxVc2VyPiwgcmVxdWVzdGluZ1VzZXJJZD86IHN0cmluZywgcmVxdWVzdGluZ1VzZXJSb2xlPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gU2VjdXJpdHkgY2hlY2tcbiAgICBpZiAocmVxdWVzdGluZ1VzZXJJZCAmJiAhYXdhaXQgdGhpcy5jaGVja1VzZXJBY2Nlc3MocmVxdWVzdGluZ1VzZXJJZCwgaWQsIHJlcXVlc3RpbmdVc2VyUm9sZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hdXRob3JpemVkIGFjY2VzcycpXG4gICAgfVxuXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXG4gICAgICAuZXEoJ2lkJywgaWQpXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gIH1cblxuICAvLyBQcm9kdWN0IG9wZXJhdGlvbnMgd2l0aCBTdXBhYmFzZVxuICBhc3luYyBnZXRQcm9kdWN0cyhyZXF1ZXN0aW5nVXNlcklkPzogc3RyaW5nLCByZXF1ZXN0aW5nVXNlclJvbGU/OiBzdHJpbmcpOiBQcm9taXNlPFByb2R1Y3RbXT4ge1xuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlLmZyb20oJ3Byb2R1Y3RzJykuc2VsZWN0KCcqJylcblxuICAgIC8vIElmIG5vdCBhZG1pbiwgb25seSByZXR1cm4gYWN0aXZlIHByb2R1Y3RzIG9yIHVzZXIncyBvd24gcHJvZHVjdHNcbiAgICBpZiAocmVxdWVzdGluZ1VzZXJSb2xlICE9PSAnYWRtaW4nKSB7XG4gICAgICBpZiAocmVxdWVzdGluZ1VzZXJJZCkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKGBzdGF0dXMuZXEuYWN0aXZlLHNlbGxlcl9pZC5lcS4ke3JlcXVlc3RpbmdVc2VySWR9YClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3N0YXR1cycsICdhY3RpdmUnKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5Lm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgfVxuXG4gIGFzeW5jIGdldFByb2R1Y3RzQnlTZWxsZXIoc2VsbGVySWQ6IHN0cmluZywgcmVxdWVzdGluZ1VzZXJJZD86IHN0cmluZywgcmVxdWVzdGluZ1VzZXJSb2xlPzogc3RyaW5nKTogUHJvbWlzZTxQcm9kdWN0W10+IHtcbiAgICAvLyBTZWN1cml0eSBjaGVjayAtIHVzZXJzIGNhbiBvbmx5IGFjY2VzcyB0aGVpciBvd24gcHJvZHVjdHMgdW5sZXNzIGFkbWluXG4gICAgaWYgKHJlcXVlc3RpbmdVc2VySWQgJiYgIWF3YWl0IHRoaXMuY2hlY2tVc2VyQWNjZXNzKHJlcXVlc3RpbmdVc2VySWQsIHNlbGxlcklkLCByZXF1ZXN0aW5nVXNlclJvbGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZCBhY2Nlc3MnKVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZHVjdHMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ3NlbGxlcl9pZCcsIHNlbGxlcklkKVxuICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgfVxuXG4gIGFzeW5jIGdldFByb2R1Y3RCeUlkKGlkOiBzdHJpbmcsIHJlcXVlc3RpbmdVc2VySWQ/OiBzdHJpbmcsIHJlcXVlc3RpbmdVc2VyUm9sZT86IHN0cmluZyk6IFByb21pc2U8UHJvZHVjdCB8IG51bGw+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSAnUEdSU1QxMTYnKSByZXR1cm4gbnVsbFxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG5cbiAgICAvLyBTZWN1cml0eSBjaGVjayAtIG5vbi1hY3RpdmUgcHJvZHVjdHMgb25seSB2aXNpYmxlIHRvIG93bmVyIG9yIGFkbWluXG4gICAgaWYgKGRhdGEgJiYgZGF0YS5zdGF0dXMgIT09ICdhY3RpdmUnICYmIHJlcXVlc3RpbmdVc2VySWQpIHtcbiAgICAgIGlmICghYXdhaXQgdGhpcy5jaGVja1VzZXJBY2Nlc3MocmVxdWVzdGluZ1VzZXJJZCwgZGF0YS5zZWxsZXJfaWQsIHJlcXVlc3RpbmdVc2VyUm9sZSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVByb2R1Y3QocHJvZHVjdDogT21pdDxQcm9kdWN0LCAnY3JlYXRlZF9hdCcgfCAnaWQnPiwgcmVxdWVzdGluZ1VzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxQcm9kdWN0PiB7XG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgaWYgKCFwcm9kdWN0Lm5hbWUgfHwgIXByb2R1Y3QucHJpY2UgfHwgIXByb2R1Y3Quc2VsbGVyX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgcHJvZHVjdCBmaWVsZHMnKVxuICAgIH1cblxuICAgIC8vIFNlY3VyaXR5IGNoZWNrIC0gdXNlcnMgY2FuIG9ubHkgY3JlYXRlIHByb2R1Y3RzIGZvciB0aGVtc2VsdmVzXG4gICAgaWYgKHByb2R1Y3Quc2VsbGVyX2lkICE9PSByZXF1ZXN0aW5nVXNlcklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZDogQ2Fubm90IGNyZWF0ZSBwcm9kdWN0IGZvciBhbm90aGVyIHVzZXInKVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZHVjdHMnKVxuICAgICAgLmluc2VydChbe1xuICAgICAgICAuLi5wcm9kdWN0LFxuICAgICAgICBtZXJjaGFudF9pZDogcHJvZHVjdC5zZWxsZXJfaWQsIC8vIEVuc3VyZSBtZXJjaGFudF9pZCBpcyBzZXRcbiAgICAgICAgdGFnczogcHJvZHVjdC50YWdzIHx8IFtdXG4gICAgICB9XSlcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVByb2R1Y3QoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxQcm9kdWN0PiwgcmVxdWVzdGluZ1VzZXJJZDogc3RyaW5nLCByZXF1ZXN0aW5nVXNlclJvbGU/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgdGhpcy5nZXRQcm9kdWN0QnlJZChpZClcbiAgICBpZiAoIXByb2R1Y3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUHJvZHVjdCBub3QgZm91bmQnKVxuICAgIH1cblxuICAgIC8vIFNlY3VyaXR5IGNoZWNrXG4gICAgaWYgKCFhd2FpdCB0aGlzLmNoZWNrVXNlckFjY2VzcyhyZXF1ZXN0aW5nVXNlcklkLCBwcm9kdWN0LnNlbGxlcl9pZCwgcmVxdWVzdGluZ1VzZXJSb2xlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQgYWNjZXNzJylcbiAgICB9XG5cbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAgIC51cGRhdGUodXBkYXRlcylcbiAgICAgIC5lcSgnaWQnLCBpZClcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgfVxuXG4gIC8vIEFkdmVydGlzZW1lbnQgb3BlcmF0aW9ucyB3aXRoIFN1cGFiYXNlXG4gIGFzeW5jIGdldEFkdmVydGlzZW1lbnRzKHJlcXVlc3RpbmdVc2VySWQ/OiBzdHJpbmcsIHJlcXVlc3RpbmdVc2VyUm9sZT86IHN0cmluZyk6IFByb21pc2U8QWR2ZXJ0aXNlbWVudFtdPiB7XG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2UuZnJvbSgnYWRzJykuc2VsZWN0KCcqJylcblxuICAgIC8vIElmIG5vdCBhZG1pbiwgb25seSByZXR1cm4gdXNlcidzIG93biBhZHMgb3IgYWN0aXZlIHB1YmxpYyBhZHNcbiAgICBpZiAocmVxdWVzdGluZ1VzZXJSb2xlICE9PSAnYWRtaW4nKSB7XG4gICAgICBpZiAocmVxdWVzdGluZ1VzZXJJZCkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKGBzZWxsZXJfaWQuZXEuJHtyZXF1ZXN0aW5nVXNlcklkfSxhbmQoc3RhdHVzLmVxLmFjdGl2ZSxhY3RpdmVfZnJvbS5sdGUuJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9LGFjdGl2ZV91bnRpbC5ndGUuJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9KWApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnc3RhdHVzJywgJ2FjdGl2ZScpLmx0ZSgnYWN0aXZlX2Zyb20nLCBub3cpLmd0ZSgnYWN0aXZlX3VudGlsJywgbm93KVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5Lm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgfVxuXG4gIGFzeW5jIGdldEFjdGl2ZUFkdmVydGlzZW1lbnRzKCk6IFByb21pc2U8QWR2ZXJ0aXNlbWVudFtdPiB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdhZHMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ3N0YXR1cycsICdhY3RpdmUnKVxuICAgICAgLmx0ZSgnYWN0aXZlX2Zyb20nLCBub3cpXG4gICAgICAuZ3RlKCdhY3RpdmVfdW50aWwnLCBub3cpXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gZGF0YSB8fCBbXVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlQWR2ZXJ0aXNlbWVudChhZDogT21pdDxBZHZlcnRpc2VtZW50LCAnY3JlYXRlZF9hdCcgfCAnaWQnPiwgcmVxdWVzdGluZ1VzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxBZHZlcnRpc2VtZW50PiB7XG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgaWYgKCFhZC5zZWxsZXJfaWQgfHwgIWFkLnRpdGxlIHx8ICFhZC5hY3RpdmVfZnJvbSB8fCAhYWQuYWN0aXZlX3VudGlsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgYWR2ZXJ0aXNlbWVudCBmaWVsZHMnKVxuICAgIH1cblxuICAgIC8vIFNlY3VyaXR5IGNoZWNrXG4gICAgaWYgKGFkLnNlbGxlcl9pZCAhPT0gcmVxdWVzdGluZ1VzZXJJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQ6IENhbm5vdCBjcmVhdGUgYWR2ZXJ0aXNlbWVudCBmb3IgYW5vdGhlciB1c2VyJylcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2FkcycpXG4gICAgICAuaW5zZXJ0KFt7XG4gICAgICAgIC4uLmFkLFxuICAgICAgICBtZXJjaGFudF9pZDogYWQuc2VsbGVyX2lkIC8vIEVuc3VyZSBtZXJjaGFudF9pZCBpcyBzZXRcbiAgICAgIH1dKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlQWR2ZXJ0aXNlbWVudChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPEFkdmVydGlzZW1lbnQ+LCByZXF1ZXN0aW5nVXNlcklkOiBzdHJpbmcsIHJlcXVlc3RpbmdVc2VyUm9sZT86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHsgZGF0YTogYWQsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2FkcycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKGZldGNoRXJyb3IpIHRocm93IGZldGNoRXJyb3JcbiAgICBpZiAoIWFkKSB0aHJvdyBuZXcgRXJyb3IoJ0FkdmVydGlzZW1lbnQgbm90IGZvdW5kJylcblxuICAgIC8vIFNlY3VyaXR5IGNoZWNrXG4gICAgaWYgKCFhd2FpdCB0aGlzLmNoZWNrVXNlckFjY2VzcyhyZXF1ZXN0aW5nVXNlcklkLCBhZC5zZWxsZXJfaWQsIHJlcXVlc3RpbmdVc2VyUm9sZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hdXRob3JpemVkIGFjY2VzcycpXG4gICAgfVxuXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdhZHMnKVxuICAgICAgLnVwZGF0ZSh1cGRhdGVzKVxuICAgICAgLmVxKCdpZCcsIGlkKVxuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICB9XG5cbiAgLy8gT3JkZXIgb3BlcmF0aW9ucyB3aXRoIFN1cGFiYXNlXG4gIGFzeW5jIGdldE9yZGVycyhyZXF1ZXN0aW5nVXNlcklkOiBzdHJpbmcsIHJlcXVlc3RpbmdVc2VyUm9sZT86IHN0cmluZyk6IFByb21pc2U8T3JkZXJbXT4ge1xuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlLmZyb20oJ29yZGVycycpLnNlbGVjdCgnKicpXG5cbiAgICAvLyBTZWN1cml0eTogb25seSBhZG1pbnMgY2FuIHNlZSBhbGwgb3JkZXJzXG4gICAgaWYgKHJlcXVlc3RpbmdVc2VyUm9sZSAhPT0gJ2FkbWluJykge1xuICAgICAgLy8gVXNlcnMgY2FuIG9ubHkgc2VlIHRoZWlyIG93biBvcmRlcnMgKGFzIGJ1eWVyIG9yIHNlbGxlcilcbiAgICAgIHF1ZXJ5ID0gcXVlcnkub3IoYGJ1eWVyX2lkLmVxLiR7cmVxdWVzdGluZ1VzZXJJZH0sc2VsbGVyX2lkLmVxLiR7cmVxdWVzdGluZ1VzZXJJZH1gKVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5Lm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZU9yZGVyKG9yZGVyOiBPbWl0PE9yZGVyLCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCcgfCAnaWQnPiwgcmVxdWVzdGluZ1VzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxPcmRlcj4ge1xuICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgIGlmICghb3JkZXIuYnV5ZXJfaWQgfHwgIW9yZGVyLnNlbGxlcl9pZCB8fCAhb3JkZXIucHJvZHVjdF9pZCB8fCAhb3JkZXIudG90YWxfcHJpY2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBvcmRlciBmaWVsZHMnKVxuICAgIH1cblxuICAgIC8vIFNlY3VyaXR5IGNoZWNrIC0gdXNlcnMgY2FuIG9ubHkgY3JlYXRlIG9yZGVycyBhcyBidXllcnNcbiAgICBpZiAob3JkZXIuYnV5ZXJfaWQgIT09IHJlcXVlc3RpbmdVc2VySWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hdXRob3JpemVkOiBDYW5ub3QgY3JlYXRlIG9yZGVyIGZvciBhbm90aGVyIHVzZXInKVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnb3JkZXJzJylcbiAgICAgIC5pbnNlcnQoW29yZGVyXSlcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZU9yZGVyKGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8T3JkZXI+LCByZXF1ZXN0aW5nVXNlcklkOiBzdHJpbmcsIHJlcXVlc3RpbmdVc2VyUm9sZT86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHsgZGF0YTogb3JkZXIsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ29yZGVycycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKGZldGNoRXJyb3IpIHRocm93IGZldGNoRXJyb3JcbiAgICBpZiAoIW9yZGVyKSB0aHJvdyBuZXcgRXJyb3IoJ09yZGVyIG5vdCBmb3VuZCcpXG5cbiAgICAvLyBTZWN1cml0eSBjaGVjayAtIGJ1eWVycyBhbmQgc2VsbGVycyBjYW4gdXBkYXRlIHRoZWlyIG9yZGVyc1xuICAgIGNvbnN0IGNhbkFjY2VzcyA9IG9yZGVyLmJ1eWVyX2lkID09PSByZXF1ZXN0aW5nVXNlcklkIHx8IFxuICAgICAgICAgICAgICAgICAgICAgb3JkZXIuc2VsbGVyX2lkID09PSByZXF1ZXN0aW5nVXNlcklkIHx8IFxuICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGluZ1VzZXJSb2xlID09PSAnYWRtaW4nXG5cbiAgICBpZiAoIWNhbkFjY2Vzcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQgYWNjZXNzJylcbiAgICB9XG5cbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ29yZGVycycpXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXG4gICAgICAuZXEoJ2lkJywgaWQpXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gIH1cblxuICAvLyBSYXRpbmcgb3BlcmF0aW9ucyB3aXRoIFN1cGFiYXNlXG4gIGFzeW5jIGdldFJhdGluZ3NCeVByb2R1Y3QocHJvZHVjdElkOiBzdHJpbmcpOiBQcm9taXNlPFJhdGluZ1tdPiB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdyYXRpbmdzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdwcm9kdWN0X2lkJywgcHJvZHVjdElkKVxuICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVJhdGluZyhyYXRpbmc6IE9taXQ8UmF0aW5nLCAnY3JlYXRlZF9hdCcgfCAnaWQnPiwgcmVxdWVzdGluZ1VzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxSYXRpbmc+IHtcbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICBpZiAoIXJhdGluZy5wcm9kdWN0X2lkIHx8ICFyYXRpbmcudXNlcl9pZCB8fCAhcmF0aW5nLnJhdGluZyB8fCByYXRpbmcucmF0aW5nIDwgMSB8fCByYXRpbmcucmF0aW5nID4gNSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJhdGluZyBkYXRhJylcbiAgICB9XG5cbiAgICAvLyBTZWN1cml0eSBjaGVjayAtIHVzZXJzIGNhbiBvbmx5IGNyZWF0ZSByYXRpbmdzIGFzIHRoZW1zZWx2ZXNcbiAgICBpZiAocmF0aW5nLnVzZXJfaWQgIT09IHJlcXVlc3RpbmdVc2VySWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hdXRob3JpemVkOiBDYW5ub3QgY3JlYXRlIHJhdGluZyBmb3IgYW5vdGhlciB1c2VyJylcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgZHVwbGljYXRlIHJhdGluZ3NcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nUmF0aW5nIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3JhdGluZ3MnKVxuICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgLmVxKCdwcm9kdWN0X2lkJywgcmF0aW5nLnByb2R1Y3RfaWQpXG4gICAgICAuZXEoJ3VzZXJfaWQnLCByZXF1ZXN0aW5nVXNlcklkKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXhpc3RpbmdSYXRpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBoYXMgYWxyZWFkeSByYXRlZCB0aGlzIHByb2R1Y3QnKVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncmF0aW5ncycpXG4gICAgICAuaW5zZXJ0KFtyYXRpbmddKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgLy8gU3RvcmVmcm9udCBvcGVyYXRpb25zIHdpdGggU3VwYWJhc2VcbiAgYXN5bmMgZ2V0U3RvcmVmcm9udHMocmVxdWVzdGluZ1VzZXJJZD86IHN0cmluZywgcmVxdWVzdGluZ1VzZXJSb2xlPzogc3RyaW5nKTogUHJvbWlzZTxTdG9yZWZyb250W10+IHtcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZS5mcm9tKCdzdG9yZWZyb250cycpLnNlbGVjdCgnKicpXG5cbiAgICAvLyBJZiBub3QgYWRtaW4sIG9ubHkgcmV0dXJuIHVzZXIncyBvd24gc3RvcmVmcm9udCBvciBhY3RpdmUgcHVibGljIG9uZXNcbiAgICBpZiAocmVxdWVzdGluZ1VzZXJSb2xlICE9PSAnYWRtaW4nKSB7XG4gICAgICBpZiAocmVxdWVzdGluZ1VzZXJJZCkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKGBtZXJjaGFudF9pZC5lcS4ke3JlcXVlc3RpbmdVc2VySWR9LHN0YXR1cy5lcS5hY3RpdmVgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnc3RhdHVzJywgJ2FjdGl2ZScpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnkub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gZGF0YSB8fCBbXVxuICB9XG5cbiAgYXN5bmMgZ2V0U3RvcmVmcm9udEJ5U2x1ZyhzbHVnOiBzdHJpbmcpOiBQcm9taXNlPFN0b3JlZnJvbnQgfCBudWxsPiB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdzdG9yZWZyb250cycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnc2x1ZycsIHNsdWcpXG4gICAgICAuZXEoJ3N0YXR1cycsICdhY3RpdmUnKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSAnUEdSU1QxMTYnKSByZXR1cm4gbnVsbFxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIGFzeW5jIGdldFN0b3JlZnJvbnRCeU1lcmNoYW50KG1lcmNoYW50SWQ6IHN0cmluZywgcmVxdWVzdGluZ1VzZXJJZD86IHN0cmluZywgcmVxdWVzdGluZ1VzZXJSb2xlPzogc3RyaW5nKTogUHJvbWlzZTxTdG9yZWZyb250IHwgbnVsbD4ge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnc3RvcmVmcm9udHMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ21lcmNoYW50X2lkJywgbWVyY2hhbnRJZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2JykgcmV0dXJuIG51bGxcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuXG4gICAgLy8gU2VjdXJpdHkgY2hlY2sgZm9yIHByaXZhdGUgYWNjZXNzXG4gICAgaWYgKHJlcXVlc3RpbmdVc2VySWQgJiYgIWF3YWl0IHRoaXMuY2hlY2tVc2VyQWNjZXNzKHJlcXVlc3RpbmdVc2VySWQsIG1lcmNoYW50SWQsIHJlcXVlc3RpbmdVc2VyUm9sZSkpIHtcbiAgICAgIC8vIFJldHVybiBvbmx5IGlmIHN0b3JlZnJvbnQgaXMgcHVibGljXG4gICAgICByZXR1cm4gKGRhdGEgJiYgZGF0YS5zdGF0dXMgPT09ICdhY3RpdmUnKSA/IGRhdGEgOiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVN0b3JlZnJvbnQoc3RvcmVmcm9udDogT21pdDxTdG9yZWZyb250LCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCcgfCAnaWQnPiwgcmVxdWVzdGluZ1VzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxTdG9yZWZyb250PiB7XG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgaWYgKCFzdG9yZWZyb250Lm1lcmNoYW50X2lkIHx8ICFzdG9yZWZyb250LnN0b3JlX25hbWUgfHwgIXN0b3JlZnJvbnQuc2x1Zykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIHN0b3JlZnJvbnQgZmllbGRzJylcbiAgICB9XG5cbiAgICAvLyBTZWN1cml0eSBjaGVja1xuICAgIGlmIChzdG9yZWZyb250Lm1lcmNoYW50X2lkICE9PSByZXF1ZXN0aW5nVXNlcklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZDogQ2Fubm90IGNyZWF0ZSBzdG9yZWZyb250IGZvciBhbm90aGVyIHVzZXInKVxuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBkdXBsaWNhdGUgc2x1Z1xuICAgIGNvbnN0IGV4aXN0aW5nU3RvcmVmcm9udCA9IGF3YWl0IHRoaXMuZ2V0U3RvcmVmcm9udEJ5U2x1ZyhzdG9yZWZyb250LnNsdWcpXG4gICAgaWYgKGV4aXN0aW5nU3RvcmVmcm9udCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdG9yZWZyb250IHNsdWcgYWxyZWFkeSBleGlzdHMnKVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnc3RvcmVmcm9udHMnKVxuICAgICAgLmluc2VydChbc3RvcmVmcm9udF0pXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgIHJldHVybiBkYXRhXG4gIH1cblxuICBhc3luYyB1cGRhdGVTdG9yZWZyb250KGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8U3RvcmVmcm9udD4sIHJlcXVlc3RpbmdVc2VySWQ6IHN0cmluZywgcmVxdWVzdGluZ1VzZXJSb2xlPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgeyBkYXRhOiBzdG9yZWZyb250LCBlcnJvcjogZmV0Y2hFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdzdG9yZWZyb250cycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKGZldGNoRXJyb3IpIHRocm93IGZldGNoRXJyb3JcbiAgICBpZiAoIXN0b3JlZnJvbnQpIHRocm93IG5ldyBFcnJvcignU3RvcmVmcm9udCBub3QgZm91bmQnKVxuXG4gICAgLy8gU2VjdXJpdHkgY2hlY2tcbiAgICBpZiAoIWF3YWl0IHRoaXMuY2hlY2tVc2VyQWNjZXNzKHJlcXVlc3RpbmdVc2VySWQsIHN0b3JlZnJvbnQubWVyY2hhbnRfaWQsIHJlcXVlc3RpbmdVc2VyUm9sZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hdXRob3JpemVkIGFjY2VzcycpXG4gICAgfVxuXG4gICAgLy8gSWYgdXBkYXRpbmcgc2x1ZywgY2hlY2sgZm9yIGR1cGxpY2F0ZXNcbiAgICBpZiAodXBkYXRlcy5zbHVnICYmIHVwZGF0ZXMuc2x1ZyAhPT0gc3RvcmVmcm9udC5zbHVnKSB7XG4gICAgICBjb25zdCBleGlzdGluZ1N0b3JlZnJvbnQgPSBhd2FpdCB0aGlzLmdldFN0b3JlZnJvbnRCeVNsdWcodXBkYXRlcy5zbHVnKVxuICAgICAgaWYgKGV4aXN0aW5nU3RvcmVmcm9udCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0b3JlZnJvbnQgc2x1ZyBhbHJlYWR5IGV4aXN0cycpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdzdG9yZWZyb250cycpXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXG4gICAgICAuZXEoJ2lkJywgaWQpXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gIH1cblxuICBhc3luYyBnZW5lcmF0ZVVuaXF1ZVNsdWcoYmFzZU5hbWU6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgYmFzZVNsdWcgPSBiYXNlTmFtZVxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9bXmEtejAtOVxccy1dL2csICcnKVxuICAgICAgLnJlcGxhY2UoL1xccysvZywgJy0nKVxuICAgICAgLnJlcGxhY2UoLy0rL2csICctJylcbiAgICAgIC50cmltKClcblxuICAgIGxldCBjb3VudGVyID0gMFxuICAgIGxldCBzbHVnID0gYmFzZVNsdWdcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IHRoaXMuZ2V0U3RvcmVmcm9udEJ5U2x1ZyhzbHVnKVxuICAgICAgaWYgKCFleGlzdGluZykgYnJlYWtcblxuICAgICAgY291bnRlcisrXG4gICAgICBzbHVnID0gYCR7YmFzZVNsdWd9LSR7Y291bnRlcn1gXG4gICAgfVxuXG4gICAgcmV0dXJuIHNsdWdcbiAgfVxuXG4gIC8vIFN1YnNjcmlwdGlvbiBvcGVyYXRpb25zIHdpdGggU3VwYWJhc2VcbiAgYXN5bmMgZ2V0VXNlclN1YnNjcmlwdGlvbih1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8U3Vic2NyaXB0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnc3Vic2NyaXB0aW9ucycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICAgIC5lcSgnc3RhdHVzJywgJ2FjdGl2ZScpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQR1JTVDExNicpIHJldHVybiBudWxsXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbjogT21pdDxTdWJzY3JpcHRpb24sICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0JyB8ICdpZCc+KTogUHJvbWlzZTxTdWJzY3JpcHRpb24+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3N1YnNjcmlwdGlvbnMnKVxuICAgICAgLmluc2VydChbc3Vic2NyaXB0aW9uXSlcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVN1YnNjcmlwdGlvbih1c2VySWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxTdWJzY3JpcHRpb24+KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdzdWJzY3JpcHRpb25zJylcbiAgICAgIC51cGRhdGUodXBkYXRlcylcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgfVxuXG4gIC8vIExlZ2FjeSBjb21wYXRpYmlsaXR5IG1ldGhvZHMgZm9yIHBsYW4gb3BlcmF0aW9uc1xuICBhc3luYyBnZXRVc2VyUGxhbih1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8eyB0aWVyOiBzdHJpbmc7IG1heFByb2R1Y3RzOiBudW1iZXI7IG1heEFkczogbnVtYmVyIH0gfCBudWxsPiB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gYXdhaXQgdGhpcy5nZXRVc2VyU3Vic2NyaXB0aW9uKHVzZXJJZClcbiAgICBpZiAoIXN1YnNjcmlwdGlvbikgcmV0dXJuIHsgdGllcjogJ2ZyZWUnLCBtYXhQcm9kdWN0czogMSwgbWF4QWRzOiAwIH1cblxuICAgIGNvbnN0IHBsYW5MaW1pdHMgPSB7XG4gICAgICBmcmVlOiB7IHRpZXI6ICdmcmVlJywgbWF4UHJvZHVjdHM6IDEsIG1heEFkczogMCB9LFxuICAgICAgc3RhbmRhcmQ6IHsgdGllcjogJ3N0YW5kYXJkJywgbWF4UHJvZHVjdHM6IDEwLCBtYXhBZHM6IDMgfSxcbiAgICAgIHByZW1pdW06IHsgdGllcjogJ3ByZW1pdW0nLCBtYXhQcm9kdWN0czogMTAwLCBtYXhBZHM6IDEwIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcGxhbkxpbWl0c1tzdWJzY3JpcHRpb24ucGxhbl0gfHwgcGxhbkxpbWl0cy5mcmVlXG4gIH1cblxuICBhc3luYyB1cGRhdGVVc2VyUGxhbih1c2VySWQ6IHN0cmluZywgcGxhbkRhdGE6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgdGhpcy5nZXRVc2VyU3Vic2NyaXB0aW9uKHVzZXJJZClcbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlU3Vic2NyaXB0aW9uKHVzZXJJZCwgcGxhbkRhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHRoaXMuY3JlYXRlU3Vic2NyaXB0aW9uKHtcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICBwbGFuOiBwbGFuRGF0YS50aWVyIHx8ICdmcmVlJyxcbiAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgY3VycmVudF9wZXJpb2Rfc3RhcnQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgY3VycmVudF9wZXJpb2RfZW5kOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpIC8vIDMwIGRheXNcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLy8gVXNhZ2UgdHJhY2tpbmcgKGNhbiBiZSBpbXBsZW1lbnRlZCBsYXRlciB3aXRoIGRlZGljYXRlZCB0YWJsZXMpXG4gIGFzeW5jIGdldFVzZXJVc2FnZSh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8eyBwcm9kdWN0c0NyZWF0ZWQ6IG51bWJlcjsgYWRzQ3JlYXRlZDogbnVtYmVyOyByZXBvcnRzR2VuZXJhdGVkOiBudW1iZXIgfT4ge1xuICAgIC8vIENvdW50IGZyb20gYWN0dWFsIHRhYmxlc1xuICAgIGNvbnN0IFtwcm9kdWN0Q291bnQsIGFkQ291bnRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgc3VwYWJhc2UuZnJvbSgncHJvZHVjdHMnKS5zZWxlY3QoJ2lkJywgeyBjb3VudDogJ2V4YWN0JyB9KS5lcSgnc2VsbGVyX2lkJywgdXNlcklkKSxcbiAgICAgIHN1cGFiYXNlLmZyb20oJ2FkcycpLnNlbGVjdCgnaWQnLCB7IGNvdW50OiAnZXhhY3QnIH0pLmVxKCdzZWxsZXJfaWQnLCB1c2VySWQpXG4gICAgXSlcblxuICAgIHJldHVybiB7XG4gICAgICBwcm9kdWN0c0NyZWF0ZWQ6IHByb2R1Y3RDb3VudC5jb3VudCB8fCAwLFxuICAgICAgYWRzQ3JlYXRlZDogYWRDb3VudC5jb3VudCB8fCAwLFxuICAgICAgcmVwb3J0c0dlbmVyYXRlZDogMCAvLyBQbGFjZWhvbGRlclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGluY3JlbWVudFVzYWdlKHVzZXJJZDogc3RyaW5nLCBmaWVsZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gVGhpcyBjYW4gYmUgaW1wbGVtZW50ZWQgd2l0aCBhIGRlZGljYXRlZCB1c2FnZSB0cmFja2luZyB0YWJsZSBpZiBuZWVkZWRcbiAgICAvLyBGb3Igbm93LCB3ZSB0cmFjayB1c2FnZSBieSBjb3VudGluZyBhY3R1YWwgcmVjb3Jkc1xuICAgIGNvbnNvbGUubG9nKGBVc2FnZSBpbmNyZW1lbnRlZCBmb3IgdXNlciAke3VzZXJJZH06ICR7ZmllbGR9YClcbiAgfVxuXG4gIC8vIEluc2lnaHRzIG9wZXJhdGlvbnMgKHBsYWNlaG9sZGVyKVxuICBhc3luYyBnZXRJbnNpZ2h0cygpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgLy8gVGhpcyB3b3VsZCB0eXBpY2FsbHkgYWdncmVnYXRlIGRhdGEgZnJvbSBtdWx0aXBsZSB0YWJsZXNcbiAgICByZXR1cm4gW11cbiAgfVxufVxuXG4vLyBFeHBvcnQgdGhlIGRhdGFiYXNlIG9wZXJhdGlvbnMgaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBkYk9wcyA9IG5ldyBEYXRhYmFzZU9wZXJhdGlvbnMoKVxuXG4vLyBFeHBvcnQgdHlwZXMgZm9yIGNvbnZlbmllbmNlXG5leHBvcnQgdHlwZSB7IFVzZXIsIFByb2R1Y3QsIEFkdmVydGlzZW1lbnQsIE9yZGVyLCBSYXRpbmcsIFN0b3JlZnJvbnQsIFN1YnNjcmlwdGlvbiB9Il0sIm5hbWVzIjpbInN1cGFiYXNlIiwiRGF0YWJhc2VPcGVyYXRpb25zIiwiY2hlY2tVc2VyQWNjZXNzIiwidXNlcklkIiwicmVzb3VyY2VPd25lcklkIiwidXNlclJvbGUiLCJjcmVhdGVVc2VyIiwidXNlciIsImVtYWlsIiwibmFtZSIsInJvbGUiLCJFcnJvciIsImRhdGEiLCJlcnJvciIsImZyb20iLCJpbnNlcnQiLCJpZCIsInBsYW4iLCJ0ZW5hbnRfaWQiLCJzdGF0dXMiLCJzZWxlY3QiLCJzaW5nbGUiLCJnZXRVc2VyQnlFbWFpbCIsImVxIiwiY29kZSIsImdldFVzZXJCeUlkIiwicmVxdWVzdGluZ1VzZXJJZCIsInJlcXVlc3RpbmdVc2VyUm9sZSIsInVwZGF0ZVVzZXIiLCJ1cGRhdGVzIiwidXBkYXRlIiwiZ2V0UHJvZHVjdHMiLCJxdWVyeSIsIm9yIiwib3JkZXIiLCJhc2NlbmRpbmciLCJnZXRQcm9kdWN0c0J5U2VsbGVyIiwic2VsbGVySWQiLCJnZXRQcm9kdWN0QnlJZCIsInNlbGxlcl9pZCIsImNyZWF0ZVByb2R1Y3QiLCJwcm9kdWN0IiwicHJpY2UiLCJtZXJjaGFudF9pZCIsInRhZ3MiLCJ1cGRhdGVQcm9kdWN0IiwiZ2V0QWR2ZXJ0aXNlbWVudHMiLCJEYXRlIiwidG9JU09TdHJpbmciLCJub3ciLCJsdGUiLCJndGUiLCJnZXRBY3RpdmVBZHZlcnRpc2VtZW50cyIsImNyZWF0ZUFkdmVydGlzZW1lbnQiLCJhZCIsInRpdGxlIiwiYWN0aXZlX2Zyb20iLCJhY3RpdmVfdW50aWwiLCJ1cGRhdGVBZHZlcnRpc2VtZW50IiwiZmV0Y2hFcnJvciIsImdldE9yZGVycyIsImNyZWF0ZU9yZGVyIiwiYnV5ZXJfaWQiLCJwcm9kdWN0X2lkIiwidG90YWxfcHJpY2UiLCJ1cGRhdGVPcmRlciIsImNhbkFjY2VzcyIsImdldFJhdGluZ3NCeVByb2R1Y3QiLCJwcm9kdWN0SWQiLCJjcmVhdGVSYXRpbmciLCJyYXRpbmciLCJ1c2VyX2lkIiwiZXhpc3RpbmdSYXRpbmciLCJnZXRTdG9yZWZyb250cyIsImdldFN0b3JlZnJvbnRCeVNsdWciLCJzbHVnIiwiZ2V0U3RvcmVmcm9udEJ5TWVyY2hhbnQiLCJtZXJjaGFudElkIiwiY3JlYXRlU3RvcmVmcm9udCIsInN0b3JlZnJvbnQiLCJzdG9yZV9uYW1lIiwiZXhpc3RpbmdTdG9yZWZyb250IiwidXBkYXRlU3RvcmVmcm9udCIsImdlbmVyYXRlVW5pcXVlU2x1ZyIsImJhc2VOYW1lIiwiYmFzZVNsdWciLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJ0cmltIiwiY291bnRlciIsImV4aXN0aW5nIiwiZ2V0VXNlclN1YnNjcmlwdGlvbiIsImNyZWF0ZVN1YnNjcmlwdGlvbiIsInN1YnNjcmlwdGlvbiIsInVwZGF0ZVN1YnNjcmlwdGlvbiIsImdldFVzZXJQbGFuIiwidGllciIsIm1heFByb2R1Y3RzIiwibWF4QWRzIiwicGxhbkxpbWl0cyIsImZyZWUiLCJzdGFuZGFyZCIsInByZW1pdW0iLCJ1cGRhdGVVc2VyUGxhbiIsInBsYW5EYXRhIiwiY3VycmVudF9wZXJpb2Rfc3RhcnQiLCJjdXJyZW50X3BlcmlvZF9lbmQiLCJnZXRVc2VyVXNhZ2UiLCJwcm9kdWN0Q291bnQiLCJhZENvdW50IiwiUHJvbWlzZSIsImFsbCIsImNvdW50IiwicHJvZHVjdHNDcmVhdGVkIiwiYWRzQ3JlYXRlZCIsInJlcG9ydHNHZW5lcmF0ZWQiLCJpbmNyZW1lbnRVc2FnZSIsImZpZWxkIiwiY29uc29sZSIsImxvZyIsImdldEluc2lnaHRzIiwiZGJPcHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://gpxhjjhhnijrxoumxsqp.supabase.co\" || 0;\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdweGhqamhobmlqcnhvdW14c3FwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI4MTE3MTksImV4cCI6MjA2ODM4NzcxOX0.t-0zVxVbY5R52qrXn8cuA6CFYVG41jjBkGzOMR9UEtU\" || 0;\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supabase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ29EO0FBRXBELE1BQU1DLGNBQWNDLDBDQUFvQyxJQUFJO0FBQzVELE1BQU1HLGtCQUFrQkgsa05BQXlDLElBQUk7QUFFOUQsTUFBTUssV0FBV1AsbUVBQVlBLENBQUNDLGFBQWFJLGlCQUFnQjtBQWdHbEUsaUVBQWVFLFFBQVFBLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZ3gtc2Fhcy1tdnAvLi9saWIvc3VwYWJhc2UudHM/Yzk5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcblxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgfHwgJ2h0dHBzOi8vZ3B4aGpqaGhuaWpyeG91bXhzcXAuc3VwYWJhc2UuY28nXG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSB8fCAnZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnBjM01pT2lKemRYQmhZbUZ6WlNJc0luSmxaaUk2SW1kd2VHaHFhbWhvYm1scWNuaHZkVzE0YzNGd0lpd2ljbTlzWlNJNkltRnViMjRpTENKcFlYUWlPakUzTlRJNE1URTNNVGtzSW1WNGNDSTZNakEyT0RNNE56Y3hPWDAudC0welZ4VmJZNVI1MnFyWG44Y3VBNkNGWVZHNDFqakJrR3pPTVI5VUV0VSdcblxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpXG5cbi8vIERhdGFiYXNlIHR5cGVzIGJhc2VkIG9uIG91ciBzY2hlbWFcbmV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XG4gIGlkOiBzdHJpbmdcbiAgZW1haWw6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgcm9sZTogJ2J1eWVyJyB8ICdzZWxsZXInIHwgJ2FkbWluJ1xuICBwbGFuOiAnZnJlZScgfCAnc3RhbmRhcmQnIHwgJ3ByZW1pdW0nXG4gIHRlbmFudF9pZDogc3RyaW5nXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICBzdGF0dXM6ICdhY3RpdmUnIHwgJ2luYWN0aXZlJyB8ICdwZW5kaW5nJ1xuICB1cGRhdGVkX2F0Pzogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdCB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgcHJpY2U6IG51bWJlclxuICBjYXRlZ29yeTogc3RyaW5nXG4gIHNlbGxlcl9pZDogc3RyaW5nXG4gIG1lcmNoYW50X2lkOiBzdHJpbmdcbiAgaW1hZ2VfdXJsOiBzdHJpbmdcbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICdpbmFjdGl2ZScgfCAncGVuZGluZydcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbiAgc3RvY2s6IG51bWJlclxuICB0YWdzOiBzdHJpbmdbXVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFkdmVydGlzZW1lbnQge1xuICBpZDogc3RyaW5nXG4gIHNlbGxlcl9pZDogc3RyaW5nXG4gIG1lcmNoYW50X2lkOiBzdHJpbmdcbiAgcHJvZHVjdF9pZD86IHN0cmluZ1xuICB0aXRsZTogc3RyaW5nXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgaW1hZ2VfdXJsOiBzdHJpbmdcbiAgYWN0aXZlX2Zyb206IHN0cmluZ1xuICBhY3RpdmVfdW50aWw6IHN0cmluZ1xuICBzdGF0dXM6ICdhY3RpdmUnIHwgJ2luYWN0aXZlJyB8ICdleHBpcmVkJ1xuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgdXBkYXRlZF9hdD86IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVyIHtcbiAgaWQ6IHN0cmluZ1xuICBidXllcl9pZDogc3RyaW5nXG4gIHNlbGxlcl9pZDogc3RyaW5nXG4gIHByb2R1Y3RfaWQ6IHN0cmluZ1xuICBxdWFudGl0eTogbnVtYmVyXG4gIHRvdGFsX3ByaWNlOiBudW1iZXJcbiAgc3RhdHVzOiAndW5wYWlkJyB8ICd0b19zaGlwJyB8ICdzaGlwcGluZycgfCAnY29tcGxldGUnIHwgJ2NhbmNlbGxlZCdcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZ1xuICBzaGlwcGluZ19hZGRyZXNzOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSYXRpbmcge1xuICBpZDogc3RyaW5nXG4gIHByb2R1Y3RfaWQ6IHN0cmluZ1xuICB1c2VyX2lkOiBzdHJpbmdcbiAgcmF0aW5nOiBudW1iZXJcbiAgY29tbWVudDogc3RyaW5nXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0b3JlZnJvbnQge1xuICBpZDogc3RyaW5nXG4gIG1lcmNoYW50X2lkOiBzdHJpbmdcbiAgc3RvcmVfbmFtZTogc3RyaW5nXG4gIHNsdWc6IHN0cmluZ1xuICBiaW86IHN0cmluZ1xuICBsb2dvX3VybD86IHN0cmluZ1xuICBiYW5uZXJfdXJsPzogc3RyaW5nXG4gIGN1c3RvbV9kb21haW4/OiBzdHJpbmdcbiAgY29udGFjdF9lbWFpbD86IHN0cmluZ1xuICBjb250YWN0X3Bob25lPzogc3RyaW5nXG4gIGFkZHJlc3M/OiBzdHJpbmdcbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICdpbmFjdGl2ZScgfCAncGVuZGluZydcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmlwdGlvbiB7XG4gIGlkOiBzdHJpbmdcbiAgdXNlcl9pZDogc3RyaW5nXG4gIHBsYW46ICdmcmVlJyB8ICdzdGFuZGFyZCcgfCAncHJlbWl1bSdcbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICdjYW5jZWxsZWQnIHwgJ2V4cGlyZWQnXG4gIGN1cnJlbnRfcGVyaW9kX3N0YXJ0OiBzdHJpbmdcbiAgY3VycmVudF9wZXJpb2RfZW5kOiBzdHJpbmdcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZ1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdXBhYmFzZVxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwic3VwYWJhc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ }),

/***/ "(rsc)/./scripts/init-database.ts":
/*!**********************************!*\
  !*** ./scripts/init-database.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initDatabase: () => (/* binding */ initDatabase)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n\n\nasync function initDatabase() {\n    console.log(\"\\uD83D\\uDE80 Initializing MSHOP database with Supabase...\");\n    try {\n        // Test Supabase connection\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"profiles\").select(\"count\").limit(1);\n        if (error) {\n            console.error(\"Supabase connection error:\", error);\n            throw error;\n        }\n        console.log(\" Supabase connection successful\");\n        // Create sample admin user\n        const adminUser = {\n            id: \"admin-001\",\n            email: \"admin@mshop.com\",\n            name: \"Admin User\",\n            role: \"admin\",\n            plan: \"premium\",\n            tenant_id: \"tenant_admin\",\n            status: \"active\"\n        };\n        // Create sample seller users\n        const seller1 = {\n            id: \"seller-001\",\n            email: \"seller1@mshop.com\",\n            name: \"John Seller\",\n            role: \"seller\",\n            plan: \"standard\",\n            tenant_id: \"tenant_seller1\",\n            status: \"active\"\n        };\n        const seller2 = {\n            id: \"seller-002\",\n            email: \"seller2@mshop.com\",\n            name: \"Jane Merchant\",\n            role: \"seller\",\n            plan: \"premium\",\n            tenant_id: \"tenant_seller2\",\n            status: \"active\"\n        };\n        // Create sample buyer user\n        const buyer1 = {\n            id: \"buyer-001\",\n            email: \"buyer1@mshop.com\",\n            name: \"Bob Buyer\",\n            role: \"buyer\",\n            plan: \"free\",\n            tenant_id: \"tenant_buyer1\",\n            status: \"active\"\n        };\n        // Insert users\n        const users = [\n            adminUser,\n            seller1,\n            seller2,\n            buyer1\n        ];\n        for (const user of users){\n            try {\n                await _lib_db__WEBPACK_IMPORTED_MODULE_1__.dbOps.createUser(user);\n                console.log(` Created user: ${user.email}`);\n            } catch (error) {\n                if (error.code === \"23505\") {\n                    console.log(` User already exists: ${user.email}`);\n                } else {\n                    console.error(` Error creating user ${user.email}:`, error);\n                }\n            }\n        }\n        // Create sample products\n        const products = [\n            {\n                name: \"Solar Panel System 5kW\",\n                description: \"Complete solar panel system for residential use\",\n                price: 5000.00,\n                category: \"Solar Energy\",\n                seller_id: \"seller-001\",\n                merchant_id: \"seller-001\",\n                image_url: \"/images/solar-panel-5kw.jpg\",\n                status: \"active\",\n                stock: 10,\n                tags: [\n                    \"solar\",\n                    \"renewable\",\n                    \"residential\"\n                ]\n            },\n            {\n                name: \"Industrial Generator 50kW\",\n                description: \"Heavy-duty generator for industrial applications\",\n                price: 25000.00,\n                category: \"Generators\",\n                seller_id: \"seller-001\",\n                merchant_id: \"seller-001\",\n                image_url: \"/images/generator-50kw.jpg\",\n                status: \"active\",\n                stock: 5,\n                tags: [\n                    \"generator\",\n                    \"industrial\",\n                    \"power\"\n                ]\n            },\n            {\n                name: \"LED Street Light 100W\",\n                description: \"Energy-efficient LED street lighting solution\",\n                price: 150.00,\n                category: \"Lighting\",\n                seller_id: \"seller-002\",\n                merchant_id: \"seller-002\",\n                image_url: \"/images/led-street-light.jpg\",\n                status: \"active\",\n                stock: 50,\n                tags: [\n                    \"led\",\n                    \"street\",\n                    \"lighting\",\n                    \"efficient\"\n                ]\n            },\n            {\n                name: \"Battery Storage System 10kWh\",\n                description: \"Lithium-ion battery storage for renewable energy\",\n                price: 8000.00,\n                category: \"Energy Storage\",\n                seller_id: \"seller-002\",\n                merchant_id: \"seller-002\",\n                image_url: \"/images/battery-storage.jpg\",\n                status: \"active\",\n                stock: 8,\n                tags: [\n                    \"battery\",\n                    \"storage\",\n                    \"lithium\",\n                    \"renewable\"\n                ]\n            }\n        ];\n        for (const product of products){\n            try {\n                await _lib_db__WEBPACK_IMPORTED_MODULE_1__.dbOps.createProduct(product, product.seller_id);\n                console.log(` Created product: ${product.name}`);\n            } catch (error) {\n                console.error(` Error creating product ${product.name}:`, error);\n            }\n        }\n        // Create sample storefronts\n        const storefronts = [\n            {\n                merchant_id: \"seller-001\",\n                store_name: \"SolarTech Solutions\",\n                slug: \"solartech-solutions\",\n                bio: \"Leading provider of solar energy solutions for residential and commercial applications.\",\n                logo_url: \"/images/solartech-logo.png\",\n                banner_url: \"/images/solartech-banner.jpg\",\n                contact_email: \"contact@solartech.com\",\n                contact_phone: \"+1-555-0123\",\n                address: \"123 Solar Street, Energy City, EC 12345\",\n                status: \"active\"\n            },\n            {\n                merchant_id: \"seller-002\",\n                store_name: \"PowerMax Industries\",\n                slug: \"powermax-industries\",\n                bio: \"Industrial power solutions and energy storage systems for modern businesses.\",\n                logo_url: \"/images/powermax-logo.png\",\n                banner_url: \"/images/powermax-banner.jpg\",\n                contact_email: \"info@powermax.com\",\n                contact_phone: \"+1-555-0456\",\n                address: \"456 Industrial Blvd, Power City, PC 67890\",\n                status: \"active\"\n            }\n        ];\n        for (const storefront of storefronts){\n            try {\n                await _lib_db__WEBPACK_IMPORTED_MODULE_1__.dbOps.createStorefront(storefront, storefront.merchant_id);\n                console.log(` Created storefront: ${storefront.store_name}`);\n            } catch (error) {\n                if (error.message.includes(\"already exists\")) {\n                    console.log(` Storefront already exists: ${storefront.store_name}`);\n                } else {\n                    console.error(` Error creating storefront ${storefront.store_name}:`, error);\n                }\n            }\n        }\n        // Create sample subscriptions\n        const subscriptions = [\n            {\n                user_id: \"seller-001\",\n                plan: \"standard\",\n                status: \"active\",\n                current_period_start: new Date().toISOString(),\n                current_period_end: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString()\n            },\n            {\n                user_id: \"seller-002\",\n                plan: \"premium\",\n                status: \"active\",\n                current_period_start: new Date().toISOString(),\n                current_period_end: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString()\n            }\n        ];\n        for (const subscription of subscriptions){\n            try {\n                await _lib_db__WEBPACK_IMPORTED_MODULE_1__.dbOps.createSubscription(subscription);\n                console.log(` Created subscription for user: ${subscription.user_id}`);\n            } catch (error) {\n                console.error(` Error creating subscription for ${subscription.user_id}:`, error);\n            }\n        }\n        console.log(\"\\uD83C\\uDF89 Database initialization completed successfully!\");\n        return {\n            success: true,\n            message: \"Database initialized with sample data\",\n            stats: {\n                users: users.length,\n                products: products.length,\n                storefronts: storefronts.length,\n                subscriptions: subscriptions.length\n            }\n        };\n    } catch (error) {\n        console.error(\" Error initializing database:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTTtZQUNyQztRQUNGO0lBRUYsRUFBRSxPQUFPdEQsT0FBTztRQUNkSCxRQUFRRyxLQUFLLENBQUMsa0NBQWtDQTtRQUNoRCxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZ3gtc2Fhcy1tdnAvLi9zY3JpcHRzL2luaXQtZGF0YWJhc2UudHM/NWZmNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnXG5pbXBvcnQgeyBkYk9wcyB9IGZyb20gJ0AvbGliL2RiJ1xuaW1wb3J0IHR5cGUgeyBVc2VyLCBQcm9kdWN0LCBTdG9yZWZyb250IH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0RGF0YWJhc2UoKSB7XG4gIGNvbnNvbGUubG9nKCfwn5qAIEluaXRpYWxpemluZyBNU0hPUCBkYXRhYmFzZSB3aXRoIFN1cGFiYXNlLi4uJylcblxuICB0cnkge1xuICAgIC8vIFRlc3QgU3VwYWJhc2UgY29ubmVjdGlvblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oJ3Byb2ZpbGVzJykuc2VsZWN0KCdjb3VudCcpLmxpbWl0KDEpXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBjb25uZWN0aW9uIGVycm9yOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gICAgY29uc29sZS5sb2coJ+KchSBTdXBhYmFzZSBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwnKVxuXG4gICAgLy8gQ3JlYXRlIHNhbXBsZSBhZG1pbiB1c2VyXG4gICAgY29uc3QgYWRtaW5Vc2VyOiBPbWl0PFVzZXIsICdjcmVhdGVkX2F0Jz4gPSB7XG4gICAgICBpZDogJ2FkbWluLTAwMScsXG4gICAgICBlbWFpbDogJ2FkbWluQG1zaG9wLmNvbScsXG4gICAgICBuYW1lOiAnQWRtaW4gVXNlcicsXG4gICAgICByb2xlOiAnYWRtaW4nLFxuICAgICAgcGxhbjogJ3ByZW1pdW0nLFxuICAgICAgdGVuYW50X2lkOiAndGVuYW50X2FkbWluJyxcbiAgICAgIHN0YXR1czogJ2FjdGl2ZSdcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgc2FtcGxlIHNlbGxlciB1c2Vyc1xuICAgIGNvbnN0IHNlbGxlcjE6IE9taXQ8VXNlciwgJ2NyZWF0ZWRfYXQnPiA9IHtcbiAgICAgIGlkOiAnc2VsbGVyLTAwMScsXG4gICAgICBlbWFpbDogJ3NlbGxlcjFAbXNob3AuY29tJyxcbiAgICAgIG5hbWU6ICdKb2huIFNlbGxlcicsXG4gICAgICByb2xlOiAnc2VsbGVyJyxcbiAgICAgIHBsYW46ICdzdGFuZGFyZCcsXG4gICAgICB0ZW5hbnRfaWQ6ICd0ZW5hbnRfc2VsbGVyMScsXG4gICAgICBzdGF0dXM6ICdhY3RpdmUnXG4gICAgfVxuXG4gICAgY29uc3Qgc2VsbGVyMjogT21pdDxVc2VyLCAnY3JlYXRlZF9hdCc+ID0ge1xuICAgICAgaWQ6ICdzZWxsZXItMDAyJyxcbiAgICAgIGVtYWlsOiAnc2VsbGVyMkBtc2hvcC5jb20nLFxuICAgICAgbmFtZTogJ0phbmUgTWVyY2hhbnQnLFxuICAgICAgcm9sZTogJ3NlbGxlcicsXG4gICAgICBwbGFuOiAncHJlbWl1bScsXG4gICAgICB0ZW5hbnRfaWQ6ICd0ZW5hbnRfc2VsbGVyMicsXG4gICAgICBzdGF0dXM6ICdhY3RpdmUnXG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHNhbXBsZSBidXllciB1c2VyXG4gICAgY29uc3QgYnV5ZXIxOiBPbWl0PFVzZXIsICdjcmVhdGVkX2F0Jz4gPSB7XG4gICAgICBpZDogJ2J1eWVyLTAwMScsXG4gICAgICBlbWFpbDogJ2J1eWVyMUBtc2hvcC5jb20nLFxuICAgICAgbmFtZTogJ0JvYiBCdXllcicsXG4gICAgICByb2xlOiAnYnV5ZXInLFxuICAgICAgcGxhbjogJ2ZyZWUnLFxuICAgICAgdGVuYW50X2lkOiAndGVuYW50X2J1eWVyMScsXG4gICAgICBzdGF0dXM6ICdhY3RpdmUnXG4gICAgfVxuXG4gICAgLy8gSW5zZXJ0IHVzZXJzXG4gICAgY29uc3QgdXNlcnMgPSBbYWRtaW5Vc2VyLCBzZWxsZXIxLCBzZWxsZXIyLCBidXllcjFdXG4gICAgZm9yIChjb25zdCB1c2VyIG9mIHVzZXJzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBkYk9wcy5jcmVhdGVVc2VyKHVzZXIpXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgQ3JlYXRlZCB1c2VyOiAke3VzZXIuZW1haWx9YClcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICcyMzUwNScpIHsgLy8gVW5pcXVlIGNvbnN0cmFpbnQgdmlvbGF0aW9uXG4gICAgICAgICAgY29uc29sZS5sb2coYOKaoO+4jyBVc2VyIGFscmVhZHkgZXhpc3RzOiAke3VzZXIuZW1haWx9YClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyb3IgY3JlYXRpbmcgdXNlciAke3VzZXIuZW1haWx9OmAsIGVycm9yKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHNhbXBsZSBwcm9kdWN0c1xuICAgIGNvbnN0IHByb2R1Y3RzOiBPbWl0PFByb2R1Y3QsICdjcmVhdGVkX2F0JyB8ICdpZCc+W10gPSBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdTb2xhciBQYW5lbCBTeXN0ZW0gNWtXJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdDb21wbGV0ZSBzb2xhciBwYW5lbCBzeXN0ZW0gZm9yIHJlc2lkZW50aWFsIHVzZScsXG4gICAgICAgIHByaWNlOiA1MDAwLjAwLFxuICAgICAgICBjYXRlZ29yeTogJ1NvbGFyIEVuZXJneScsXG4gICAgICAgIHNlbGxlcl9pZDogJ3NlbGxlci0wMDEnLFxuICAgICAgICBtZXJjaGFudF9pZDogJ3NlbGxlci0wMDEnLFxuICAgICAgICBpbWFnZV91cmw6ICcvaW1hZ2VzL3NvbGFyLXBhbmVsLTVrdy5qcGcnLFxuICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICBzdG9jazogMTAsXG4gICAgICAgIHRhZ3M6IFsnc29sYXInLCAncmVuZXdhYmxlJywgJ3Jlc2lkZW50aWFsJ11cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdJbmR1c3RyaWFsIEdlbmVyYXRvciA1MGtXJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdIZWF2eS1kdXR5IGdlbmVyYXRvciBmb3IgaW5kdXN0cmlhbCBhcHBsaWNhdGlvbnMnLFxuICAgICAgICBwcmljZTogMjUwMDAuMDAsXG4gICAgICAgIGNhdGVnb3J5OiAnR2VuZXJhdG9ycycsXG4gICAgICAgIHNlbGxlcl9pZDogJ3NlbGxlci0wMDEnLFxuICAgICAgICBtZXJjaGFudF9pZDogJ3NlbGxlci0wMDEnLFxuICAgICAgICBpbWFnZV91cmw6ICcvaW1hZ2VzL2dlbmVyYXRvci01MGt3LmpwZycsXG4gICAgICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgICAgIHN0b2NrOiA1LFxuICAgICAgICB0YWdzOiBbJ2dlbmVyYXRvcicsICdpbmR1c3RyaWFsJywgJ3Bvd2VyJ11cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdMRUQgU3RyZWV0IExpZ2h0IDEwMFcnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0VuZXJneS1lZmZpY2llbnQgTEVEIHN0cmVldCBsaWdodGluZyBzb2x1dGlvbicsXG4gICAgICAgIHByaWNlOiAxNTAuMDAsXG4gICAgICAgIGNhdGVnb3J5OiAnTGlnaHRpbmcnLFxuICAgICAgICBzZWxsZXJfaWQ6ICdzZWxsZXItMDAyJyxcbiAgICAgICAgbWVyY2hhbnRfaWQ6ICdzZWxsZXItMDAyJyxcbiAgICAgICAgaW1hZ2VfdXJsOiAnL2ltYWdlcy9sZWQtc3RyZWV0LWxpZ2h0LmpwZycsXG4gICAgICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgICAgIHN0b2NrOiA1MCxcbiAgICAgICAgdGFnczogWydsZWQnLCAnc3RyZWV0JywgJ2xpZ2h0aW5nJywgJ2VmZmljaWVudCddXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnQmF0dGVyeSBTdG9yYWdlIFN5c3RlbSAxMGtXaCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTGl0aGl1bS1pb24gYmF0dGVyeSBzdG9yYWdlIGZvciByZW5ld2FibGUgZW5lcmd5JyxcbiAgICAgICAgcHJpY2U6IDgwMDAuMDAsXG4gICAgICAgIGNhdGVnb3J5OiAnRW5lcmd5IFN0b3JhZ2UnLFxuICAgICAgICBzZWxsZXJfaWQ6ICdzZWxsZXItMDAyJyxcbiAgICAgICAgbWVyY2hhbnRfaWQ6ICdzZWxsZXItMDAyJyxcbiAgICAgICAgaW1hZ2VfdXJsOiAnL2ltYWdlcy9iYXR0ZXJ5LXN0b3JhZ2UuanBnJyxcbiAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgc3RvY2s6IDgsXG4gICAgICAgIHRhZ3M6IFsnYmF0dGVyeScsICdzdG9yYWdlJywgJ2xpdGhpdW0nLCAncmVuZXdhYmxlJ11cbiAgICAgIH1cbiAgICBdXG5cbiAgICBmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgcHJvZHVjdHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRiT3BzLmNyZWF0ZVByb2R1Y3QocHJvZHVjdCwgcHJvZHVjdC5zZWxsZXJfaWQpXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgQ3JlYXRlZCBwcm9kdWN0OiAke3Byb2R1Y3QubmFtZX1gKVxuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyb3IgY3JlYXRpbmcgcHJvZHVjdCAke3Byb2R1Y3QubmFtZX06YCwgZXJyb3IpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHNhbXBsZSBzdG9yZWZyb250c1xuICAgIGNvbnN0IHN0b3JlZnJvbnRzOiBPbWl0PFN0b3JlZnJvbnQsICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0JyB8ICdpZCc+W10gPSBbXG4gICAgICB7XG4gICAgICAgIG1lcmNoYW50X2lkOiAnc2VsbGVyLTAwMScsXG4gICAgICAgIHN0b3JlX25hbWU6ICdTb2xhclRlY2ggU29sdXRpb25zJyxcbiAgICAgICAgc2x1ZzogJ3NvbGFydGVjaC1zb2x1dGlvbnMnLFxuICAgICAgICBiaW86ICdMZWFkaW5nIHByb3ZpZGVyIG9mIHNvbGFyIGVuZXJneSBzb2x1dGlvbnMgZm9yIHJlc2lkZW50aWFsIGFuZCBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucy4nLFxuICAgICAgICBsb2dvX3VybDogJy9pbWFnZXMvc29sYXJ0ZWNoLWxvZ28ucG5nJyxcbiAgICAgICAgYmFubmVyX3VybDogJy9pbWFnZXMvc29sYXJ0ZWNoLWJhbm5lci5qcGcnLFxuICAgICAgICBjb250YWN0X2VtYWlsOiAnY29udGFjdEBzb2xhcnRlY2guY29tJyxcbiAgICAgICAgY29udGFjdF9waG9uZTogJysxLTU1NS0wMTIzJyxcbiAgICAgICAgYWRkcmVzczogJzEyMyBTb2xhciBTdHJlZXQsIEVuZXJneSBDaXR5LCBFQyAxMjM0NScsXG4gICAgICAgIHN0YXR1czogJ2FjdGl2ZSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG1lcmNoYW50X2lkOiAnc2VsbGVyLTAwMicsXG4gICAgICAgIHN0b3JlX25hbWU6ICdQb3dlck1heCBJbmR1c3RyaWVzJyxcbiAgICAgICAgc2x1ZzogJ3Bvd2VybWF4LWluZHVzdHJpZXMnLFxuICAgICAgICBiaW86ICdJbmR1c3RyaWFsIHBvd2VyIHNvbHV0aW9ucyBhbmQgZW5lcmd5IHN0b3JhZ2Ugc3lzdGVtcyBmb3IgbW9kZXJuIGJ1c2luZXNzZXMuJyxcbiAgICAgICAgbG9nb191cmw6ICcvaW1hZ2VzL3Bvd2VybWF4LWxvZ28ucG5nJyxcbiAgICAgICAgYmFubmVyX3VybDogJy9pbWFnZXMvcG93ZXJtYXgtYmFubmVyLmpwZycsXG4gICAgICAgIGNvbnRhY3RfZW1haWw6ICdpbmZvQHBvd2VybWF4LmNvbScsXG4gICAgICAgIGNvbnRhY3RfcGhvbmU6ICcrMS01NTUtMDQ1NicsXG4gICAgICAgIGFkZHJlc3M6ICc0NTYgSW5kdXN0cmlhbCBCbHZkLCBQb3dlciBDaXR5LCBQQyA2Nzg5MCcsXG4gICAgICAgIHN0YXR1czogJ2FjdGl2ZSdcbiAgICAgIH1cbiAgICBdXG5cbiAgICBmb3IgKGNvbnN0IHN0b3JlZnJvbnQgb2Ygc3RvcmVmcm9udHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRiT3BzLmNyZWF0ZVN0b3JlZnJvbnQoc3RvcmVmcm9udCwgc3RvcmVmcm9udC5tZXJjaGFudF9pZClcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBDcmVhdGVkIHN0b3JlZnJvbnQ6ICR7c3RvcmVmcm9udC5zdG9yZV9uYW1lfWApXG4gICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdhbHJlYWR5IGV4aXN0cycpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKaoO+4jyBTdG9yZWZyb250IGFscmVhZHkgZXhpc3RzOiAke3N0b3JlZnJvbnQuc3RvcmVfbmFtZX1gKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBjcmVhdGluZyBzdG9yZWZyb250ICR7c3RvcmVmcm9udC5zdG9yZV9uYW1lfTpgLCBlcnJvcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBzYW1wbGUgc3Vic2NyaXB0aW9uc1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSBbXG4gICAgICB7XG4gICAgICAgIHVzZXJfaWQ6ICdzZWxsZXItMDAxJyxcbiAgICAgICAgcGxhbjogJ3N0YW5kYXJkJyBhcyBjb25zdCxcbiAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyBhcyBjb25zdCxcbiAgICAgICAgY3VycmVudF9wZXJpb2Rfc3RhcnQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgY3VycmVudF9wZXJpb2RfZW5kOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB1c2VyX2lkOiAnc2VsbGVyLTAwMicsXG4gICAgICAgIHBsYW46ICdwcmVtaXVtJyBhcyBjb25zdCxcbiAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyBhcyBjb25zdCxcbiAgICAgICAgY3VycmVudF9wZXJpb2Rfc3RhcnQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgY3VycmVudF9wZXJpb2RfZW5kOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpXG4gICAgICB9XG4gICAgXVxuXG4gICAgZm9yIChjb25zdCBzdWJzY3JpcHRpb24gb2Ygc3Vic2NyaXB0aW9ucykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGJPcHMuY3JlYXRlU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbilcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBDcmVhdGVkIHN1YnNjcmlwdGlvbiBmb3IgdXNlcjogJHtzdWJzY3JpcHRpb24udXNlcl9pZH1gKVxuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyb3IgY3JlYXRpbmcgc3Vic2NyaXB0aW9uIGZvciAke3N1YnNjcmlwdGlvbi51c2VyX2lkfTpgLCBlcnJvcilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygn8J+OiSBEYXRhYmFzZSBpbml0aWFsaXphdGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5IScpXG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiAnRGF0YWJhc2UgaW5pdGlhbGl6ZWQgd2l0aCBzYW1wbGUgZGF0YScsXG4gICAgICBzdGF0czoge1xuICAgICAgICB1c2VyczogdXNlcnMubGVuZ3RoLFxuICAgICAgICBwcm9kdWN0czogcHJvZHVjdHMubGVuZ3RoLFxuICAgICAgICBzdG9yZWZyb250czogc3RvcmVmcm9udHMubGVuZ3RoLFxuICAgICAgICBzdWJzY3JpcHRpb25zOiBzdWJzY3JpcHRpb25zLmxlbmd0aFxuICAgICAgfVxuICAgIH1cblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBpbml0aWFsaXppbmcgZGF0YWJhc2U6JywgZXJyb3IpXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwiZGJPcHMiLCJpbml0RGF0YWJhc2UiLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImxpbWl0IiwiYWRtaW5Vc2VyIiwiaWQiLCJlbWFpbCIsIm5hbWUiLCJyb2xlIiwicGxhbiIsInRlbmFudF9pZCIsInN0YXR1cyIsInNlbGxlcjEiLCJzZWxsZXIyIiwiYnV5ZXIxIiwidXNlcnMiLCJ1c2VyIiwiY3JlYXRlVXNlciIsImNvZGUiLCJwcm9kdWN0cyIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJjYXRlZ29yeSIsInNlbGxlcl9pZCIsIm1lcmNoYW50X2lkIiwiaW1hZ2VfdXJsIiwic3RvY2siLCJ0YWdzIiwicHJvZHVjdCIsImNyZWF0ZVByb2R1Y3QiLCJzdG9yZWZyb250cyIsInN0b3JlX25hbWUiLCJzbHVnIiwiYmlvIiwibG9nb191cmwiLCJiYW5uZXJfdXJsIiwiY29udGFjdF9lbWFpbCIsImNvbnRhY3RfcGhvbmUiLCJhZGRyZXNzIiwic3RvcmVmcm9udCIsImNyZWF0ZVN0b3JlZnJvbnQiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJzdWJzY3JpcHRpb25zIiwidXNlcl9pZCIsImN1cnJlbnRfcGVyaW9kX3N0YXJ0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiY3VycmVudF9wZXJpb2RfZW5kIiwibm93Iiwic3Vic2NyaXB0aW9uIiwiY3JlYXRlU3Vic2NyaXB0aW9uIiwic3VjY2VzcyIsInN0YXRzIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./scripts/init-database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/isows","vendor-chunks/tr46","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fseed-database%2Froute&page=%2Fapi%2Fseed-database%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fseed-database%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();