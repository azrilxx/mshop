(()=>{var e={};e.id=1429,e.ids=[1429],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},89303:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>x,tree:()=>c}),s(86959),s(21450),s(35866);var r=s(23191),a=s(88716),n=s(37922),i=s.n(n),d=s(95231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(t,l);let c=["",{children:["seller",{children:["ads",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,86959)),"/home/runner/workspace/app/seller/ads/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,21450)),"/home/runner/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/home/runner/workspace/app/seller/ads/page.tsx"],u="/seller/ads/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/seller/ads/page",pathname:"/seller/ads",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},48116:(e,t,s)=>{Promise.resolve().then(s.bind(s,43409))},43409:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(10326),a=s(17577),n=s(90434),i=s(86709);function d(){let[e,t]=(0,a.useState)([]),[s,d]=(0,a.useState)(!0),[l,c]=(0,a.useState)(""),{hasAccess:o,loading:u}=(0,i.yN)("createAds"),m=async(s,r)=>{try{if(!(await fetch("/api/ads",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({adId:s,status:r})})).ok)throw Error("Failed to update ad status");t(e.map(e=>e.id===s?{...e,status:r}:e))}catch(e){c(e.message)}},x=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"expired":return"bg-red-100 text-red-800"}};return s||u?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"text-gray-600",children:"Loading ads..."})}):o?r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[r.jsx("div",{className:"mb-6",children:r.jsx(n.default,{href:"/seller",className:"text-blue-600 hover:text-blue-800",children:"← Back to Seller Center"})}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Advertisements"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Ad Slots: 0/3 used"})]}),o?r.jsx(n.default,{href:"/seller/ads/create",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Create New Ad"}):r.jsx("button",{disabled:!0,className:"bg-gray-400 text-white px-4 py-2 rounded-md cursor-not-allowed",children:"No Ad Slots Available"})]}),l&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:r.jsx("div",{className:"text-red-700",children:l})}),0===e.length?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No advertisements yet. Create your first ad!"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,r.jsxs)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[r.jsx("div",{className:"aspect-w-16 aspect-h-9",children:r.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-48 object-cover"})}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(e.status)}`,children:e.status})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),r.jsx("div",{className:"text-xs text-gray-500 mb-3",children:(0,r.jsxs)("p",{children:["Active: ",new Date(e.activeFrom).toLocaleDateString()," - ",new Date(e.activeUntil).toLocaleDateString()]})}),(0,r.jsxs)("div",{className:"flex space-x-2",children:["active"===e.status&&r.jsx("button",{onClick:()=>m(e.id,"inactive"),className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded hover:bg-red-200",children:"Deactivate"}),"inactive"===e.status&&new Date(e.activeUntil)>new Date&&r.jsx("button",{onClick:()=>m(e.id,"active"),className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded hover:bg-green-200",children:"Activate"})]})]})]},e.id))})]})})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[r.jsx("div",{className:"mb-6",children:r.jsx(n.default,{href:"/seller",className:"text-blue-600 hover:text-blue-800",children:"← Back to Seller Center"})}),(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("svg",{className:"h-16 w-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Advertisements Not Available"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Upgrade to Standard or Premium plan to access advertisement features."}),r.jsx(n.default,{href:"/seller/plan",className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700",children:"Upgrade Plan"})]})]})})})}},86709:(e,t,s)=>{"use strict";s.d(t,{getPlanAccess:()=>m,yN:()=>x,R9:()=>u});var r=s(17577);let a={Free:{maxProducts:5,maxAds:0,maxReports:0,hasAdvancedAnalytics:!1,hasPrioritySupport:!1,hasUnlimitedFeatures:!1},Standard:{maxProducts:30,maxAds:12,maxReports:30,hasAdvancedAnalytics:!0,hasPrioritySupport:!1,hasUnlimitedFeatures:!1},Premium:{maxProducts:-1,maxAds:-1,maxReports:-1,hasAdvancedAnalytics:!0,hasPrioritySupport:!0,hasUnlimitedFeatures:!0}};function n(e,t){let s=a[e];return -1===s.maxProducts||t<s.maxProducts}function i(e,t){let s=a[e];return -1===s.maxAds||t<s.maxAds}function d(e,t){let s=a[e];return -1===s.maxReports||t<s.maxReports}function l(e,t){let s=a[e];return -1===s.maxProducts?1/0:Math.max(0,s.maxProducts-t)}function c(e,t){let s=a[e];return -1===s.maxAds?1/0:Math.max(0,s.maxAds-t)}function o(e,t){let s=a[e];return -1===s.maxReports?1/0:Math.max(0,s.maxReports-t)}function u(){let[e,t]=(0,r.useState)(null),[s,a]=(0,r.useState)(null),[u,m]=(0,r.useState)(!0),[x,p]=(0,r.useState)(null),h=async()=>{try{m(!0);let[e,s]=await Promise.all([fetch("/api/plan"),fetch("/api/plan/usage")]);if(!e.ok||!s.ok)throw Error("Failed to fetch plan data");let r=await e.json(),n=await s.json();t(r),a(n)}catch(e){p(e.message)}finally{m(!1)}},g=e&&s?{canCreateProducts:n(e.tier,s.productsCreated),canCreateAds:i(e.tier,s.adsCreated),canAccessReports:d(e.tier,s.reportsGenerated),canAccessMassShipment:"Standard"===e.tier||"Premium"===e.tier,canAccessPrioritySupport:"Premium"===e.tier,hasAdSlotsAvailable:i(e.tier,s.adsCreated),hasProductSlotsAvailable:n(e.tier,s.productsCreated),remainingProducts:l(e.tier,s.productsCreated),remainingAdSlots:c(e.tier,s.adsCreated),remainingReports:o(e.tier,s.reportsGenerated),upgradeMessage:"Free"===e.tier?"Upgrade to Standard for 30 products and 12 ads per month":"Standard"===e.tier?"Upgrade to Premium for unlimited products and ads":"You have unlimited access to all features"}:null;return{plan:e,usage:s,featureAccess:g,loading:u,error:x,refetch:h}}function m(e){let t=a[e];return{canCreateProducts:t=>n(e,t),getProductLimit:()=>t.maxProducts,getRemainingProducts:t=>l(e,t),canCreateAds:t=>i(e,t),getAdLimit:()=>t.maxAds,getRemainingAds:t=>c(e,t),canAccessReports:t=>d(e,t),getReportLimit:()=>t.maxReports,getRemainingReports:t=>o(e,t),hasFeature:s=>({shipment:"Standard"===e||"Premium"===e,analytics:t.hasAdvancedAnalytics,priority_support:t.hasPrioritySupport,ads:t.maxAds>0,reports:t.maxReports>0})[s]||!1,getPlanLimits:()=>t,isUnlimited:e=>-1===({products:t.maxProducts,ads:t.maxAds,reports:t.maxReports})[e]}}function x(e){let[t,s]=(0,r.useState)(!1),[a,n]=(0,r.useState)(!0);return{hasAccess:t,loading:a}}},86959:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>d});var r=s(68570);let a=(0,r.createProxy)(String.raw`/home/runner/workspace/app/seller/ads/page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let d=(0,r.createProxy)(String.raw`/home/runner/workspace/app/seller/ads/page.tsx#default`)},38238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return s}});class s{static get(e,t,s){let r=Reflect.get(e,t,s);return"function"==typeof r?r.bind(e):r}static set(e,t,s,r){return Reflect.set(e,t,s,r)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,6775,5516],()=>s(89303));module.exports=r})();