(()=>{var e={};e.id=9138,e.ids=[9138],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},4864:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(74635),r(21450),r(35866);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["seller",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,74635)),"/home/runner/workspace/app/seller/reports/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,21450)),"/home/runner/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/runner/workspace/app/seller/reports/page.tsx"],u="/seller/reports/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/seller/reports/page",pathname:"/seller/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},13311:(e,t,r)=>{Promise.resolve().then(r.bind(r,91666)),Promise.resolve().then(r.bind(r,86709)),Promise.resolve().then(r.t.bind(r,79404,23))},86709:(e,t,r)=>{"use strict";r.d(t,{getPlanAccess:()=>m,yN:()=>x,R9:()=>u});var s=r(17577);let a={Free:{maxProducts:5,maxAds:0,maxReports:0,hasAdvancedAnalytics:!1,hasPrioritySupport:!1,hasUnlimitedFeatures:!1},Standard:{maxProducts:30,maxAds:12,maxReports:30,hasAdvancedAnalytics:!0,hasPrioritySupport:!1,hasUnlimitedFeatures:!1},Premium:{maxProducts:-1,maxAds:-1,maxReports:-1,hasAdvancedAnalytics:!0,hasPrioritySupport:!0,hasUnlimitedFeatures:!0}};function n(e,t){let r=a[e];return -1===r.maxProducts||t<r.maxProducts}function i(e,t){let r=a[e];return -1===r.maxAds||t<r.maxAds}function o(e,t){let r=a[e];return -1===r.maxReports||t<r.maxReports}function l(e,t){let r=a[e];return -1===r.maxProducts?1/0:Math.max(0,r.maxProducts-t)}function d(e,t){let r=a[e];return -1===r.maxAds?1/0:Math.max(0,r.maxAds-t)}function c(e,t){let r=a[e];return -1===r.maxReports?1/0:Math.max(0,r.maxReports-t)}function u(){let[e,t]=(0,s.useState)(null),[r,a]=(0,s.useState)(null),[u,m]=(0,s.useState)(!0),[x,p]=(0,s.useState)(null),h=async()=>{try{m(!0);let[e,r]=await Promise.all([fetch("/api/plan"),fetch("/api/plan/usage")]);if(!e.ok||!r.ok)throw Error("Failed to fetch plan data");let s=await e.json(),n=await r.json();t(s),a(n)}catch(e){p(e.message)}finally{m(!1)}},f=e&&r?{canCreateProducts:n(e.tier,r.productsCreated),canCreateAds:i(e.tier,r.adsCreated),canAccessReports:o(e.tier,r.reportsGenerated),canAccessMassShipment:"Standard"===e.tier||"Premium"===e.tier,canAccessPrioritySupport:"Premium"===e.tier,hasAdSlotsAvailable:i(e.tier,r.adsCreated),hasProductSlotsAvailable:n(e.tier,r.productsCreated),remainingProducts:l(e.tier,r.productsCreated),remainingAdSlots:d(e.tier,r.adsCreated),remainingReports:c(e.tier,r.reportsGenerated),upgradeMessage:"Free"===e.tier?"Upgrade to Standard for 30 products and 12 ads per month":"Standard"===e.tier?"Upgrade to Premium for unlimited products and ads":"You have unlimited access to all features"}:null;return{plan:e,usage:r,featureAccess:f,loading:u,error:x,refetch:h}}function m(e){let t=a[e];return{canCreateProducts:t=>n(e,t),getProductLimit:()=>t.maxProducts,getRemainingProducts:t=>l(e,t),canCreateAds:t=>i(e,t),getAdLimit:()=>t.maxAds,getRemainingAds:t=>d(e,t),canAccessReports:t=>o(e,t),getReportLimit:()=>t.maxReports,getRemainingReports:t=>c(e,t),hasFeature:r=>({shipment:"Standard"===e||"Premium"===e,analytics:t.hasAdvancedAnalytics,priority_support:t.hasPrioritySupport,ads:t.maxAds>0,reports:t.maxReports>0})[r]||!1,getPlanLimits:()=>t,isUnlimited:e=>-1===({products:t.maxProducts,ads:t.maxAds,reports:t.maxReports})[e]}}function x(e){let[t,r]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!0);return{hasAccess:t,loading:a}}},74635:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(19510),a=r(58585),n=r(90455),i=r(9487),o=r(68570);let l=(0,o.createProxy)(String.raw`/home/runner/workspace/lib/hooks.ts`),{__esModule:d,$$typeof:c}=l;l.default,(0,o.createProxy)(String.raw`/home/runner/workspace/lib/hooks.ts#useUserPlan`);let u=(0,o.createProxy)(String.raw`/home/runner/workspace/lib/hooks.ts#getPlanAccess`);(0,o.createProxy)(String.raw`/home/runner/workspace/lib/hooks.ts#hasFeature`),(0,o.createProxy)(String.raw`/home/runner/workspace/lib/hooks.ts#usePlanAccess`),(0,o.createProxy)(String.raw`/home/runner/workspace/lib/hooks.ts#checkFeatureAccess`),(0,o.createProxy)(String.raw`/home/runner/workspace/lib/hooks.ts#useFeatureAccess`);var m=r(16065),x=r(57371);async function p(){let e=await (0,n.Gg)();e&&"seller"===e.user.role||(0,a.redirect)("/dashboard");let{user:t}=e,r=await i.planDb.get(t.id),o=u(r.tier);if(!o.hasFeature("reports"))return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(m.ZP,{user:t}),s.jsx("div",{className:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),s.jsx("h2",{className:"mt-4 text-2xl font-semibold text-gray-900",children:"Reports Not Available"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Upgrade to Standard or Premium plan to access detailed reports and analytics."}),s.jsx("div",{className:"mt-6",children:s.jsx(x.default,{href:"/seller/plan",className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700",children:"Upgrade Plan"})})]})})]});let[l,d]=await Promise.all([i.productDb.findByMerchant(t.id),i.orderDb.findBySeller(t.id)]),c=d.reduce((e,t)=>e+t.totalPrice,0),p=d.length,h=l.filter(e=>"active"===e.status).length;return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(m.ZP,{user:t}),s.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[s.jsx("div",{className:"mb-6",children:s.jsx(x.default,{href:"/seller",className:"text-blue-600 hover:text-blue-800",children:"← Back to Seller Center"})}),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Plan: ",r.tier," • ",o.isUnlimited("reports")?"Unlimited":o.getReportLimit()," reports available"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-6 w-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,s.jsxs)("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),(0,s.jsxs)("dd",{className:"text-lg font-medium text-gray-900",children:["$",c.toFixed(2)]})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-6 w-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M8 11v6h8v-6M8 11H6a2 2 0 00-2 2v6a2 2 0 002 2h12a2 2 0 002-2v-6a2 2 0 00-2-2h-2"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,s.jsxs)("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Orders"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:p})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-6 w-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,s.jsxs)("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Products"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:h})]})})]})})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sales Performance"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"This Month"}),(0,s.jsxs)("span",{className:"font-medium",children:["$",(.3*c).toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Last Month"}),(0,s.jsxs)("span",{className:"font-medium",children:["$",(.25*c).toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Growth Rate"}),s.jsx("span",{className:"font-medium text-green-600",children:"+20%"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Products"}),(0,s.jsxs)("div",{className:"space-y-3",children:[l.slice(0,5).map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["#",t+1]})]}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["$",e.price]})]},e.id)),0===l.length&&s.jsx("p",{className:"text-sm text-gray-500",children:"No products yet"})]})]})]}),s.jsx("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-md p-4",children:(0,s.jsxs)("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Enhanced Analytics Coming Soon"}),s.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:s.jsx("p",{children:"Advanced payment analytics and financial reports will be available after Stripe integration in Phase 6."})})]})]})})]})})]})}},16065:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>o});var s=r(68570);let a=(0,s.createProxy)(String.raw`/home/runner/workspace/components/Navbar.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`/home/runner/workspace/components/Navbar.tsx#default`)},90455:(e,t,r)=>{"use strict";r.d(t,{Gg:()=>n,MH:()=>l,PR:()=>d,SO:()=>i,ed:()=>a,mk:()=>o});var s=r(71615);async function a(e){let t={user:e,expires:new Date(Date.now()+6048e5).toISOString()};(0,s.cookies)().set("session",JSON.stringify(t),{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:604800})}async function n(){let e=(0,s.cookies)().get("session");if(!e)return null;try{let t=JSON.parse(e.value);if(new Date(t.expires)<new Date)return await i(),null;return t}catch{return null}}async function i(){(0,s.cookies)().delete("session")}async function o(){let e=await n();if(!e)throw Error("Authentication required");return e.user}async function l(e){let t=await o();if(!e.includes(t.role))throw Error("Insufficient permissions");return t}async function d(){let e=await n();return e?.user||null}},57371:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(670),a=r.n(s)},58585:(e,t,r)=>{"use strict";var s=r(61085);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}})},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return s.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=r(83953),a=r(16399);class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return a},notFound:function(){return s}});let r="NEXT_NOT_FOUND";function s(){let e=Error(r);throw e.digest=r,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return s},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return x},getURLFromRedirectError:function(){return m},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return d}});let a=r(54580),n=r(72934),i=r(8586),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let s=Error(o);s.digest=o+";"+t+";"+e+";"+r+";";let n=a.requestAsyncStorage.getStore();return n&&(s.mutableCookies=n.mutableCookies),s}function d(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,s,a]=e.digest.split(";",4),n=Number(a);return t===o&&("replace"===r||"push"===r)&&"string"==typeof s&&!isNaN(n)&&n in i.RedirectStatusCode}function m(e){return u(e)?e.digest.split(";",3)[2]:null}function x(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function p(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},670:(e,t,r)=>{"use strict";let{createProxy:s}=r(68570);e.exports=s("/home/runner/workspace/node_modules/next/dist/client/link.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,741,1615,2964,6775,9487,5516,1666],()=>r(4864));module.exports=s})();