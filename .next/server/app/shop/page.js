(()=>{var e={};e.id=3021,e.ids=[3021],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},49258:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(13101),s(21450),s(35866);var r=s(23191),a=s(88716),l=s(37922),n=s.n(l),o=s(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let c=["",{children:["shop",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,13101)),"/home/runner/workspace/app/shop/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,21450)),"/home/runner/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/runner/workspace/app/shop/page.tsx"],u="/shop/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/shop/page",pathname:"/shop",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},36174:(e,t,s)=>{Promise.resolve().then(s.bind(s,96641))},96641:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(10326),a=s(17577),l=s(73333),n=s(33237);function o({onFilterChange:e}){let[t,s]=(0,a.useState)({category:"",city:"",country:"",listingType:"",search:""}),l=(r,a)=>{let l={...t,[r]:a};s(l),e(l)};return(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Filter Products"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),r.jsx("input",{type:"text",id:"search",value:t.search,onChange:e=>l("search",e.target.value),placeholder:"Search products...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,r.jsxs)("select",{id:"category",value:t.category,onChange:e=>l("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Categories"}),n.H.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"listingType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Listing Type"}),(0,r.jsxs)("select",{id:"listingType",value:t.listingType,onChange:e=>l("listingType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"fixed",children:"Fixed Price"}),r.jsx("option",{value:"rfq",children:"Request for Quote"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),r.jsx("input",{type:"text",id:"city",value:t.city,onChange:e=>l("city",e.target.value),placeholder:"Any city",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),r.jsx("input",{type:"text",id:"country",value:t.country,onChange:e=>l("country",e.target.value),placeholder:"Any country",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{onClick:()=>{let t={category:"",city:"",country:"",listingType:"",search:""};s(t),e(t)},className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Clear All Filters"})})]})}function i(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[i,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)({category:"",city:"",country:"",listingType:"",search:""});return i?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"text-center",children:"Loading products..."})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Oil & Gas Equipment Marketplace"}),r.jsx(o,{onFilterChange:e=>{u(e)}}),r.jsx("div",{className:"mb-4",children:(0,r.jsxs)("p",{className:"text-gray-600",children:["Showing ",s.length," of ",e.length," products"]})}),0===s.length?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No products found matching your criteria."})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(e=>r.jsx(l.default,{product:e},e.id))})]})}},73333:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(10326),a=s(17577),l=s(90434);function n({product:e}){let[t,s]=(0,a.useState)(null),[n,o]=(0,a.useState)(!1),[i,c]=(0,a.useState)(!1),d=async s=>{if(s.preventDefault(),s.stopPropagation(),t&&"buyer"===t.role){c(!0);try{(await fetch("/api/user/bookmarks",{method:n?"DELETE":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e.id})})).ok&&o(!n)}catch(e){console.error("Bookmark error:",e)}finally{c(!1)}}};return(0,r.jsxs)("div",{className:"relative",children:[r.jsx(l.default,{href:`/product/${e.id}`,children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[e.images&&e.images.length>0&&r.jsx("img",{src:e.images[0],alt:e.name,className:"w-full h-48 object-cover"}),(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:e.name}),r.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:e.description}),e.tags&&e.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:e.tags.slice(0,3).map((e,t)=>r.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded",children:e},t))}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:["$",e.price.toLocaleString()]}),null!==e.stock&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.stock>0?`${e.stock} in stock`:"Out of stock"})]}),r.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm hover:bg-blue-700",children:"View Details"})]})]})]})}),t?.role==="buyer"&&r.jsx("button",{onClick:d,disabled:i,className:`absolute top-2 right-2 p-2 rounded-full transition-colors ${n?"bg-blue-600 text-white":"bg-white text-gray-400 hover:text-gray-600"} shadow-md hover:shadow-lg disabled:opacity-50`,title:n?"Remove from saved":"Save for later",children:r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})}},33237:(e,t,s)=>{"use strict";s.d(t,{H:()=>r});let r=["Flanges","Rope Access Equipment","Subsea Connectors","Pipe Cleaning Tools","Pressure Testing Units","Rental Tanks","Measurement & Instrumentation"]},13101:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>o});var r=s(68570);let a=(0,r.createProxy)(String.raw`/home/runner/workspace/app/shop/page.tsx`),{__esModule:l,$$typeof:n}=a;a.default;let o=(0,r.createProxy)(String.raw`/home/runner/workspace/app/shop/page.tsx#default`)},38238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return s}});class s{static get(e,t,s){let r=Reflect.get(e,t,s);return"function"==typeof r?r.bind(e):r}static set(e,t,s,r){return Reflect.set(e,t,s,r)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,6775,5516],()=>s(49258));module.exports=r})();