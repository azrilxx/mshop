(()=>{var e={};e.id=188,e.ids=[188],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},413:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(33863),r(21450),r(35866);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["product",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,33863)),"/home/runner/workspace/app/product/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,21450)),"/home/runner/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/runner/workspace/app/product/[id]/page.tsx"],u="/product/[id]/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/product/[id]/page",pathname:"/product/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},75181:(e,t,r)=>{Promise.resolve().then(r.bind(r,13528)),Promise.resolve().then(r.bind(r,62331)),Promise.resolve().then(r.bind(r,67282)),Promise.resolve().then(r.t.bind(r,79404,23))},13528:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326),a=r(17577);function n({productId:e}){let[t,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(""),o=async()=>{r(!0),i("");try{let t=await fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e,quantity:1})}),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to add to cart");i("Added to cart!"),setTimeout(()=>i(""),3e3)}catch(e){i(e.message)}finally{r(!1)}};return(0,s.jsxs)("div",{children:[s.jsx("button",{onClick:o,disabled:t,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-md hover:bg-blue-700 disabled:opacity-50 font-medium",children:t?"Adding to Cart...":"Add to Cart"}),n&&s.jsx("div",{className:`mt-2 text-sm ${n.includes("Added")?"text-green-600":"text-red-600"}`,children:n})]})}},62331:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326),a=r(17577);function n({productId:e,ratings:t,averageRating:r,currentUser:n}){let[i,o]=(0,a.useState)(t),[l,d]=(0,a.useState)(r),[c,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(!1),[p,h]=(0,a.useState)({orderId:"",rating:5,comment:""}),[g,f]=(0,a.useState)(!1),[b,y]=(0,a.useState)(""),j=async t=>{t.preventDefault(),f(!0),y("");try{let t=await fetch("/api/ratings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e,...p})}),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to submit rating");let s=await fetch(`/api/ratings?productId=${e}`);if(s.ok){let e=await s.json();o(e.ratings),d(e.averageRating)}x(!1),h({orderId:"",rating:5,comment:""})}catch(e){y(e.message)}finally{f(!1)}},v=n?.role==="buyer"&&c.length>0&&!i.some(e=>e.userId===n.id);return(0,s.jsxs)("div",{className:"bg-white",children:[(0,s.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Reviews"}),v&&s.jsx("button",{onClick:()=>x(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Write a Review"})]}),l.count>0&&(0,s.jsxs)("div",{className:"mt-4 flex items-center",children:[s.jsx("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>s.jsx("svg",{className:`h-5 w-5 ${t<Math.floor(l.average)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),(0,s.jsxs)("span",{className:"ml-2 text-lg font-medium text-gray-900",children:[l.average," out of 5"]}),(0,s.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",l.count," reviews)"]})]})]}),m&&(0,s.jsxs)("div",{className:"mt-6 bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Write a Review"}),(0,s.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Order"}),(0,s.jsxs)("select",{value:p.orderId,onChange:e=>h(t=>({...t,orderId:e.target.value})),required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Choose an order"}),c.map(e=>(0,s.jsxs)("option",{value:e.id,children:["Order #",e.id.slice(-8)]},e.id))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),s.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(e=>s.jsx("button",{type:"button",onClick:()=>h(t=>({...t,rating:e})),className:`text-2xl ${e<=p.rating?"text-yellow-400":"text-gray-300"}`,children:"â˜…"},e))})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment (Optional)"}),s.jsx("textarea",{value:p.comment,onChange:e=>h(t=>({...t,comment:e.target.value})),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Share your experience with this product..."})]}),b&&s.jsx("div",{className:"text-red-600 text-sm",children:b}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50",children:g?"Submitting...":"Submit Review"})]})]})]}),s.jsx("div",{className:"mt-6 space-y-6",children:0===i.length?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No reviews yet. Be the first to review this product!"}):i.map(e=>(0,s.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((t,r)=>s.jsx("svg",{className:`h-4 w-4 ${r<e.rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r))}),(0,s.jsxs)("span",{className:"ml-2 text-sm font-medium text-gray-900",children:[e.rating," out of 5"]})]}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),e.comment&&s.jsx("p",{className:"text-gray-700",children:e.comment})]},`${e.productId}-${e.userId}`))})]})}},67282:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326),a=r(17577);function n({productId:e,initialRatings:t,initialComments:r,currentUser:n}){let[i,o]=(0,a.useState)(t),[l,d]=(0,a.useState)(r),[c,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(null),[p,h]=(0,a.useState)(""),[g,f]=(0,a.useState)(!1),b=i.length>0?i.reduce((e,t)=>e+t.rating,0)/i.length:0,y=async t=>{if(t.preventDefault(),n&&c.trim()){f(!0);try{let t=await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e,userId:n.id,content:c.trim(),isReply:!1})});if(t.ok){let e=await t.json();d([e,...l]),u("")}}catch(e){console.error("Failed to submit comment:",e)}finally{f(!1)}}},j=async t=>{if(n&&p.trim()){f(!0);try{let r=await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e,userId:n.id,parentId:t,content:p.trim(),isReply:!0})});if(r.ok){let e=await r.json();d([...l,e]),h(""),x(null)}}catch(e){console.error("Failed to submit reply:",e)}finally{f(!1)}}},v=e=>l.filter(t=>t.parentId===e),N=()=>l.filter(e=>!e.parentId);return(0,s.jsxs)("div",{className:"space-y-6",children:[i.length>0&&s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>s.jsx("svg",{className:`h-5 w-5 ${t<Math.floor(b)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),(0,s.jsxs)("span",{className:"ml-2 text-lg font-medium text-gray-900",children:[b.toFixed(1)," out of 5"]}),(0,s.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",i.length," review",1!==i.length?"s":"",")"]})]})}),i.length>0&&(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Reviews"}),s.jsx("div",{className:"space-y-4",children:i.map((e,t)=>(0,s.jsxs)("div",{className:"border-b border-gray-200 pb-4 last:border-b-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[[void 0,void 0,void 0,void 0,void 0].map((t,r)=>s.jsx("svg",{className:`h-4 w-4 ${r<e.rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r)),(0,s.jsxs)("span",{className:"ml-2 text-sm font-medium text-gray-900",children:[e.rating," out of 5"]})]}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),e.comment&&s.jsx("p",{className:"text-gray-700",children:e.comment})]},`${e.productId}-${e.userId}-${t}`))})]}),(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Comments"}),n&&(0,s.jsxs)("form",{onSubmit:y,className:"mb-6",children:[s.jsx("div",{className:"mb-3",children:s.jsx("textarea",{value:c,onChange:e=>u(e.target.value),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Add a comment..."})}),s.jsx("button",{type:"submit",disabled:g||!c.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Posting...":"Post Comment"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[N().map(e=>(0,s.jsxs)("div",{className:"border-b border-gray-200 pb-4 last:border-b-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"User"}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),s.jsx("p",{className:"text-gray-700 mb-2",children:e.content}),n&&s.jsx("button",{onClick:()=>x(m===e.id?null:e.id),className:"text-sm text-blue-600 hover:text-blue-800",children:"Reply"}),m===e.id&&(0,s.jsxs)("div",{className:"mt-3 ml-4",children:[s.jsx("textarea",{value:p,onChange:e=>h(e.target.value),rows:2,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Write a reply..."}),(0,s.jsxs)("div",{className:"mt-2 space-x-2",children:[s.jsx("button",{onClick:()=>j(e.id),disabled:g||!p.trim(),className:"px-3 py-1 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Reply"}),s.jsx("button",{onClick:()=>{x(null),h("")},className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]}),v(e.id).map(e=>(0,s.jsxs)("div",{className:"ml-6 mt-3 border-l-2 border-gray-200 pl-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"User"}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),s.jsx("p",{className:"text-gray-700",children:e.content})]},e.id))]},e.id)),0===N().length&&s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No comments yet. Be the first to comment!"})]})]})]})}},33863:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(19510),a=r(58585),n=r(57371),i=r(9487),o=r(90455),l=r(68570);let d=(0,l.createProxy)(String.raw`/home/runner/workspace/components/AddToCartButton.tsx`),{__esModule:c,$$typeof:u}=d;d.default;let m=(0,l.createProxy)(String.raw`/home/runner/workspace/components/AddToCartButton.tsx#default`),x=(0,l.createProxy)(String.raw`/home/runner/workspace/components/ProductRatings.tsx`),{__esModule:p,$$typeof:h}=x;x.default;let g=(0,l.createProxy)(String.raw`/home/runner/workspace/components/ProductRatings.tsx#default`),f=(0,l.createProxy)(String.raw`/home/runner/workspace/components/ProductReviewList.tsx`),{__esModule:b,$$typeof:y}=f;f.default;let j=(0,l.createProxy)(String.raw`/home/runner/workspace/components/ProductReviewList.tsx#default`);async function v({params:e}){let t=await i.productDb.findById(e.id);t||(0,a.notFound)();let[r,l]=await Promise.all([i.productDb.getMerchantById(t.merchantId),(0,o.Gg)()]),d=r?.whatsappNumber?`https://wa.me/${r.whatsappNumber.replace(/[^\d]/g,"")}?text=Hi, I am interested in your listing "${t.name}" on Muvex`:null;return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"space-y-4",children:t.images&&t.images.length>0?(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("img",{src:t.images[0],alt:t.name,className:"w-full h-96 object-cover rounded-lg"}),t.images.length>1&&s.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.images.slice(1,5).map((e,r)=>s.jsx("img",{src:e,alt:`${t.name} ${r+2}`,className:"w-full h-20 object-cover rounded"},r))})]}):s.jsx("div",{className:"w-full h-96 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-gray-400",children:"No images available"})})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.name}),s.jsx("p",{className:"text-lg text-gray-600",children:t.category}),t.location&&(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["\uD83D\uDCCD ",t.location.city,", ",t.location.country]})]}),s.jsx("div",{children:"rfq"===t.listingType?s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"Request for Quote"}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-3xl font-bold text-green-600",children:["$",t.price.toFixed(2)]}),null!==t.stock&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.stock>0?(0,s.jsxs)("span",{className:"text-green-600",children:["âœ“ ",t.stock," units in stock"]}):s.jsx("span",{className:"text-red-600",children:"âš  Out of stock"})})]})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.description})]}),t.certifications&&t.certifications.length>0&&(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Certifications"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.certifications.map((e,t)=>{let r=e.split("/").pop()||"Certificate",a=e.toLowerCase().includes(".pdf");return(0,s.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-3 border rounded-lg hover:bg-gray-50 text-sm transition-colors",children:[a?s.jsx("svg",{className:"w-5 h-5 mr-2 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}):s.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("span",{className:"truncate",children:r}),s.jsx("svg",{className:"w-4 h-4 ml-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]},t)})})]}),r&&(0,s.jsxs)("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Seller Information"}),(0,s.jsxs)("p",{className:"text-gray-600",children:["Email: ",r.email]}),r.is_verified&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1",children:"âœ“ Verified Seller"}),d&&s.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center mt-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 text-sm",children:"\uD83D\uDCAC Contact via WhatsApp"})]}),s.jsx("div",{className:"border-t pt-4",children:"rfq"===t.listingType?s.jsx(n.default,{href:`/quote/${t.id}`,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 inline-block text-center",children:"Request Quote"}):s.jsx(m,{productId:t.id})})]})]}),"fixed"===t.listingType&&(0,s.jsxs)("div",{className:"mt-12",children:[s.jsx(g,{productId:t.id,ratings:[],averageRating:{average:0,count:0},currentUser:l?.user||null}),s.jsx(j,{productId:t.id,initialRatings:[],initialComments:[],currentUser:l?.user||null})]})]})}},90455:(e,t,r)=>{"use strict";r.d(t,{Gg:()=>n,MH:()=>l,PR:()=>d,SO:()=>i,ed:()=>a,mk:()=>o});var s=r(71615);async function a(e){let t={user:e,expires:new Date(Date.now()+6048e5).toISOString()};(0,s.cookies)().set("session",JSON.stringify(t),{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:604800})}async function n(){let e=(0,s.cookies)().get("session");if(!e)return null;try{let t=JSON.parse(e.value);if(new Date(t.expires)<new Date)return await i(),null;return t}catch{return null}}async function i(){(0,s.cookies)().delete("session")}async function o(){let e=await n();if(!e)throw Error("Authentication required");return e.user}async function l(e){let t=await o();if(!e.includes(t.role))throw Error("Insufficient permissions");return t}async function d(){let e=await n();return e?.user||null}},57371:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(670),a=r.n(s)},58585:(e,t,r)=>{"use strict";var s=r(61085);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}})},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return s.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=r(83953),a=r(16399);class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return a},notFound:function(){return s}});let r="NEXT_NOT_FOUND";function s(){let e=Error(r);throw e.digest=r,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return s},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return x},getURLFromRedirectError:function(){return m},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return d}});let a=r(54580),n=r(72934),i=r(8586),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let s=Error(o);s.digest=o+";"+t+";"+e+";"+r+";";let n=a.requestAsyncStorage.getStore();return n&&(s.mutableCookies=n.mutableCookies),s}function d(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,s,a]=e.digest.split(";",4),n=Number(a);return t===o&&("replace"===r||"push"===r)&&"string"==typeof s&&!isNaN(n)&&n in i.RedirectStatusCode}function m(e){return u(e)?e.digest.split(";",3)[2]:null}function x(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function p(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},670:(e,t,r)=>{"use strict";let{createProxy:s}=r(68570);e.exports=s("/home/runner/workspace/node_modules/next/dist/client/link.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,741,1615,2964,6775,9487,5516],()=>r(413));module.exports=s})();