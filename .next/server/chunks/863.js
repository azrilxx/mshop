exports.id=863,exports.ids=[863],exports.modules={3311:(t,e,r)=>{Promise.resolve().then(r.bind(r,6361)),Promise.resolve().then(r.bind(r,8962)),Promise.resolve().then(r.t.bind(r,9404,23))},8962:(t,e,r)=>{"use strict";r.d(e,{getPlanAccess:()=>n,yN:()=>i});var a=r(7577);function i(){let[t,e]=(0,a.useState)(null),[r,i]=(0,a.useState)(!0),[n,s]=(0,a.useState)(null);return{featureAccess:t?{canCreateProducts:t.quotaUsed<t.maxProducts,canCreateAds:t.adSlotsUsed<t.maxAdSlots&&"Free"!==t.tier,canAccessMassShipment:"Standard"===t.tier||"Premium"===t.tier,canAccessReports:"Standard"===t.tier||"Premium"===t.tier,canAccessPrioritySupport:"Premium"===t.tier,hasAdSlotsAvailable:t.adSlotsUsed<t.maxAdSlots,hasProductSlotsAvailable:t.quotaUsed<t.maxProducts,remainingProducts:t.maxProducts-t.quotaUsed,remainingAdSlots:t.maxAdSlots-t.adSlotsUsed}:null,plan:t,loading:r,error:n}}function n(t){let e={Free:{maxProducts:20,maxAds:0,maxReports:0,hasShipment:!1,hasAnalytics:!1,hasPrioritySupport:!1},Standard:{maxProducts:60,maxAds:12,maxReports:30,hasShipment:!0,hasAnalytics:!0,hasPrioritySupport:!1},Premium:{maxProducts:-1,maxAds:-1,maxReports:-1,hasShipment:!0,hasAnalytics:!0,hasPrioritySupport:!0}}[t];return{canCreateProducts:t=>-1===e.maxProducts||t<e.maxProducts,getProductLimit:()=>e.maxProducts,getRemainingProducts:t=>-1===e.maxProducts?1/0:Math.max(0,e.maxProducts-t),canCreateAds:t=>-1===e.maxAds||t<e.maxAds,getAdLimit:()=>e.maxAds,getRemainingAds:t=>-1===e.maxAds?1/0:Math.max(0,e.maxAds-t),canAccessReports:t=>-1===e.maxReports||t<e.maxReports,getReportLimit:()=>e.maxReports,getRemainingReports:t=>-1===e.maxReports?1/0:Math.max(0,e.maxReports-t),hasFeature:t=>({shipment:e.hasShipment,analytics:e.hasAnalytics,priority_support:e.hasPrioritySupport,ads:e.maxAds>0,reports:e.maxReports>0})[t]||!1,getPlanLimits:()=>e,isUnlimited:t=>-1===({products:e.maxProducts,ads:e.maxAds,reports:e.maxReports})[t]}}},9487:(t,e,r)=>{"use strict";r.d(e,{Kl:()=>g,SB:()=>w,Tb:()=>m,Up:()=>c,Yf:()=>f,Zd:()=>p,ir:()=>y,ut:()=>u,wQ:()=>l});var a=r(741),i=r.n(a),n=r(2023),s=r.n(n),o=r(9576);let d=new(i()),u={async create(t,e,r){if(await d.get(`user:${t}`))throw Error("User already exists");let a={id:(0,o.Z)(),email:t,passwordHash:await s().hash(e,10),role:r,is_verified:"admin"===r,createdAt:new Date().toISOString()};return await d.set(`user:${t}`,a),a},findByEmail:async t=>await d.get(`user:${t}`),async verifyPassword(t,e){let r=await this.findByEmail(t);return r&&await s().compare(e,r.passwordHash)?r:null},async updateVerificationStatus(t,e){let r=await this.findByEmail(t);r&&(r.is_verified=e,await d.set(`user:${t}`,r))},async getAll(){let t=await d.list("user:"),e=[];for(let r of t){let t=await d.get(r);t&&e.push(t)}return e},async findById(t){for(let e of(await d.list("user:"))){let r=await d.get(e);if(r&&r.id===t)return r}return null}},c={async create(t){let e={...t,id:(0,o.Z)(),createdAt:new Date().toISOString()};return await d.set(`product:${e.id}`,e),e},findById:async t=>await d.get(`product:${t}`),async findByMerchant(t){let e=await d.list("product:"),r=[];for(let a of e){let e=await d.get(a);e&&e.merchantId===t&&r.push(e)}return r},async getAll(){let t=await d.list("product:"),e=[];for(let r of t){let t=await d.get(r);if(t&&"active"===t.status){let r=await this.getMerchantById(t.merchantId);r&&r.is_verified&&e.push(t)}}return e},async getAllForPublic(){let t=await d.list("product:"),e=[];for(let r of t){let t=await d.get(r);if(t&&"active"===t.status){let r=await this.getMerchantById(t.merchantId);r&&r.is_verified&&e.push(t)}}return e},getMerchantById:async t=>await u.findById(t),async update(t,e){let r=await this.findById(t);if(!r)return null;let a={...r,...e};return await d.set(`product:${t}`,a),a}},l={async create(t){let e={...t,id:(0,o.Z)(),createdAt:new Date().toISOString()};return await d.set(`order:${e.id}`,e),e},findById:async t=>await d.get(`order:${t}`),async findByBuyer(t){let e=await d.list("order:"),r=[];for(let a of e){let e=await d.get(a);e&&e.buyerId===t&&r.push(e)}return r},async getAll(){let t=await d.list("order:"),e=[];for(let r of t){let t=await d.get(r);t&&e.push(t)}return e},async update(t,e){let r=await this.findById(t);if(!r)return null;let a={...r,...e};return await d.set(`order:${t}`,a),a},async findBySeller(t){let e=await d.list("order:"),r=[];for(let a of e){let e=await d.get(a);e&&(await Promise.all(e.productIds.map(t=>c.findById(t)))).some(e=>e&&e.merchantId===t)&&r.push(e)}return r}},p={get:async t=>await d.get(`cart:${t}`)||{items:[],updatedAt:new Date().toISOString()},async update(t,e){e.updatedAt=new Date().toISOString(),await d.set(`cart:${t}`,e)},async addItem(t,e,r=1){let a=await this.get(t),i=a.items.find(t=>t.productId===e);i?i.quantity+=r:a.items.push({productId:e,quantity:r}),await this.update(t,a)},async removeItem(t,e){let r=await this.get(t);r.items=r.items.filter(t=>t.productId!==e),await this.update(t,r)},async clear(t){await d.set(`cart:${t}`,{items:[],updatedAt:new Date().toISOString()})},async getAbandonedCarts(){let t=await d.list("cart:"),e=[],r=new Date(Date.now()-864e5);for(let a of t){let t=await d.get(a);if(t&&t.items.length>0&&!t.reminderSent&&new Date(t.updatedAt)<r){let r=a.replace("cart:","");e.push({userId:r,cart:t})}}return e}},f={async create(t,e="Free"){let r={userId:t,tier:e,...{Free:{maxProducts:20,maxAdSlots:0,customerSupport:!1},Standard:{maxProducts:60,maxAdSlots:12,customerSupport:!0},Premium:{maxProducts:-1,maxAdSlots:-1,customerSupport:!0}}[e],quotaUsed:0,adSlotsUsed:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await d.set(`plan:${t}`,r),r},async get(t){return await d.get(`plan:${t}`)||await this.create(t,"Free")},async update(t,e){let r={...await this.get(t),...e,updatedAt:new Date().toISOString()};return await d.set(`plan:${t}`,r),r},async incrementQuota(t){let e=await this.get(t);e.quotaUsed+=1,await this.update(t,{quotaUsed:e.quotaUsed})},async decrementQuota(t){let e=await this.get(t);e.quotaUsed>0&&(e.quotaUsed-=1,await this.update(t,{quotaUsed:e.quotaUsed}))}},m={async create(t){let e={...t,id:(0,o.Z)(),createdAt:new Date().toISOString()};return await d.set(`ad:${e.id}`,e),e},findById:async t=>await d.get(`ad:${t}`),async findBySeller(t){let e=await d.list("ad:"),r=[];for(let a of e){let e=await d.get(a);e&&e.sellerId===t&&r.push(e)}return r},async getActiveAds(){let t=await d.list("ad:"),e=[],r=new Date;for(let a of t){let t=await d.get(a);t&&"active"===t.status&&new Date(t.activeFrom)<=r&&new Date(t.activeUntil)>=r&&e.push(t)}return e},async update(t,e){let r=await this.findById(t);if(!r)return null;let a={...r,...e};return await d.set(`ad:${t}`,a),a}},w={async create(t){let e={...t,status:"pending",submittedAt:new Date().toISOString()};return await d.set(`verification:${t.userId}`,e),e},get:async t=>await d.get(`verification:${t}`),async update(t,e){let r=await this.get(t);if(!r)return null;let a={...r,...e};return e.status&&"pending"!==e.status&&(a.reviewedAt=new Date().toISOString()),await d.set(`verification:${t}`,a),a},async getAll(){let t=await d.list("verification:"),e=[];for(let r of t){let t=await d.get(r);t&&e.push(t)}return e}},g={async create(t){let e={...t,createdAt:new Date().toISOString()};return await d.set(`rating:${t.productId}:${t.userId}`,e),e},get:async(t,e)=>await d.get(`rating:${t}:${e}`),async getByProduct(t){let e=await d.list(`rating:${t}:`),r=[];for(let t of e){let e=await d.get(t);e&&r.push(e)}return r},async getAverageRating(t){let e=await this.getByProduct(t);return 0===e.length?{average:0,count:0}:{average:Number((e.reduce((t,e)=>t+e.rating,0)/e.length).toFixed(1)),count:e.length}}},y={async create(t){let e={...t,id:(0,o.Z)(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await d.set(`comment:${e.id}`,e),e},async getByProduct(t){let e=await d.list("comment:"),r=[];for(let a of e){let e=await d.get(a);e&&e.productId===t&&r.push(e)}return r.sort((t,e)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime())},async getReplies(t){let e=await d.list("comment:"),r=[];for(let a of e){let e=await d.get(a);e&&e.parentId===t&&r.push(e)}return r.sort((t,e)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())},async update(t,e){let r=await d.get(`comment:${t}`);if(!r)return null;let a={...r,...e,updatedAt:new Date().toISOString()};return await d.set(`comment:${t}`,a),a},async delete(t){if(!await d.get(`comment:${t}`))return!1;for(let e of(await this.getReplies(t)))await d.delete(`comment:${e.id}`);return await d.delete(`comment:${t}`),!0}}},2867:(t,e,r)=>{"use strict";r.d(e,{SN:()=>o});var a=r(8570);let i=(0,a.createProxy)(String.raw`/home/runner/workspace/lib/hooks.ts`),{__esModule:n,$$typeof:s}=i;i.default,(0,a.createProxy)(String.raw`/home/runner/workspace/lib/hooks.ts#useFeatureAccess`);let o=(0,a.createProxy)(String.raw`/home/runner/workspace/lib/hooks.ts#getPlanAccess`);(0,a.createProxy)(String.raw`/home/runner/workspace/lib/hooks.ts#hasFeature`),(0,a.createProxy)(String.raw`/home/runner/workspace/lib/hooks.ts#usePlanAccess`),(0,a.createProxy)(String.raw`/home/runner/workspace/lib/hooks.ts#checkFeatureAccess`)},7371:(t,e,r)=>{"use strict";r.d(e,{default:()=>i.a});var a=r(1812),i=r.n(a)},8585:(t,e,r)=>{"use strict";var a=r(1085);r.o(a,"notFound")&&r.d(e,{notFound:function(){return a.notFound}}),r.o(a,"redirect")&&r.d(e,{redirect:function(){return a.redirect}})},1085:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var r in e)Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}(e,{ReadonlyURLSearchParams:function(){return s},RedirectType:function(){return a.RedirectType},notFound:function(){return i.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect}});let a=r(3953),i=r(6399);class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class s extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},6399:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var r in e)Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}(e,{isNotFoundError:function(){return i},notFound:function(){return a}});let r="NEXT_NOT_FOUND";function a(){let t=Error(r);throw t.digest=r,t}function i(t){return"object"==typeof t&&null!==t&&"digest"in t&&t.digest===r}("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},8586:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(t){t[t.SeeOther=303]="SeeOther",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},3953:(t,e,r)=>{"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var r in e)Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}(e,{RedirectType:function(){return a},getRedirectError:function(){return d},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return f},getURLFromRedirectError:function(){return p},isRedirectError:function(){return l},permanentRedirect:function(){return c},redirect:function(){return u}});let i=r(4580),n=r(2934),s=r(8586),o="NEXT_REDIRECT";function d(t,e,r){void 0===r&&(r=s.RedirectStatusCode.TemporaryRedirect);let a=Error(o);a.digest=o+";"+e+";"+t+";"+r+";";let n=i.requestAsyncStorage.getStore();return n&&(a.mutableCookies=n.mutableCookies),a}function u(t,e){void 0===e&&(e="replace");let r=n.actionAsyncStorage.getStore();throw d(t,e,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function c(t,e){void 0===e&&(e="replace");let r=n.actionAsyncStorage.getStore();throw d(t,e,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function l(t){if("object"!=typeof t||null===t||!("digest"in t)||"string"!=typeof t.digest)return!1;let[e,r,a,i]=t.digest.split(";",4),n=Number(i);return e===o&&("replace"===r||"push"===r)&&"string"==typeof a&&!isNaN(n)&&n in s.RedirectStatusCode}function p(t){return l(t)?t.digest.split(";",3)[2]:null}function f(t){if(!l(t))throw Error("Not a redirect error");return t.digest.split(";",2)[1]}function m(t){if(!l(t))throw Error("Not a redirect error");return Number(t.digest.split(";",4)[3])}(function(t){t.push="push",t.replace="replace"})(a||(a={})),("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},1812:(t,e,r)=>{"use strict";let{createProxy:a}=r(8570);t.exports=a("/home/runner/workspace/node_modules/next/dist/client/link.js")}};