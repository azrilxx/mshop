(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{7693:function(e,t,s){Promise.resolve().then(s.bind(s,8972))},8972:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(7437),r=s(2265),n=s(6463);function c(){(0,n.useRouter)();let[e,t]=(0,r.useState)(!1),[s,c]=(0,r.useState)({notifyOrder:!0,notifyStatus:!0,notifyMarketing:!1,whatsappNumber:""});(0,r.useEffect)(()=>{i()},[]);let i=async()=>{try{let e=await fetch("/api/user/preferences");if(e.ok){let t=await e.json();c(t)}}catch(e){console.error("Error fetching preferences:",e)}},l=async()=>{t(!0);try{(await fetch("/api/user/preferences",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok?alert("Preferences updated successfully!"):alert("Failed to update preferences")}catch(e){console.error("Error updating preferences:",e),alert("Failed to update preferences")}finally{t(!1)}};return(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Account Settings"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Contact Information"}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"whatsapp",className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Number"}),(0,a.jsx)("input",{type:"tel",id:"whatsapp",value:s.whatsappNumber,onChange:e=>c({...s,whatsappNumber:e.target.value}),placeholder:"+1234567890",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Include country code (e.g., +1 for US, +44 for UK). This will allow buyers to contact you via WhatsApp."})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Notification Preferences"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Order Notifications"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Get notified when orders are placed"})]}),(0,a.jsx)("input",{type:"checkbox",checked:s.notifyOrder,onChange:e=>c({...s,notifyOrder:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Status Updates"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Get notified about order status changes"})]}),(0,a.jsx)("input",{type:"checkbox",checked:s.notifyStatus,onChange:e=>c({...s,notifyStatus:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Marketing Emails"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Receive promotional and marketing emails"})]}),(0,a.jsx)("input",{type:"checkbox",checked:s.notifyMarketing,onChange:e=>c({...s,notifyMarketing:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]}),(0,a.jsx)("button",{onClick:l,disabled:e,className:"mt-6 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50",children:e?"Saving...":"Save Preferences"})]})]})})}},6463:function(e,t,s){"use strict";var a=s(1169);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=7693)}),_N_E=e.O()}]);