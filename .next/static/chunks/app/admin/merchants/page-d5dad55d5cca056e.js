(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[529],{6989:function(e,t,s){Promise.resolve().then(s.bind(s,1331))},1331:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(7437),i=s(2265),l=s(6463),n=s(5800),r=s(7293);function c(){let[e,t]=(0,i.useState)(null),[s,c]=(0,i.useState)([]),[d,o]=(0,i.useState)(!0),h=(0,l.useRouter)();(0,i.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await (0,n.Hw)(["admin"]);t(e),await x()}catch(e){console.error("Auth check failed:",e),h.push("/login")}},x=async()=>{try{let e=await r.ut.getUnverifiedSellers();c(e)}catch(e){console.error("Failed to load unverified sellers:",e)}finally{o(!1)}},u=async e=>{try{await fetch("/api/admin/merchants",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sellerId:e,action:"verify"})}),await x()}catch(e){console.error("Failed to verify seller:",e)}},f=async(e,t)=>{if(confirm("Are you sure you want to reject this seller?"))try{await fetch("/api/admin/merchants",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sellerId:e,action:"reject",reason:t})}),await x()}catch(e){console.error("Failed to reject seller:",e)}};return d?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-lg",children:"Loading..."})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Seller Verification"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Review and verify new seller applications"})]}),0===s.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Pending Verifications"}),(0,a.jsx)("p",{className:"text-gray-500",children:"All sellers have been verified."})]}):(0,a.jsx)("div",{className:"grid gap-6",children:s.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.fullName||e.email}),(0,a.jsx)("p",{className:"text-gray-600",children:e.email}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Applied: ",new Date(e.createdAt).toLocaleDateString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Status: Pending Verification"})]}),(0,a.jsxs)("div",{className:"flex space-x-3 ml-6",children:[(0,a.jsx)("button",{onClick:()=>u(e.id),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:"Verify"}),(0,a.jsx)("button",{onClick:()=>f(e.id),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"Reject"})]})]})},e.id))})]})})}}},function(e){e.O(0,[218,77,134,971,23,744],function(){return e(e.s=6989)}),_N_E=e.O()}]);