(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[138,404],{1409:function(t,a,s){Promise.resolve().then(s.bind(s,552)),Promise.resolve().then(s.bind(s,3770)),Promise.resolve().then(s.t.bind(s,231,23))},3770:function(t,a,s){"use strict";s.d(a,{getPlanAccess:function(){return o},yN:function(){return r}});var e=s(2265);function r(){let[t,a]=(0,e.useState)(null),[s,r]=(0,e.useState)(!0),[o,i]=(0,e.useState)(null);(0,e.useEffect)(()=>{n()},[]);let n=async()=>{try{let t=await fetch("/api/plan");if(!t.ok)throw Error("Failed to fetch plan");let s=await t.json();a(s)}catch(t){i(t.message)}finally{r(!1)}};return{featureAccess:t?{canCreateProducts:t.quotaUsed<t.maxProducts,canCreateAds:t.adSlotsUsed<t.maxAdSlots&&"Free"!==t.tier,canAccessMassShipment:"Standard"===t.tier||"Premium"===t.tier,canAccessReports:"Standard"===t.tier||"Premium"===t.tier,canAccessPrioritySupport:"Premium"===t.tier,hasAdSlotsAvailable:t.adSlotsUsed<t.maxAdSlots,hasProductSlotsAvailable:t.quotaUsed<t.maxProducts,remainingProducts:t.maxProducts-t.quotaUsed,remainingAdSlots:t.maxAdSlots-t.adSlotsUsed}:null,plan:t,loading:s,error:o}}function o(t){let a={Free:{maxProducts:20,maxAds:0,maxReports:0,hasShipment:!1,hasAnalytics:!1,hasPrioritySupport:!1},Standard:{maxProducts:60,maxAds:12,maxReports:30,hasShipment:!0,hasAnalytics:!0,hasPrioritySupport:!1},Premium:{maxProducts:-1,maxAds:-1,maxReports:-1,hasShipment:!0,hasAnalytics:!0,hasPrioritySupport:!0}}[t];return{canCreateProducts:t=>-1===a.maxProducts||t<a.maxProducts,getProductLimit:()=>a.maxProducts,getRemainingProducts:t=>-1===a.maxProducts?1/0:Math.max(0,a.maxProducts-t),canCreateAds:t=>-1===a.maxAds||t<a.maxAds,getAdLimit:()=>a.maxAds,getRemainingAds:t=>-1===a.maxAds?1/0:Math.max(0,a.maxAds-t),canAccessReports:t=>-1===a.maxReports||t<a.maxReports,getReportLimit:()=>a.maxReports,getRemainingReports:t=>-1===a.maxReports?1/0:Math.max(0,a.maxReports-t),hasFeature:t=>({shipment:a.hasShipment,analytics:a.hasAnalytics,priority_support:a.hasPrioritySupport,ads:a.maxAds>0,reports:a.maxReports>0})[t]||!1,getPlanLimits:()=>a,isUnlimited:t=>-1===({products:a.maxProducts,ads:a.maxAds,reports:a.maxReports})[t]}}}},function(t){t.O(0,[388,552,971,23,744],function(){return t(t.s=1409)}),_N_E=t.O()}]);