(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[404],{2268:function(e,t,s){Promise.resolve().then(s.bind(s,9833))},9833:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(7437),r=s(2265),l=s(7138),d=s(1426);function c(){let{plan:e,usage:t,featureAccess:s,loading:c}=(0,d.R9)(),[n,i]=(0,r.useState)([]),[o,u]=(0,r.useState)([]),[x,m]=(0,r.useState)(!0),[h,p]=(0,r.useState)("");(0,r.useEffect)(()=>{g()},[]);let g=async()=>{try{let[e,t]=await Promise.all([fetch("/api/products?userProducts=true"),fetch("/api/orders")]);if(!e.ok||!t.ok)throw Error("Failed to fetch data");let[s,a]=await Promise.all([e.json(),t.json()]);i(s),u(a)}catch(e){p(e.message)}finally{m(!1)}};return x||c||!e||!t?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Seller Dashboard"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Plan Status"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Current Plan"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:e.tier})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Products Used"}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[t.productsCreated," / ",-1===e.maxProducts?"∞":e.maxProducts]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Ad Slots Used"}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[t.adsCreated," / ",-1===e.maxAdSlots?"∞":e.maxAdSlots]})]})]}),(0,a.jsx)(l.default,{href:"/seller/plan",className:"mt-4 inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Manage Plan"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Total Products"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:n.length})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Total Orders"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600",children:o.length})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Quote Requests"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:"0"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Revenue"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:["$",o.reduce((e,t)=>e+t.totalPrice,0).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,a.jsx)(l.default,{href:"/seller/products/create",className:"bg-blue-600 text-white p-4 rounded-lg text-center hover:bg-blue-700 ".concat((null==s?void 0:s.canCreateProducts)?"":"opacity-50 cursor-not-allowed"),children:"Add New Product"}),(0,a.jsx)(l.default,{href:"/seller/ads/create",className:"bg-green-600 text-white p-4 rounded-lg text-center hover:bg-green-700 ".concat((null==s?void 0:s.canCreateAds)?"":"opacity-50 cursor-not-allowed"),children:"Create Advertisement"}),(0,a.jsx)(l.default,{href:"/seller/verify",className:"bg-purple-600 text-white p-4 rounded-lg text-center hover:bg-purple-700",children:"Get Verified"}),(0,a.jsx)(l.default,{href:"/seller/reports",className:"bg-orange-600 text-white p-4 rounded-lg text-center hover:bg-orange-700",children:"View Reports"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,a.jsx)("div",{className:"border-b",children:(0,a.jsxs)("nav",{className:"-mb-px flex space-x-8 px-6",children:[(0,a.jsx)("button",{className:"border-b-2 border-blue-500 py-4 px-1 text-blue-600 font-medium",children:"Products"}),(0,a.jsx)("button",{className:"border-b-2 border-transparent py-4 px-1 text-gray-500 hover:text-gray-700",children:"Quotes (0)"})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Your Products"}),(0,a.jsx)(l.default,{href:"/seller/products/create",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 ".concat((null==s?void 0:s.canCreateProducts)?"":"opacity-50 cursor-not-allowed"),children:"Add Product"})]}),0===n.length?(0,a.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No products yet. Create your first product to get started!"}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full table-auto",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("th",{className:"text-left py-2",children:"Name"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Category"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Type"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Price"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Location"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Status"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Created"})]})}),(0,a.jsx)("tbody",{children:n.slice(0,5).map(e=>(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("td",{className:"py-2",children:e.name}),(0,a.jsx)("td",{className:"py-2",children:e.category}),(0,a.jsx)("td",{className:"py-2",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("rfq"===e.listingType?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"rfq"===e.listingType?"RFQ":"Fixed"})}),(0,a.jsx)("td",{className:"py-2",children:"rfq"===e.listingType?"Quote":"$".concat(e.price.toFixed(2))}),(0,a.jsx)("td",{className:"py-2",children:e.location?"".concat(e.location.city,", ").concat(e.location.country):"-"}),(0,a.jsx)("td",{className:"py-2",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,a.jsx)("td",{className:"py-2",children:new Date(e.createdAt).toLocaleDateString()})]},e.id))})]})})]}),(0,a.jsxs)("div",{className:"border-t p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Quote Requests"}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)("p",{children:"No quotes"})})]})]})]})}},1426:function(e,t,s){"use strict";s.d(t,{getPlanAccess:function(){return x},yN:function(){return m},R9:function(){return u}});var a=s(2265);let r={Free:{maxProducts:5,maxAds:0,maxReports:0,hasAdvancedAnalytics:!1,hasPrioritySupport:!1,hasUnlimitedFeatures:!1},Standard:{maxProducts:30,maxAds:12,maxReports:30,hasAdvancedAnalytics:!0,hasPrioritySupport:!1,hasUnlimitedFeatures:!1},Premium:{maxProducts:-1,maxAds:-1,maxReports:-1,hasAdvancedAnalytics:!0,hasPrioritySupport:!0,hasUnlimitedFeatures:!0}};function l(e,t){let s=r[e];return -1===s.maxProducts||t<s.maxProducts}function d(e,t){let s=r[e];return -1===s.maxAds||t<s.maxAds}function c(e,t){let s=r[e];return -1===s.maxReports||t<s.maxReports}function n(e,t){let s=r[e];return -1===s.maxProducts?1/0:Math.max(0,s.maxProducts-t)}function i(e,t){let s=r[e];return -1===s.maxAds?1/0:Math.max(0,s.maxAds-t)}function o(e,t){let s=r[e];return -1===s.maxReports?1/0:Math.max(0,s.maxReports-t)}function u(){let[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(null),[u,x]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{p()},[]);let p=async()=>{try{x(!0);let[e,s]=await Promise.all([fetch("/api/plan"),fetch("/api/plan/usage")]);if(!e.ok||!s.ok)throw Error("Failed to fetch plan data");let a=await e.json(),l=await s.json();t(a),r(l)}catch(e){h(e.message)}finally{x(!1)}},g=e&&s?{canCreateProducts:l(e.tier,s.productsCreated),canCreateAds:d(e.tier,s.adsCreated),canAccessReports:c(e.tier,s.reportsGenerated),canAccessMassShipment:"Standard"===e.tier||"Premium"===e.tier,canAccessPrioritySupport:"Premium"===e.tier,hasAdSlotsAvailable:d(e.tier,s.adsCreated),hasProductSlotsAvailable:l(e.tier,s.productsCreated),remainingProducts:n(e.tier,s.productsCreated),remainingAdSlots:i(e.tier,s.adsCreated),remainingReports:o(e.tier,s.reportsGenerated),upgradeMessage:"Free"===e.tier?"Upgrade to Standard for 30 products and 12 ads per month":"Standard"===e.tier?"Upgrade to Premium for unlimited products and ads":"You have unlimited access to all features"}:null;return{plan:e,usage:s,featureAccess:g,loading:u,error:m,refetch:p}}function x(e){let t=r[e];return{canCreateProducts:t=>l(e,t),getProductLimit:()=>t.maxProducts,getRemainingProducts:t=>n(e,t),canCreateAds:t=>d(e,t),getAdLimit:()=>t.maxAds,getRemainingAds:t=>i(e,t),canAccessReports:t=>c(e,t),getReportLimit:()=>t.maxReports,getRemainingReports:t=>o(e,t),hasFeature:s=>({shipment:"Standard"===e||"Premium"===e,analytics:t.hasAdvancedAnalytics,priority_support:t.hasPrioritySupport,ads:t.maxAds>0,reports:t.maxReports>0})[s]||!1,getPlanLimits:()=>t,isUnlimited:e=>-1===({products:t.maxProducts,ads:t.maxAds,reports:t.maxReports})[e]}}function m(e){let[t,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async function(){try{s(!0)}catch(e){s(!1)}finally{l(!1)}})()},[e]),{hasAccess:t,loading:r}}},7138:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var a=s(231),r=s.n(a)}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=2268)}),_N_E=e.O()}]);