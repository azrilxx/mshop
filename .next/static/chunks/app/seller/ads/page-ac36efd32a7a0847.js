(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{8151:function(e,t,a){Promise.resolve().then(a.bind(a,2779))},2779:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var s=a(7437),r=a(2265),i=a(7138),n=a(1426);function d(){let[e,t]=(0,r.useState)([]),[a,d]=(0,r.useState)(!0),[c,l]=(0,r.useState)(""),{hasAccess:o,loading:m}=(0,n.yN)("createAds");(0,r.useEffect)(()=>{u()},[]);let u=async()=>{try{let e=await fetch("/api/ads?sellerId=current");if(!e.ok)throw Error("Failed to fetch ads");let a=await e.json();t(a)}catch(e){l(e.message)}finally{d(!1)}},x=async(a,s)=>{try{if(!(await fetch("/api/ads",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({adId:a,status:s})})).ok)throw Error("Failed to update ad status");t(e.map(e=>e.id===a?{...e,status:s}:e))}catch(e){l(e.message)}},h=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"expired":return"bg-red-100 text-red-800"}};return a||m?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-gray-600",children:"Loading ads..."})}):o?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(i.default,{href:"/seller",className:"text-blue-600 hover:text-blue-800",children:"← Back to Seller Center"})}),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Advertisements"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Ad Slots: 0/3 used"})]}),o?(0,s.jsx)(i.default,{href:"/seller/ads/create",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Create New Ad"}):(0,s.jsx)("button",{disabled:!0,className:"bg-gray-400 text-white px-4 py-2 rounded-md cursor-not-allowed",children:"No Ad Slots Available"})]}),c&&(0,s.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:(0,s.jsx)("div",{className:"text-red-700",children:c})}),0===e.length?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-500",children:"No advertisements yet. Create your first ad!"})}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,s.jsxs)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[(0,s.jsx)("div",{className:"aspect-w-16 aspect-h-9",children:(0,s.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-48 object-cover"})}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(h(e.status)),children:e.status})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-3",children:(0,s.jsxs)("p",{children:["Active: ",new Date(e.activeFrom).toLocaleDateString()," - ",new Date(e.activeUntil).toLocaleDateString()]})}),(0,s.jsxs)("div",{className:"flex space-x-2",children:["active"===e.status&&(0,s.jsx)("button",{onClick:()=>x(e.id,"inactive"),className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded hover:bg-red-200",children:"Deactivate"}),"inactive"===e.status&&new Date(e.activeUntil)>new Date&&(0,s.jsx)("button",{onClick:()=>x(e.id,"active"),className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded hover:bg-green-200",children:"Activate"})]})]})]},e.id))})]})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(i.default,{href:"/seller",className:"text-blue-600 hover:text-blue-800",children:"← Back to Seller Center"})}),(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("svg",{className:"h-16 w-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Advertisements Not Available"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Upgrade to Standard or Premium plan to access advertisement features."}),(0,s.jsx)(i.default,{href:"/seller/plan",className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700",children:"Upgrade Plan"})]})]})})})}},1426:function(e,t,a){"use strict";a.d(t,{getPlanAccess:function(){return u},yN:function(){return x},R9:function(){return m}});var s=a(2265);let r={Free:{maxProducts:5,maxAds:0,maxReports:0,hasAdvancedAnalytics:!1,hasPrioritySupport:!1,hasUnlimitedFeatures:!1},Standard:{maxProducts:30,maxAds:12,maxReports:30,hasAdvancedAnalytics:!0,hasPrioritySupport:!1,hasUnlimitedFeatures:!1},Premium:{maxProducts:-1,maxAds:-1,maxReports:-1,hasAdvancedAnalytics:!0,hasPrioritySupport:!0,hasUnlimitedFeatures:!0}};function i(e,t){let a=r[e];return -1===a.maxProducts||t<a.maxProducts}function n(e,t){let a=r[e];return -1===a.maxAds||t<a.maxAds}function d(e,t){let a=r[e];return -1===a.maxReports||t<a.maxReports}function c(e,t){let a=r[e];return -1===a.maxProducts?1/0:Math.max(0,a.maxProducts-t)}function l(e,t){let a=r[e];return -1===a.maxAds?1/0:Math.max(0,a.maxAds-t)}function o(e,t){let a=r[e];return -1===a.maxReports?1/0:Math.max(0,a.maxReports-t)}function m(){let[e,t]=(0,s.useState)(null),[a,r]=(0,s.useState)(null),[m,u]=(0,s.useState)(!0),[x,h]=(0,s.useState)(null);(0,s.useEffect)(()=>{p()},[]);let p=async()=>{try{u(!0);let[e,a]=await Promise.all([fetch("/api/plan"),fetch("/api/plan/usage")]);if(!e.ok||!a.ok)throw Error("Failed to fetch plan data");let s=await e.json(),i=await a.json();t(s),r(i)}catch(e){h(e.message)}finally{u(!1)}},g=e&&a?{canCreateProducts:i(e.tier,a.productsCreated),canCreateAds:n(e.tier,a.adsCreated),canAccessReports:d(e.tier,a.reportsGenerated),canAccessMassShipment:"Standard"===e.tier||"Premium"===e.tier,canAccessPrioritySupport:"Premium"===e.tier,hasAdSlotsAvailable:n(e.tier,a.adsCreated),hasProductSlotsAvailable:i(e.tier,a.productsCreated),remainingProducts:c(e.tier,a.productsCreated),remainingAdSlots:l(e.tier,a.adsCreated),remainingReports:o(e.tier,a.reportsGenerated),upgradeMessage:"Free"===e.tier?"Upgrade to Standard for 30 products and 12 ads per month":"Standard"===e.tier?"Upgrade to Premium for unlimited products and ads":"You have unlimited access to all features"}:null;return{plan:e,usage:a,featureAccess:g,loading:m,error:x,refetch:p}}function u(e){let t=r[e];return{canCreateProducts:t=>i(e,t),getProductLimit:()=>t.maxProducts,getRemainingProducts:t=>c(e,t),canCreateAds:t=>n(e,t),getAdLimit:()=>t.maxAds,getRemainingAds:t=>l(e,t),canAccessReports:t=>d(e,t),getReportLimit:()=>t.maxReports,getRemainingReports:t=>o(e,t),hasFeature:a=>({shipment:"Standard"===e||"Premium"===e,analytics:t.hasAdvancedAnalytics,priority_support:t.hasPrioritySupport,ads:t.maxAds>0,reports:t.maxReports>0})[a]||!1,getPlanLimits:()=>t,isUnlimited:e=>-1===({products:t.maxProducts,ads:t.maxAds,reports:t.maxReports})[e]}}function x(e){let[t,a]=(0,s.useState)(!1),[r,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async function(){try{a(!0)}catch(e){a(!1)}finally{i(!1)}})()},[e]),{hasAccess:t,loading:r}}},7138:function(e,t,a){"use strict";a.d(t,{default:function(){return r.a}});var s=a(231),r=a.n(s)}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=8151)}),_N_E=e.O()}]);