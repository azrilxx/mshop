(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[805],{7156:function(e,t,r){Promise.resolve().then(r.bind(r,4650))},4650:function(e,t,r){"use strict";r.d(t,{default:function(){return o}});var n=r(7437),s=r(2265),i=r(6463),l=r(3698),a=r(7669);function o(){let e=(0,i.useRouter)(),[t,r]=(0,s.useState)(!1),[o,c]=(0,s.useState)({name:"",description:"",price:"",category:"",listingType:"fixed",location:{city:"",country:""},images:[],certifications:[],tags:[],stock:""}),u=async e=>{let t=e.target.files;if(t){let e=Array.from(t).map(async e=>{let t=new FormData;t.append("file",e),t.append("type","certification");let r=await fetch("/api/upload",{method:"POST",body:t});if(r.ok){let{url:e}=await r.json();return e}return null}),r=(await Promise.all(e)).filter(e=>null!==e);c({...o,certifications:[...o.certifications,...r]})}},d=e=>{let t=o.certifications.filter((t,r)=>r!==e);c({...o,certifications:t})},m=e=>{let{name:t,value:r}=e.target;c(e=>({...e,[t]:r}))},p=async t=>{t.preventDefault(),r(!0);try{(await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,price:"fixed"===o.listingType?parseFloat(o.price):0,stock:o.stock?parseInt(o.stock):null})})).ok?e.push("/seller"):alert("Failed to create product")}catch(e){console.error("Error creating product:",e),alert("Failed to create product")}finally{r(!1)}};return(0,n.jsxs)("form",{onSubmit:p,className:"space-y-6 bg-white p-6 rounded-lg shadow",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name"}),(0,n.jsx)("input",{type:"text",id:"name",value:o.name,onChange:e=>m(e),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,n.jsx)("textarea",{id:"description",value:o.description,onChange:e=>m(e),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,n.jsxs)("select",{id:"category",value:o.category,onChange:e=>m(e),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,n.jsx)("option",{value:"",children:"Select a category"}),l.H.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Listing Type"}),(0,n.jsxs)("div",{className:"flex space-x-4",children:[(0,n.jsxs)("label",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"radio",name:"listingType",value:"fixed",checked:"fixed"===o.listingType,onChange:e=>m(e),className:"mr-2"}),"Fixed Price"]}),(0,n.jsxs)("label",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"radio",name:"listingType",value:"rfq",checked:"rfq"===o.listingType,onChange:e=>m(e),className:"mr-2"}),"Request for Quotation"]})]})]}),"fixed"===o.listingType&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Price ($)"}),(0,n.jsx)("input",{type:"number",id:"price",name:"price",step:"0.01",value:o.price,onChange:e=>m(e),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),"fixed"===o.listingType&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity (leave blank for unlimited)"}),(0,n.jsx)("input",{type:"number",id:"stock",name:"stock",value:o.stock,onChange:e=>m(e),min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Leave blank for unlimited stock"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,n.jsx)("input",{type:"text",id:"city",value:o.location.city,onChange:e=>c({...o,location:{...o.location,city:e.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),(0,n.jsx)("input",{type:"text",id:"country",value:o.location.country,onChange:e=>c({...o,location:{...o.location,country:e.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"certifications",className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications (Optional)"}),(0,n.jsx)("input",{type:"file",id:"certifications",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Upload certification documents (PDF, JPG, PNG)"}),o.certifications.length>0&&(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Uploaded Certifications:"}),(0,n.jsx)("div",{className:"space-y-2",children:o.certifications.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600",children:e.split("/").pop()}),(0,n.jsx)("button",{type:"button",onClick:()=>d(t),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]},t))})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,n.jsx)(a.Z,{tags:o.tags,onChange:e=>c({...o,tags:e}),placeholder:"Add tags to help buyers find your product..."})]}),(0,n.jsx)("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50",children:t?"Creating...":"Create Product"})]})}},7669:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(7437),s=r(2265);let i=["Nickel Alloy","Rental","Sour Gas","Inspection","Valve","CRA","Geothermal","Subsea","Storage","Welding","API Standard","ASTM","High Pressure","Corrosion Resistant","Stainless Steel","Carbon Steel","Duplex Steel","Heat Transfer","Pipeline","Offshore","Well Control","Drilling","PDC","BOP","Christmas Tree","Flow Meter","Measurement","Digital","Non-Invasive","IP68","TEMA","Process Equipment"];function l(e){let{tags:t,onChange:r,placeholder:l="Add tags..."}=e,[a,o]=(0,s.useState)(""),[c,u]=(0,s.useState)([]),[d,m]=(0,s.useState)(!1),[p,f]=(0,s.useState)(-1),x=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(a.trim()){let e=i.filter(e=>e.toLowerCase().includes(a.toLowerCase().trim())&&!t.includes(e));u(e),m(e.length>0)}else u([]),m(!1);f(-1)},[a,t]);let g=e=>{let n=e.trim();n&&!t.includes(n)&&r([...t,n]),o(""),m(!1),f(-1)},b=e=>{r(t.filter((t,r)=>r!==e))},h=e=>{var t;g(e),null===(t=x.current)||void 0===t||t.focus()};return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{className:"min-h-[42px] p-2 border border-gray-300 rounded-md focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500",children:[(0,n.jsx)("div",{className:"flex flex-wrap gap-1 mb-1",children:t.map((e,t)=>(0,n.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-md",children:[e,(0,n.jsx)("button",{type:"button",onClick:()=>b(t),className:"ml-1 text-blue-600 hover:text-blue-800",children:"\xd7"})]},t))}),(0,n.jsx)("input",{ref:x,type:"text",value:a,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),p>=0&&c[p]?g(c[p]):a.trim()&&g(a)):"ArrowDown"===e.key?(e.preventDefault(),f(e=>e<c.length-1?e+1:e)):"ArrowUp"===e.key?(e.preventDefault(),f(e=>e>0?e-1:-1)):"Escape"===e.key&&(m(!1),f(-1))},onFocus:()=>{c.length>0&&m(!0)},onBlur:()=>{setTimeout(()=>m(!1),150)},placeholder:0===t.length?l:"",className:"w-full border-none outline-none bg-transparent text-sm"})]}),d&&c.length>0&&(0,n.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-40 overflow-y-auto",children:c.map((e,t)=>(0,n.jsx)("button",{type:"button",onClick:()=>h(e),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 ".concat(t===p?"bg-blue-50 text-blue-600":""),children:e},e))})]})}},3698:function(e,t,r){"use strict";r.d(t,{H:function(){return n}});let n=["Flanges","Rope Access Equipment","Subsea Connectors","Pipe Cleaning Tools","Pressure Testing Units","Rental Tanks","Measurement & Instrumentation"]},6463:function(e,t,r){"use strict";var n=r(1169);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=7156)}),_N_E=e.O()}]);